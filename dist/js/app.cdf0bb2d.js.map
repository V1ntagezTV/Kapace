{"version":3,"file":"js/app.cdf0bb2d.js","mappings":"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","sources":["webpack://kapace-testing/./node_modules/moment/locale/ sync ^\\.\\/.*$","webpack://kapace-testing/./src/api/ApiService.ts","webpack://kapace-testing/./src/api/TranslationService.ts","webpack://kapace-testing/./src/components/Base/BaseButton.vue?0dd0","webpack://kapace-testing/./src/components/Base/BaseButton.vue","webpack://kapace-testing/./src/components/Base/BaseTextButton.vue","webpack://kapace-testing/./src/components/Base/BaseTextButton.vue?a6b4","webpack://kapace-testing/./src/components/Base/BaseDropMenu.vue?a163","webpack://kapace-testing/./src/components/Base/BaseDropMenu.vue","webpack://kapace-testing/./src/components/Base/BaseDropMenu.vue?09af","webpack://kapace-testing/./src/components/Icons/UserIcon.vue","webpack://kapace-testing/./src/components/Icons/UserIcon.vue?74a5","webpack://kapace-testing/./src/components/Icons/LogOutIcon.vue","webpack://kapace-testing/./src/components/Icons/LogOutIcon.vue?cbcd","webpack://kapace-testing/./src/store/UserStore.ts","webpack://kapace-testing/./src/components/Icons/MaterialDropArrow.vue","webpack://kapace-testing/./src/components/Icons/MaterialDropArrow.vue?2ab1","webpack://kapace-testing/./src/components/Base/BaseBackground.vue?a71e","webpack://kapace-testing/./src/components/Base/BaseBackground.vue","webpack://kapace-testing/./src/components/Base/BaseBackground.vue?64bf","webpack://kapace-testing/./src/components/UseReadyComponents/MaterialComponents/FilterChips.vue?d6d5","webpack://kapace-testing/./src/components/UseReadyComponents/MaterialComponents/FilterChips.vue","webpack://kapace-testing/./src/components/Base/Selector/Internal/MenuAlignment.ts","webpack://kapace-testing/./src/components/Base/Selector/BaseSelector.vue?bade","webpack://kapace-testing/./src/components/Base/Selector/BaseSelector.vue","webpack://kapace-testing/./src/components/Base/Selector/BaseSelector.vue?76af","webpack://kapace-testing/./src/components/Icons/DetailsIcon.vue","webpack://kapace-testing/./src/components/Icons/DetailsIcon.vue?dbcd","webpack://kapace-testing/./src/components/Icons/MenuIcon.vue","webpack://kapace-testing/./src/components/Icons/MenuIcon.vue?05f2","webpack://kapace-testing/./src/components/Headers/PrimaryHeader.vue?e720","webpack://kapace-testing/./src/components/Headers/PrimaryHeader.vue","webpack://kapace-testing/./src/components/Headers/PrimaryHeader.vue?e1ee","webpack://kapace-testing/./src/api/Enums/MainPageType.ts","webpack://kapace-testing/./src/api/Enums/ContentSelectedInfo.ts","webpack://kapace-testing/./src/api/Requests/V1GetFullContentRequest.ts","webpack://kapace-testing/./src/api/ContentService.ts","webpack://kapace-testing/./src/api/ImageService.ts","webpack://kapace-testing/./src/api/ChangesHistoryService.ts","webpack://kapace-testing/./src/api/EpisodeService.ts","webpack://kapace-testing/./src/api/TranslatorService.ts","webpack://kapace-testing/./src/store/ClientEventStore.ts","webpack://kapace-testing/./src/components/AutoHide.vue?5576","webpack://kapace-testing/./src/components/AutoHide.vue","webpack://kapace-testing/./src/components/AutoHide.vue?6b05","webpack://kapace-testing/./src/api/GenreService.ts","webpack://kapace-testing/./src/api/UserApi.ts","webpack://kapace-testing/./src/api/FavoriteApi.ts","webpack://kapace-testing/./src/App.vue","webpack://kapace-testing/./src/App.vue?7ccd","webpack://kapace-testing/./src/components/Icons/FavoriteIcon.vue","webpack://kapace-testing/./src/components/Icons/FavoriteIcon.vue?41c2","webpack://kapace-testing/./src/options/OptionsApi.ts","webpack://kapace-testing/./src/components/Body/Search/SearchItem.vue?b4ca","webpack://kapace-testing/./src/components/Body/Search/SearchItem.vue","webpack://kapace-testing/./src/components/Body/Search/SearchItem.vue?c47f","webpack://kapace-testing/./src/api/Enums/Country.ts","webpack://kapace-testing/./src/components/Body/Search/SearchItemViewFactory.ts","webpack://kapace-testing/./src/components/Body/BodyComponents/ScrollContentComponent.vue?af2f","webpack://kapace-testing/./src/components/Body/BodyComponents/ScrollContentComponent.vue","webpack://kapace-testing/./src/components/Body/BodyComponents/ScrollContentComponent.vue?9870","webpack://kapace-testing/./src/views/HomeView.vue?3ba6","webpack://kapace-testing/./src/views/HomeView.vue","webpack://kapace-testing/./src/views/HomeView.vue?1da1","webpack://kapace-testing/./src/components/Search/Filter/FilterUnit.vue","webpack://kapace-testing/./src/api/Requests/V1GetByQueryRequest.ts","webpack://kapace-testing/./src/api/Enums/ContentType.ts","webpack://kapace-testing/./src/api/Enums/ContentStatus.ts","webpack://kapace-testing/./src/components/Search/Models/FilterTypes.ts","webpack://kapace-testing/./src/components/Search/Models/FilterUnitModel.ts","webpack://kapace-testing/./src/components/Base/BaseInput.vue?fb6b","webpack://kapace-testing/./src/components/Base/BaseInput.vue","webpack://kapace-testing/./src/components/Base/BaseInput.vue?c483","webpack://kapace-testing/./src/components/Icons/LoopIcon.vue","webpack://kapace-testing/./src/components/Icons/LoopIcon.vue?6788","webpack://kapace-testing/./src/components/Base/Buttons/IconButton.vue","webpack://kapace-testing/./src/components/Base/Buttons/IconButton.vue?d225","webpack://kapace-testing/./src/components/Icons/xIcon.vue","webpack://kapace-testing/./src/components/Icons/xIcon.vue?519b","webpack://kapace-testing/./src/components/Base/Selector/AsyncSearchSelector.vue?8362","webpack://kapace-testing/./src/components/Base/Selector/AsyncSearchSelector.vue","webpack://kapace-testing/./src/components/Base/Selector/AsyncSearchSelector.vue?14d0","webpack://kapace-testing/./src/views/SearchView.vue?c0eb","webpack://kapace-testing/./src/views/SearchView.vue","webpack://kapace-testing/./src/views/SearchView.vue?f97a","webpack://kapace-testing/./src/components/Profile/ProfileMenu.vue?efdd","webpack://kapace-testing/./src/components/Profile/ProfileMenu.vue","webpack://kapace-testing/./src/components/Profile/AvatarComponent.vue?5f21","webpack://kapace-testing/./src/components/Profile/AvatarComponent.vue","webpack://kapace-testing/./src/components/Profile/AvatarComponent.vue?9f28","webpack://kapace-testing/./src/components/Icons/StarIcon.vue","webpack://kapace-testing/./src/components/Icons/StarIcon.vue?449d","webpack://kapace-testing/./src/models/FavoriteStatuses.ts","webpack://kapace-testing/./src/views/ProfileView.vue?78e2","webpack://kapace-testing/./src/views/ProfileView.vue","webpack://kapace-testing/./src/views/ProfileView.vue?3e49","webpack://kapace-testing/./src/helpers/StringExtensions.ts","webpack://kapace-testing/./src/components/Icons/MaterialIcons/Eye.vue","webpack://kapace-testing/./src/components/Icons/MaterialIcons/Eye.vue?fe73","webpack://kapace-testing/./src/components/Icons/EyeCross.vue","webpack://kapace-testing/./src/components/Icons/EyeCross.vue?f2d6","webpack://kapace-testing/./src/views/LogInView.vue?1839","webpack://kapace-testing/./src/views/LogInView.vue","webpack://kapace-testing/./src/views/LogInView.vue?0681","webpack://kapace-testing/./src/components/Base/ModalWindow.vue?e1c3","webpack://kapace-testing/./src/components/Base/ModalWindow.vue","webpack://kapace-testing/./src/components/Base/ModalWindow.vue?86e0","webpack://kapace-testing/./src/components/Modal/EmailVerificationModal.vue?311f","webpack://kapace-testing/./src/components/Modal/EmailVerificationModal.vue","webpack://kapace-testing/./src/components/Modal/EmailVerificationModal.vue?eea6","webpack://kapace-testing/./src/views/RegistrationView.vue?da7a","webpack://kapace-testing/./src/views/RegistrationView.vue","webpack://kapace-testing/./src/views/RegistrationView.vue?8b3d","webpack://kapace-testing/./src/components/Icons/HeartSVG.vue?3aef","webpack://kapace-testing/./src/components/Icons/HeartSVG.vue","webpack://kapace-testing/./src/components/Icons/HeartSVG.vue?7983","webpack://kapace-testing/./src/components/Theater/TheaterDetails.vue?742d","webpack://kapace-testing/./src/components/Theater/TheaterDetails.vue","webpack://kapace-testing/./src/components/Theater/TheaterDetails.vue?1336","webpack://kapace-testing/./src/components/Theater/TheaterAvatar.vue?81cb","webpack://kapace-testing/./src/components/Theater/TheaterAvatar.vue","webpack://kapace-testing/./src/components/Theater/TheaterAvatar.vue?3c16","webpack://kapace-testing/./src/components/Icons/MaterialIcons/Star.vue","webpack://kapace-testing/./src/components/Icons/MaterialIcons/Star.vue?1bbd","webpack://kapace-testing/./src/components/UseReadyComponents/EpisodesList/TranslationsListViewModel.ts","webpack://kapace-testing/./src/components/UseReadyComponents/EpisodesList/TranslationsListComponentV2.vue?f35a","webpack://kapace-testing/./src/components/UseReadyComponents/EpisodesList/TranslationsListComponentV2.vue","webpack://kapace-testing/./src/components/UseReadyComponents/EpisodesList/TranslationsListComponentV2.vue?a0cd","webpack://kapace-testing/./src/api/Requests/V1GetByEpisodeRequest.ts","webpack://kapace-testing/./src/views/TheaterView.vue?d946","webpack://kapace-testing/./src/views/TheaterView.vue","webpack://kapace-testing/./src/views/TheaterView.vue?24d4","webpack://kapace-testing/./src/views/RestorePasswordView.vue?6d5b","webpack://kapace-testing/./src/views/RestorePasswordView.vue","webpack://kapace-testing/./src/views/RestorePasswordView.vue?88ff","webpack://kapace-testing/./src/components/Icons/MaterialIcons/NavLeftArrowIcon.vue","webpack://kapace-testing/./src/components/Icons/MaterialIcons/NavLeftArrowIcon.vue?57f8","webpack://kapace-testing/./src/components/Icons/MaterialIcons/NavRightArrowIcon.vue","webpack://kapace-testing/./src/components/Icons/MaterialIcons/NavRightArrowIcon.vue?b6ab","webpack://kapace-testing/./src/views/EpisodeView.vue?112d","webpack://kapace-testing/./src/views/EpisodeView.vue","webpack://kapace-testing/./src/views/EpisodeView.vue?0843","webpack://kapace-testing/./src/models/SettingsPageTypes.ts","webpack://kapace-testing/./src/components/Icons/FolderIcon.vue","webpack://kapace-testing/./src/components/Icons/FolderIcon.vue?b80a","webpack://kapace-testing/./src/components/Icons/AddNote.vue","webpack://kapace-testing/./src/components/Icons/AddNote.vue?6643","webpack://kapace-testing/./src/components/Icons/AddLibraryIcon.vue","webpack://kapace-testing/./src/components/Icons/AddLibraryIcon.vue?44a0","webpack://kapace-testing/./src/components/Settings/SettingsNavigation.vue?119e","webpack://kapace-testing/./src/components/Settings/SettingsNavigation.vue","webpack://kapace-testing/./src/components/Settings/SettingsNavigation.vue?7c47","webpack://kapace-testing/./src/components/Base/TimePicker.vue?b18a","webpack://kapace-testing/./src/components/Base/TimePicker.vue","webpack://kapace-testing/./src/components/Base/TimePicker.vue?a83b","webpack://kapace-testing/./src/components/Base/DatePicker.vue?cd0d","webpack://kapace-testing/./src/components/Base/DatePicker.vue","webpack://kapace-testing/./src/components/Base/DatePicker.vue?f59b","webpack://kapace-testing/./src/components/Base/BaseTextArea.vue?fcb5","webpack://kapace-testing/./src/components/Base/BaseTextArea.vue","webpack://kapace-testing/./src/components/Icons/UploadArrow.vue","webpack://kapace-testing/./src/components/Icons/UploadArrow.vue?ea24","webpack://kapace-testing/./src/components/Base/BaseImageInput.vue?efd9","webpack://kapace-testing/./src/components/Base/BaseImageInput.vue","webpack://kapace-testing/./src/components/Base/BaseImageInput.vue?4f37","webpack://kapace-testing/./src/components/EditViews/ContentEditorComponent.vue?9409","webpack://kapace-testing/./src/components/EditViews/ContentEditorComponent.vue","webpack://kapace-testing/./src/components/EditViews/ContentEditorComponent.vue?2e7d","webpack://kapace-testing/./src/api/Enums/TranslationType.ts","webpack://kapace-testing/./src/api/Enums/Language.ts","webpack://kapace-testing/./src/components/EditViews/EpisodeEditorComponent.vue?2ecd","webpack://kapace-testing/./src/components/EditViews/EpisodeEditorComponent.vue","webpack://kapace-testing/./src/components/EditViews/EpisodeEditorComponent.vue?fd8f","webpack://kapace-testing/./src/api/Enums/HistoryType.ts","webpack://kapace-testing/./src/components/Icons/MaterialIcons/MarkIcon.vue","webpack://kapace-testing/./src/components/Icons/MaterialIcons/MarkIcon.vue?6521","webpack://kapace-testing/./src/components/Icons/MaterialIcons/UserIconOutlined.vue","webpack://kapace-testing/./src/components/Icons/MaterialIcons/UserIconOutlined.vue?d507","webpack://kapace-testing/./src/components/EditViews/EditListComponent.vue?4d4c","webpack://kapace-testing/./src/components/EditViews/EditListComponent.vue","webpack://kapace-testing/./src/components/EditViews/EditListComponent.vue?2491","webpack://kapace-testing/./src/views/EditsView.vue?c454","webpack://kapace-testing/./src/views/EditsView.vue","webpack://kapace-testing/./src/views/EditsView.vue?2586","webpack://kapace-testing/./src/components/Modal/EmailChangeModal.vue?b715","webpack://kapace-testing/./src/components/Modal/EmailChangeModal.vue","webpack://kapace-testing/./src/components/Modal/EmailChangeModal.vue?d3f4","webpack://kapace-testing/./src/components/Icons/CheckCircleFilledIcon.vue","webpack://kapace-testing/./src/components/Icons/CheckCircleFilledIcon.vue?d5e6","webpack://kapace-testing/./src/components/Icons/WarningIcon.vue","webpack://kapace-testing/./src/components/Icons/WarningIcon.vue?c216","webpack://kapace-testing/./src/views/SettingsView.vue?a758","webpack://kapace-testing/./src/views/SettingsView.vue","webpack://kapace-testing/./src/views/SettingsView.vue?80d1","webpack://kapace-testing/./src/router/index.js","webpack://kapace-testing/./src/main.ts","webpack://kapace-testing/webpack/bootstrap","webpack://kapace-testing/webpack/runtime/chunk loaded","webpack://kapace-testing/webpack/runtime/compat get default export","webpack://kapace-testing/webpack/runtime/define property getters","webpack://kapace-testing/webpack/runtime/global","webpack://kapace-testing/webpack/runtime/hasOwnProperty shorthand","webpack://kapace-testing/webpack/runtime/node module decorator","webpack://kapace-testing/webpack/runtime/publicPath","webpack://kapace-testing/webpack/runtime/jsonp chunk loading","webpack://kapace-testing/webpack/startup"],"sourcesContent":["var map = {\n\t\"./af\": 2190,\n\t\"./af.js\": 2190,\n\t\"./ar\": 7218,\n\t\"./ar-dz\": 5785,\n\t\"./ar-dz.js\": 5785,\n\t\"./ar-kw\": 9417,\n\t\"./ar-kw.js\": 9417,\n\t\"./ar-ly\": 6904,\n\t\"./ar-ly.js\": 6904,\n\t\"./ar-ma\": 8617,\n\t\"./ar-ma.js\": 8617,\n\t\"./ar-ps\": 1318,\n\t\"./ar-ps.js\": 1318,\n\t\"./ar-sa\": 2699,\n\t\"./ar-sa.js\": 2699,\n\t\"./ar-tn\": 6789,\n\t\"./ar-tn.js\": 6789,\n\t\"./ar.js\": 7218,\n\t\"./az\": 3050,\n\t\"./az.js\": 3050,\n\t\"./be\": 8316,\n\t\"./be.js\": 8316,\n\t\"./bg\": 310,\n\t\"./bg.js\": 310,\n\t\"./bm\": 8884,\n\t\"./bm.js\": 8884,\n\t\"./bn\": 3469,\n\t\"./bn-bd\": 6672,\n\t\"./bn-bd.js\": 6672,\n\t\"./bn.js\": 3469,\n\t\"./bo\": 9118,\n\t\"./bo.js\": 9118,\n\t\"./br\": 3113,\n\t\"./br.js\": 3113,\n\t\"./bs\": 3626,\n\t\"./bs.js\": 3626,\n\t\"./ca\": 921,\n\t\"./ca.js\": 921,\n\t\"./cs\": 7799,\n\t\"./cs.js\": 7799,\n\t\"./cv\": 2828,\n\t\"./cv.js\": 2828,\n\t\"./cy\": 3521,\n\t\"./cy.js\": 3521,\n\t\"./da\": 6962,\n\t\"./da.js\": 6962,\n\t\"./de\": 3294,\n\t\"./de-at\": 6158,\n\t\"./de-at.js\": 6158,\n\t\"./de-ch\": 5960,\n\t\"./de-ch.js\": 5960,\n\t\"./de.js\": 3294,\n\t\"./dv\": 7963,\n\t\"./dv.js\": 7963,\n\t\"./el\": 3432,\n\t\"./el.js\": 3432,\n\t\"./en-au\": 998,\n\t\"./en-au.js\": 998,\n\t\"./en-ca\": 5931,\n\t\"./en-ca.js\": 5931,\n\t\"./en-gb\": 5930,\n\t\"./en-gb.js\": 5930,\n\t\"./en-ie\": 8081,\n\t\"./en-ie.js\": 8081,\n\t\"./en-il\": 1594,\n\t\"./en-il.js\": 1594,\n\t\"./en-in\": 3904,\n\t\"./en-in.js\": 3904,\n\t\"./en-nz\": 1507,\n\t\"./en-nz.js\": 1507,\n\t\"./en-sg\": 9409,\n\t\"./en-sg.js\": 9409,\n\t\"./eo\": 2177,\n\t\"./eo.js\": 2177,\n\t\"./es\": 4805,\n\t\"./es-do\": 9155,\n\t\"./es-do.js\": 9155,\n\t\"./es-mx\": 9791,\n\t\"./es-mx.js\": 9791,\n\t\"./es-us\": 6098,\n\t\"./es-us.js\": 6098,\n\t\"./es.js\": 4805,\n\t\"./et\": 6240,\n\t\"./et.js\": 6240,\n\t\"./eu\": 391,\n\t\"./eu.js\": 391,\n\t\"./fa\": 612,\n\t\"./fa.js\": 612,\n\t\"./fi\": 4220,\n\t\"./fi.js\": 4220,\n\t\"./fil\": 5570,\n\t\"./fil.js\": 5570,\n\t\"./fo\": 5466,\n\t\"./fo.js\": 5466,\n\t\"./fr\": 4461,\n\t\"./fr-ca\": 6306,\n\t\"./fr-ca.js\": 6306,\n\t\"./fr-ch\": 7081,\n\t\"./fr-ch.js\": 7081,\n\t\"./fr.js\": 4461,\n\t\"./fy\": 3484,\n\t\"./fy.js\": 3484,\n\t\"./ga\": 6957,\n\t\"./ga.js\": 6957,\n\t\"./gd\": 2978,\n\t\"./gd.js\": 2978,\n\t\"./gl\": 9866,\n\t\"./gl.js\": 9866,\n\t\"./gom-deva\": 5011,\n\t\"./gom-deva.js\": 5011,\n\t\"./gom-latn\": 4724,\n\t\"./gom-latn.js\": 4724,\n\t\"./gu\": 1601,\n\t\"./gu.js\": 1601,\n\t\"./he\": 9802,\n\t\"./he.js\": 9802,\n\t\"./hi\": 9358,\n\t\"./hi.js\": 9358,\n\t\"./hr\": 3907,\n\t\"./hr.js\": 3907,\n\t\"./hu\": 218,\n\t\"./hu.js\": 218,\n\t\"./hy-am\": 533,\n\t\"./hy-am.js\": 533,\n\t\"./id\": 2844,\n\t\"./id.js\": 2844,\n\t\"./is\": 7353,\n\t\"./is.js\": 7353,\n\t\"./it\": 6364,\n\t\"./it-ch\": 774,\n\t\"./it-ch.js\": 774,\n\t\"./it.js\": 6364,\n\t\"./ja\": 6008,\n\t\"./ja.js\": 6008,\n\t\"./jv\": 8221,\n\t\"./jv.js\": 8221,\n\t\"./ka\": 2417,\n\t\"./ka.js\": 2417,\n\t\"./kk\": 2071,\n\t\"./kk.js\": 2071,\n\t\"./km\": 6149,\n\t\"./km.js\": 6149,\n\t\"./kn\": 4572,\n\t\"./kn.js\": 4572,\n\t\"./ko\": 659,\n\t\"./ko.js\": 659,\n\t\"./ku\": 6285,\n\t\"./ku-kmr\": 9398,\n\t\"./ku-kmr.js\": 9398,\n\t\"./ku.js\": 6285,\n\t\"./ky\": 1609,\n\t\"./ky.js\": 1609,\n\t\"./lb\": 119,\n\t\"./lb.js\": 119,\n\t\"./lo\": 1748,\n\t\"./lo.js\": 1748,\n\t\"./lt\": 1973,\n\t\"./lt.js\": 1973,\n\t\"./lv\": 1347,\n\t\"./lv.js\": 1347,\n\t\"./me\": 3023,\n\t\"./me.js\": 3023,\n\t\"./mi\": 5747,\n\t\"./mi.js\": 5747,\n\t\"./mk\": 4341,\n\t\"./mk.js\": 4341,\n\t\"./ml\": 3840,\n\t\"./ml.js\": 3840,\n\t\"./mn\": 2058,\n\t\"./mn.js\": 2058,\n\t\"./mr\": 9182,\n\t\"./mr.js\": 9182,\n\t\"./ms\": 5197,\n\t\"./ms-my\": 9136,\n\t\"./ms-my.js\": 9136,\n\t\"./ms.js\": 5197,\n\t\"./mt\": 6408,\n\t\"./mt.js\": 6408,\n\t\"./my\": 1683,\n\t\"./my.js\": 1683,\n\t\"./nb\": 3141,\n\t\"./nb.js\": 3141,\n\t\"./ne\": 9344,\n\t\"./ne.js\": 9344,\n\t\"./nl\": 4703,\n\t\"./nl-be\": 4641,\n\t\"./nl-be.js\": 4641,\n\t\"./nl.js\": 4703,\n\t\"./nn\": 9873,\n\t\"./nn.js\": 9873,\n\t\"./oc-lnc\": 1217,\n\t\"./oc-lnc.js\": 1217,\n\t\"./pa-in\": 4612,\n\t\"./pa-in.js\": 4612,\n\t\"./pl\": 4457,\n\t\"./pl.js\": 4457,\n\t\"./pt\": 1089,\n\t\"./pt-br\": 9146,\n\t\"./pt-br.js\": 9146,\n\t\"./pt.js\": 1089,\n\t\"./ro\": 5950,\n\t\"./ro.js\": 5950,\n\t\"./ru\": 7292,\n\t\"./ru.js\": 7292,\n\t\"./sd\": 6774,\n\t\"./sd.js\": 6774,\n\t\"./se\": 7493,\n\t\"./se.js\": 7493,\n\t\"./si\": 3761,\n\t\"./si.js\": 3761,\n\t\"./sk\": 9711,\n\t\"./sk.js\": 9711,\n\t\"./sl\": 8558,\n\t\"./sl.js\": 8558,\n\t\"./sq\": 8633,\n\t\"./sq.js\": 8633,\n\t\"./sr\": 688,\n\t\"./sr-cyrl\": 7903,\n\t\"./sr-cyrl.js\": 7903,\n\t\"./sr.js\": 688,\n\t\"./ss\": 1991,\n\t\"./ss.js\": 1991,\n\t\"./sv\": 7020,\n\t\"./sv.js\": 7020,\n\t\"./sw\": 5891,\n\t\"./sw.js\": 5891,\n\t\"./ta\": 5714,\n\t\"./ta.js\": 5714,\n\t\"./te\": 206,\n\t\"./te.js\": 206,\n\t\"./tet\": 4768,\n\t\"./tet.js\": 4768,\n\t\"./tg\": 8276,\n\t\"./tg.js\": 8276,\n\t\"./th\": 7977,\n\t\"./th.js\": 7977,\n\t\"./tk\": 6928,\n\t\"./tk.js\": 6928,\n\t\"./tl-ph\": 8046,\n\t\"./tl-ph.js\": 8046,\n\t\"./tlh\": 1361,\n\t\"./tlh.js\": 1361,\n\t\"./tr\": 4367,\n\t\"./tr.js\": 4367,\n\t\"./tzl\": 627,\n\t\"./tzl.js\": 627,\n\t\"./tzm\": 2636,\n\t\"./tzm-latn\": 8148,\n\t\"./tzm-latn.js\": 8148,\n\t\"./tzm.js\": 2636,\n\t\"./ug-cn\": 8823,\n\t\"./ug-cn.js\": 8823,\n\t\"./uk\": 461,\n\t\"./uk.js\": 461,\n\t\"./ur\": 1366,\n\t\"./ur.js\": 1366,\n\t\"./uz\": 3454,\n\t\"./uz-latn\": 8374,\n\t\"./uz-latn.js\": 8374,\n\t\"./uz.js\": 3454,\n\t\"./vi\": 8572,\n\t\"./vi.js\": 8572,\n\t\"./x-pseudo\": 464,\n\t\"./x-pseudo.js\": 464,\n\t\"./yo\": 3709,\n\t\"./yo.js\": 3709,\n\t\"./zh-cn\": 5873,\n\t\"./zh-cn.js\": 5873,\n\t\"./zh-hk\": 7549,\n\t\"./zh-hk.js\": 7549,\n\t\"./zh-mo\": 2240,\n\t\"./zh-mo.js\": 2240,\n\t\"./zh-tw\": 405,\n\t\"./zh-tw.js\": 405\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 5358;","export class ApiService {\r\n    protected hostPath: string = process.env.VUE_APP_SERVER_API_ADDRESS;\r\n\r\n    constructor(protected servicePath: string) {\r\n        console.log(this.hostPath);\r\n    }\r\n\r\n    private baseFetch<TRequest>(\r\n        requestBody: TRequest,\r\n        handlerPath: string,\r\n        headers: Headers | null = null\r\n    ) {\r\n        const path = this.hostPath + this.servicePath + handlerPath;\r\n        const requestHeaders: HeadersInit = headers !== null ? headers : new Headers();\r\n        requestHeaders.set('Content-Type', 'application/json; charset=utf-8');\r\n\r\n        return fetch(path, {\r\n            method: 'POST',\r\n            headers: requestHeaders,\r\n            credentials: 'include',\r\n            body: requestBody === undefined ? JSON.stringify({}) : JSON.stringify(requestBody),\r\n        });\r\n    }\r\n\r\n    private async CallHandler<TResponse, TRequest>(\r\n        requestBody: TRequest,\r\n        handlerPath: string): Promise<TResponse> {\r\n        const response = this.baseFetch(requestBody, handlerPath);\r\n\r\n        return response\r\n            .then(response => response.json())\r\n            .then(response => response as TResponse);\r\n    }\r\n\r\n    private async CallHandlerV2<TResponse, TRequest>(\r\n        requestBody: TRequest,\r\n        handlerPath: string,\r\n        headers: Headers | null = null) : Promise<ApiResponse<TResponse>> {\r\n        let response: Response | undefined = undefined;\r\n        let exception: any;\r\n\r\n        try {\r\n            response = await this.baseFetch(requestBody, handlerPath, headers);\r\n            console.log({\r\n                Path: handlerPath,\r\n                Request: requestBody,\r\n                Response: response\r\n            });\r\n        } catch (e) {\r\n            exception = e;\r\n        }\r\n\r\n        const apiResponse: ApiResponse<TResponse> = {\r\n            onException: (callback) => {\r\n                if (exception) {\r\n                    callback();\r\n                }\r\n\r\n                return apiResponse;\r\n            },\r\n            onBusinessError: (callback) => {\r\n                if (response && response.status === 400) {\r\n                    response.json().then(model => {\r\n                        callback(model);\r\n                    });\r\n                }\r\n\r\n                if (response && response.status === 401) {\r\n                    callback({\r\n                        ErrorCode: \"Unauthorized\",\r\n                        Message: \"Для начала необходимо авторизоваться!\",\r\n                        ErrorDetails: new Map<string, string>()\r\n                    });\r\n                }\r\n\r\n                return apiResponse;\r\n            }\r\n        };\r\n\r\n        if (response && response.status === 200) {\r\n            try {\r\n                const contentLength = response.headers.get('Content-Length');\r\n                if (contentLength === '0' || !response.body) {\r\n                    apiResponse.data = {} as TResponse;\r\n                } else {\r\n                    apiResponse.data = await response.json() as TResponse;\r\n                }\r\n            } catch (e) {\r\n                // Если парсинг не удался, обрабатываем как пустой ответ\r\n                apiResponse.data = {} as TResponse;\r\n                console.error(\"JSON parsing error:\", e);\r\n            }\r\n        } else {\r\n            apiResponse.error = {\r\n                ErrorCode: \"0\",\r\n                Message: \"Что-то пошло не так! Ошибка сервера.\",\r\n                ErrorDetails: new Map<string, string>()\r\n            };\r\n        }\r\n\r\n        return apiResponse;\r\n    }\r\n\r\n    // Obsolete\r\n    protected async CallHandlerAsync<TResponse, TRequest>(\r\n        requestBody: TRequest,\r\n        handlerPath: string): Promise<TResponse> {\r\n        const response = await this.CallHandler<TResponse, TRequest>(requestBody, handlerPath);\r\n        console.log({path: this.servicePath + handlerPath, request: requestBody, response: response});\r\n        return response;\r\n    }\r\n\r\n    protected async fetchV2<TResponse, TRequest>(\r\n        requestBody: TRequest,\r\n        handlerPath: string,\r\n        headers: Headers | null = null) : Promise<ApiResponse<TResponse>> {\r\n        return await this.CallHandlerV2<TResponse, TRequest>(requestBody, handlerPath, headers);\r\n    }\r\n\r\n    protected async CallPostHandlerAsync<TRequest>(requestBody: TRequest, handlerPath: string) : Promise<Response> {\r\n        const response = await this.baseFetch<TRequest>(requestBody, handlerPath);\r\n        console.log({path: this.servicePath + handlerPath, request: requestBody, response: response});\r\n        return response;\r\n    }\r\n\r\n    protected async CallHandlerByFormDataAsync<TResponse>(\r\n        handlerPath: string,\r\n        formData: FormData) {\r\n        const path = this.hostPath + this.servicePath + handlerPath;\r\n\r\n        await fetch(path, {\r\n            method: \"POST\",\r\n            body: formData\r\n        })\r\n            .then(result => console.log(result))\r\n            .catch(error => console.log(\"error\", error)\r\n        );\r\n    }\r\n\r\n    public isErrorDetails(response: any): response is ErrorDetails {\r\n        return (response as ErrorDetails).ErrorCode !== undefined;\r\n    }\r\n}\r\n\r\nexport interface ApiResponse<T> {\r\n    data?: T;\r\n    error?: ErrorDetails;\r\n    onException(callback: (error: void) => void): ApiResponse<T>;\r\n    onBusinessError(callback: (error: ErrorDetails) => void): ApiResponse<T>;\r\n}\r\n\r\nexport interface ErrorDetails {\r\n    ErrorCode: string,\r\n    Message: string,\r\n    ErrorDetails: Map<string, string>\r\n}","import {ApiService} from \"@/api/ApiService\";\r\nimport {V1GetByEpisodeRequest} from \"@/api/Requests/V1GetByEpisodeRequest\";\r\nimport {V1GetByEpisodeResponse} from \"@/api/Responses/V1GetByEpisodeResponse\";\r\n\r\nexport class TranslationService extends ApiService {\r\n    constructor() {\r\n        super(\"v1/translations/\");\r\n    }\r\n\r\n    async V1GetByEpisodeAsync(request: V1GetByEpisodeRequest) : Promise<V1GetByEpisodeResponse> {\r\n        return await this.CallHandlerAsync<V1GetByEpisodeResponse, V1GetByEpisodeRequest>(request, \"get-by-episode\");\r\n    }\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"label-large base-button__button base-button__light\"\n}\nconst _hoisted_2 = {\n  key: 1,\n  class: \"label-large base-button__button base-button__dark\"\n}\nconst _hoisted_3 = {\n  key: 2,\n  class: \"label-large base-button__button base-button__text\"\n}\nconst _hoisted_4 = {\n  key: 3,\n  class: \"label-large base-button__button base-button__filled\"\n}\nconst _hoisted_5 = {\n  key: 4,\n  class: \"label-large base-button__button base-button__outline\"\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseButton',\n  props: {\r\n  buttonType: {\r\n    type: Number,\r\n    default: 1\r\n  },\r\n  variant: {\r\n    type: String,\r\n    default: 'skip',\r\n    validator(value: string): boolean {\r\n      return ['skip', 'filled', 'outline'].some(x => x === value);\r\n    }\r\n  }\r\n},\n  setup(__props) {\n\r\nconst props = __props\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (__props.buttonType === 1 && __props.variant === 'skip')\n    ? (_openBlock(), _createElementBlock(\"button\", _hoisted_1, [\n        _renderSlot(_ctx.$slots, \"default\")\n      ]))\n    : (__props.buttonType === 2 && __props.variant === 'skip')\n      ? (_openBlock(), _createElementBlock(\"button\", _hoisted_2, [\n          _renderSlot(_ctx.$slots, \"default\")\n        ]))\n      : (__props.buttonType === 3 && __props.variant === 'skip')\n        ? (_openBlock(), _createElementBlock(\"button\", _hoisted_3, [\n            _renderSlot(_ctx.$slots, \"default\")\n          ]))\n        : (__props.variant === 'filled')\n          ? (_openBlock(), _createElementBlock(\"button\", _hoisted_4, [\n              _renderSlot(_ctx.$slots, \"default\")\n            ]))\n          : (__props.variant === 'outline')\n            ? (_openBlock(), _createElementBlock(\"button\", _hoisted_5, [\n                _renderSlot(_ctx.$slots, \"default\")\n              ]))\n            : _createCommentVNode(\"\", true)\n}\n}\n\n})","import script from \"./BaseButton.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseButton.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseButton.vue?vue&type=style&index=0&id=ab788732&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <a class=\"text-button__text\">\r\n    <slot />\r\n  </a>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n.text-button {\r\n  &__text {\r\n    color: var(--primary40);\r\n    transition: color 0.25s;\r\n\r\n    &:hover {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./BaseTextButton.vue?vue&type=template&id=46b3cf3e&scoped=true\"\nconst script = {}\n\nimport \"./BaseTextButton.vue?vue&type=style&index=0&id=46b3cf3e&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-46b3cf3e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle } from \"vue\"\n\nimport {ref} from \"vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseDropMenu',\n  props: {\r\n  height: {type: String, required: false, default: 'auto'},\r\n  menuAlign: {\r\n    type: String,\r\n    required: false,\r\n    default: 'right',\r\n    validator(value: string): boolean {\r\n      return ['left', 'right'].some(x => x === value);\r\n    }}\r\n},\n  setup(__props) {\n\r\nconst isActive = ref(false);\r\n\r\n\r\n\r\nfunction onDropClick() {\r\n  isActive.value = !isActive.value;\r\n}\r\n\r\nfunction onDragLeave() {\r\n  isActive.value = false;\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    ref: \"parent\",\n    class: \"drop-menu__box\",\n    style: _normalizeStyle({ height: __props.height })\n  }, [\n    _renderSlot(_ctx.$slots, \"header\", {\n      ref: \"child\",\n      class: \"drop-menu__button\",\n      onClick: onDropClick\n    }),\n    (isActive.value)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          class: _normalizeClass([\"drop-menu__menu\", {'drop-menu__menu-right': __props.menuAlign === 'right'}]),\n          onClick: onDragLeave\n        }, [\n          _renderSlot(_ctx.$slots, \"menu\")\n        ], 2))\n      : _createCommentVNode(\"\", true)\n  ], 4))\n}\n}\n\n})","<template>\r\n  <div\r\n    ref=\"parent\"\r\n    class=\"drop-menu__box\"\r\n    :style=\"{ height: height }\"\r\n  >\r\n    <slot\r\n      ref=\"child\"\r\n      name=\"header\"\r\n      class=\"drop-menu__button\"\r\n      :onClick=\"onDropClick\"\r\n    />\r\n    <div\r\n      v-if=\"isActive\"\r\n      class=\"drop-menu__menu\"\r\n      :class=\"{'drop-menu__menu-right': menuAlign === 'right'}\"\r\n      @click=\"onDragLeave\"\r\n    >\r\n      <slot name=\"menu\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {ref} from \"vue\";\r\n\r\nconst isActive = ref(false);\r\n\r\ndefineProps({\r\n  height: {type: String, required: false, default: 'auto'},\r\n  menuAlign: {\r\n    type: String,\r\n    required: false,\r\n    default: 'right',\r\n    validator(value: string): boolean {\r\n      return ['left', 'right'].some(x => x === value);\r\n    }}\r\n});\r\n\r\nfunction onDropClick() {\r\n  isActive.value = !isActive.value;\r\n}\r\n\r\nfunction onDragLeave() {\r\n  isActive.value = false;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.drop-menu {\r\n  &__box {\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: relative;\r\n  }\r\n\r\n  &__menu {\r\n    position: absolute;\r\n    top: 100%;\r\n\r\n    &-right {\r\n      right: 0;\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./BaseDropMenu.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseDropMenu.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseDropMenu.vue?vue&type=style&index=0&id=72a73a63&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-72a73a63\"]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"24\"\r\n    height=\"24\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <circle\r\n      cx=\"12\"\r\n      cy=\"10\"\r\n      r=\"3\"\r\n      stroke=\"currentColor\"\r\n      stroke-width=\"2\"\r\n      stroke-linecap=\"round\"\r\n    />\r\n    <circle\r\n      cx=\"12\"\r\n      cy=\"12\"\r\n      r=\"9\"\r\n      stroke=\"currentColor\"\r\n      stroke-width=\"2\"\r\n    />\r\n    <path\r\n      d=\"M17.7805 18.8264C17.9076 18.7566 17.9678 18.6055 17.914 18.4708C17.5284 17.5045 16.7856 16.6534 15.7814 16.0332C14.6966 15.3632 13.3674 15 12 15C10.6326 15 9.30341 15.3632 8.21858 16.0332C7.21444 16.6534 6.4716 17.5045 6.08598 18.4708C6.03223 18.6055 6.09236 18.7566 6.21948 18.8264C9.81971 20.803 14.1803 20.803 17.7805 18.8264Z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./UserIcon.vue?vue&type=template&id=47d4c4fc\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"24\"\r\n    height=\"24\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      d=\"M20.3335 12L21.1144 11.3753L21.6141 12L21.1144 12.6247L20.3335 12ZM12.8335 13C12.2812 13 11.8335 12.5523 11.8335 12C11.8335 11.4478 12.2812 11 12.8335 11V13ZM17.781 7.20868L21.1144 11.3753L19.5526 12.6247L16.2193 8.45807L17.781 7.20868ZM21.1144 12.6247L17.781 16.7914L16.2193 15.542L19.5526 11.3753L21.1144 12.6247ZM20.3335 13H12.8335V11H20.3335V13Z\"\r\n      fill=\"currentColor\"\r\n    />\r\n    <path\r\n      d=\"M13.6665 8.77657V8.15705C13.6665 6.80843 13.6665 6.13412 13.2715 5.66788C12.8766 5.20164 12.2114 5.09078 10.8812 4.86907L9.4885 4.63696C6.78592 4.18653 5.43463 3.96131 4.55057 4.71023C3.6665 5.45914 3.6665 6.82907 3.6665 9.56893V14.431C3.6665 17.1708 3.6665 18.5408 4.55057 19.2897C5.43463 20.0386 6.78592 19.8134 9.4885 19.363L10.8812 19.1308C12.2114 18.9091 12.8766 18.7983 13.2715 18.332C13.6665 17.8658 13.6665 17.1915 13.6665 15.8429V15.3883\"\r\n      stroke=\"currentColor\"\r\n      stroke-width=\"2\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./LogOutIcon.vue?vue&type=template&id=1f0e62ee\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineStore } from 'pinia'\r\n\r\ninterface UserState {\r\n    userId: number;\r\n    nickname: string;\r\n    email: string;\r\n    imageUrl: string;\r\n    roles: string[];\r\n    loggedIn: boolean;\r\n}\r\n\r\nexport const userStore = defineStore('store', {\r\n    state(): UserState {\r\n        // Попробуйте загрузить состояние из localStorage\r\n        const savedState = localStorage.getItem('userStore');\r\n        return savedState ? JSON.parse(savedState) : {\r\n            userId: 0,\r\n            nickname: '',\r\n            roles: [],\r\n            loggedIn: false,\r\n            imageUrl: '/images/film_test.png',\r\n            email: ''\r\n        };\r\n    },\r\n    actions: {\r\n        LogIn(userId: number, nickname: string, email: string, imageUrl: string, roles: string[]) {\r\n            this.userId = userId;\r\n            this.nickname = nickname;\r\n            this.roles = roles;\r\n            this.email = email;\r\n            this.imageUrl = imageUrl;\r\n            this.loggedIn = true;\r\n            localStorage.setItem('userStore', JSON.stringify(this.$state));\r\n        },\r\n        LogOut() {\r\n            this.loggedIn = false;\r\n            localStorage.removeItem('userStore');\r\n        },\r\n        UpdateNickname(newNickname: string) {\r\n            this.nickname = newNickname;\r\n            localStorage.removeItem('userStore');\r\n            localStorage.setItem('userStore', JSON.stringify(this.$state));\r\n        },\r\n        UpdateEmail(newEmail: string) {\r\n            this.email = newEmail;\r\n            localStorage.removeItem('userStore');\r\n            localStorage.setItem('userStore', JSON.stringify(this.$state));\r\n        }\r\n    }\r\n})","<template>\r\n  <svg\r\n    width=\"8\" height=\"5\"\r\n    viewBox=\"0 0 8 5\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M0.25 0.5L4 4.25L7.75 0.5H0.25Z\" fill=\"currentColor\" />\r\n  </svg>\r\n</template>","import { render } from \"./MaterialDropArrow.vue?vue&type=template&id=c14fd850\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  class: \"base-background__default\"\n}\nconst _hoisted_2 = {\n  key: 1,\n  class: \"base-background__secondary\"\n}\nconst _hoisted_3 = {\n  key: 2,\n  class: \"base-background__bordered\"\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseBackground',\n  props: {\r\n  type: {type: Number, default: 1, required: false}\r\n},\n  setup(__props) {\n\r\n\r\nconst props = __props;\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (props.type === 1)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _renderSlot(_ctx.$slots, \"default\")\n      ]))\n    : (props.type === 2)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _renderSlot(_ctx.$slots, \"default\")\n        ]))\n      : (props.type === 3)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n            _renderSlot(_ctx.$slots, \"default\")\n          ]))\n        : _createCommentVNode(\"\", true)\n}\n}\n\n})","<template>\r\n  <div v-if=\"props.type === 1\" class=\"base-background__default\">\r\n    <slot />\r\n  </div>\r\n\r\n  <div v-else-if=\"props.type === 2\" class=\"base-background__secondary\">\r\n    <slot />\r\n  </div>\r\n\r\n  <div v-else-if=\"props.type === 3\" class=\"base-background__bordered\">\r\n    <slot />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\r\nconst props = defineProps({\r\n  type: {type: Number, default: 1, required: false}\r\n});\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.base-background__default {\r\n  background: #FFFFFF;\r\n  border-radius: 16px;\r\n  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 16%);\r\n}\r\n\r\n.base-background__secondary {\r\n  background: #FFFFFF;\r\n  border-radius: 16px;\r\n}\r\n\r\n.base-background__bordered {\r\n  background: #FFFFFF;\r\n  border-radius: 16px;\r\n  border: 1px solid var(--font-gray-v1);\r\n}\r\n\r\n.box {\r\n  &__inline {\r\n    display: grid;\r\n    grid-template-rows: 1fr;\r\n    grid-template-columns: min-content;\r\n    grid-auto-flow: column;\r\n\r\n    width: fit-content;\r\n    height: fit-content;\r\n  }\r\n}\r\n</style>","import script from \"./BaseBackground.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseBackground.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseBackground.vue?vue&type=style&index=0&id=3229304c&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-23e901a4\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"filter-chips__box\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"filter-chips__icon\"\n}\nconst _hoisted_3 = { class: \"filter-chips__text\" }\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FilterChips',\n  props: {\r\n  text: {type: String, required: true},\r\n  enableTextIcon: {type: Boolean, required: false, default: false},\r\n  enableMenuIcon: {type: Boolean, required: false, default: false},\r\n},\n  setup(__props) {\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"button\", _hoisted_1, [\n    (__props.enableTextIcon)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _renderSlot(_ctx.$slots, \"text-icon\")\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"p\", _hoisted_3, _toDisplayString(__props.text), 1),\n    (__props.enableMenuIcon)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 1,\n          class: _normalizeClass({'filter-chips__icon': __props.enableMenuIcon})\n        }, [\n          _renderSlot(_ctx.$slots, \"menu-icon\")\n        ], 2))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","import script from \"./FilterChips.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./FilterChips.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./FilterChips.vue?vue&type=style&index=0&id=23e901a4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-23e901a4\"]])\n\nexport default __exports__","export enum MenuAlignment {\r\n    Left = 0,\r\n    Right = 1\r\n}","import { useCssVars as _useCssVars, unref as _unref, defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot, normalizeClass as _normalizeClass, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, vShow as _vShow, createElementVNode as _createElementVNode, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5c6c749d\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"selector__label\"\n}\nconst _hoisted_2 = [\"onClick\"]\n\nimport {PropType, ref, watch} from \"vue\";\r\nimport MaterialDropArrow from \"@/components/Icons/MaterialDropArrow.vue\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseSelector',\n  props: {\r\n  modelValue: {required: true, default: \"\"},\r\n  title: {type: String, required: false, default: \"\"},\r\n  label: {type: String, required: false, default: null},\r\n  buttonBorder: {type: Boolean, default: false},\r\n  buttonBackground: {type: String, default: 'none'},\r\n  markAsInvalidInput: {type: Boolean, default: false},\r\n  isDisabled: {type: Boolean, default: false, required: false},\r\n\r\n  selectableValues: {type: Array as PropType<String[]>, required: true},\r\n  menuAlignment: {type: Number as PropType<MenuAlignment>, default: MenuAlignment.Right},\r\n  isDropped: {type: Boolean, default: false, required: false}\r\n},\n  emits: [\"update:modelValue\"],\n  setup(__props, { emit: __emit }) {\n\n_useCssVars(_ctx => ({\n  \"4536e787\": (_ctx.background)\n}))\n\r\nconst emits = __emit;\r\n\r\n//TODO: Хорошо бы стили относящиеся к дефолтной кнопке вынести в отдельную модельку типа defaultStyles: {title, label, buttonBorder, buttonBackground}\r\nconst props = __props;\r\n\r\nconst titleRef = ref(((props.modelValue?.length ?? 0) > 0)\r\n  ? props.modelValue\r\n  : props.title ?? \"\");\r\n\r\nconst isDroppedRef = ref(false);\r\n\r\n// Синхронизация локального состояния с пропсом\r\nwatch(() => props.modelValue, (newValue) => {\r\n  titleRef.value = newValue;\r\n});\r\n// Синхронизация локального состояния с пропсом\r\nwatch(() => props.isDropped, (newValue) => {\r\n  isDroppedRef.value = newValue;\r\n});\r\n/* Сбрасывает текущее выбранное значение если компонент был помечен isDisabled */\r\nwatch(() => props.isDisabled, (isDisabled) => {\r\n  if (!isDisabled) {\r\n    return;\r\n  }\r\n\r\n  titleRef.value = props.title;\r\n})\r\n\r\nfunction clickOnHeader(isDropped: boolean) {\r\n  if (props.isDisabled) {\r\n    isDroppedRef.value = false;\r\n    return;\r\n  }\r\n\r\n  if (props.selectableValues.length > 0) {\r\n    isDroppedRef.value = isDropped;\r\n    return;\r\n  }\r\n\r\n  isDroppedRef.value = false;\r\n}\r\n\r\nfunction clickOnMenu() {\r\n  isDroppedRef.value = false;\r\n}\r\n\r\nfunction selectFilter(value: string) {\r\n  titleRef.value = value;\r\n  isDroppedRef.value = false;\r\n  emits('update:modelValue', value);\r\n}\r\n\r\nfunction getMenuAlignmentClasses() {\r\n  return [\r\n    props.menuAlignment === MenuAlignment.Left ? 'selector__menu-left' : '',\r\n    props.menuAlignment === MenuAlignment.Right ? 'selector__menu-right' : ''\r\n  ]\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"selector__box\", {'selector__box-errored': __props.markAsInvalidInput }])\n  }, [\n    (__props.label)\n      ? (_openBlock(), _createElementBlock(\"label\", _hoisted_1, _toDisplayString(__props.label), 1))\n      : _createCommentVNode(\"\", true),\n    _renderSlot(_ctx.$slots, \"header\", { dropMenu: clickOnHeader }, () => [\n      _createVNode(FilterChips, {\n        class: _normalizeClass([\"selector__button\", {\r\n          'selector__button-selected': titleRef.value.value !== props.title,\r\n          'selector__button-bordered': props.buttonBorder,\r\n          'selector__disabled': props.isDisabled }]),\n        text: titleRef.value,\n        \"enable-menu-icon\": true,\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (clickOnHeader(!isDroppedRef.value)))\n      }, {\n        \"menu-icon\": _withCtx(() => [\n          _createVNode(MaterialDropArrow, {\n            class: _normalizeClass({'selector__disabled': props.isDisabled })\n          }, null, 8, [\"class\"])\n        ]),\n        _: 1\n      }, 8, [\"class\", \"text\"])\n    ]),\n    _withDirectives(_createElementVNode(\"div\", {\n      class: _normalizeClass([\"selector__menu selector__title-bordered\", getMenuAlignmentClasses()]),\n      onClick: clickOnMenu\n    }, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.selectableValues, (value) => {\n        return (_openBlock(), _createElementBlock(\"button\", {\n          key: value,\n          class: \"selector__menu-button\",\n          onClick: ($event: any) => (selectFilter(value))\n        }, _toDisplayString(value), 9, _hoisted_2))\n      }), 128))\n    ], 2), [\n      [_vShow, isDroppedRef.value && __props.selectableValues.length > 0]\n    ])\n  ], 2))\n}\n}\n\n})","<template>\r\n  <div\r\n    class=\"selector__box\"\r\n    :class=\"{'selector__box-errored': markAsInvalidInput }\"\r\n  >\r\n    <label v-if=\"label\" class=\"selector__label\">{{ label }}</label>\r\n    <!-- Button -->\r\n    <slot name=\"header\" :dropMenu=\"clickOnHeader\">\r\n      <filter-chips\r\n        class=\"selector__button\"\r\n        :class=\"{\r\n          'selector__button-selected': titleRef.value !== props.title,\r\n          'selector__button-bordered': props.buttonBorder,\r\n          'selector__disabled': props.isDisabled }\"\r\n        :text=\"titleRef\"\r\n        :enable-menu-icon=\"true\"\r\n        @click=\"clickOnHeader(!isDroppedRef)\"\r\n      >\r\n        <template #menu-icon>\r\n          <material-drop-arrow :class=\"{'selector__disabled': props.isDisabled }\" />\r\n        </template>\r\n      </filter-chips>\r\n    </slot>\r\n\r\n    <!-- Menu -->\r\n    <div\r\n      v-show=\"isDroppedRef && selectableValues.length > 0\"\r\n      class=\"selector__menu selector__title-bordered\"\r\n      :class=\"getMenuAlignmentClasses()\"\r\n      @click=\"clickOnMenu\"\r\n    >\r\n      <button\r\n        v-for=\"value in selectableValues\" :key=\"value\"\r\n        class=\"selector__menu-button\"\r\n        @click=\"selectFilter(value)\"\r\n      >\r\n        {{ value }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {PropType, ref, watch} from \"vue\";\r\nimport MaterialDropArrow from \"@/components/Icons/MaterialDropArrow.vue\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\n\r\nconst emits = defineEmits<{(emit: 'update:modelValue', value: string): void}>();\r\n\r\n//TODO: Хорошо бы стили относящиеся к дефолтной кнопке вынести в отдельную модельку типа defaultStyles: {title, label, buttonBorder, buttonBackground}\r\nconst props = defineProps({\r\n  modelValue: {required: true, default: \"\"},\r\n  title: {type: String, required: false, default: \"\"},\r\n  label: {type: String, required: false, default: null},\r\n  buttonBorder: {type: Boolean, default: false},\r\n  buttonBackground: {type: String, default: 'none'},\r\n  markAsInvalidInput: {type: Boolean, default: false},\r\n  isDisabled: {type: Boolean, default: false, required: false},\r\n\r\n  selectableValues: {type: Array as PropType<String[]>, required: true},\r\n  menuAlignment: {type: Number as PropType<MenuAlignment>, default: MenuAlignment.Right},\r\n  isDropped: {type: Boolean, default: false, required: false}\r\n});\r\n\r\nconst titleRef = ref(((props.modelValue?.length ?? 0) > 0)\r\n  ? props.modelValue\r\n  : props.title ?? \"\");\r\n\r\nconst isDroppedRef = ref(false);\r\n\r\n// Синхронизация локального состояния с пропсом\r\nwatch(() => props.modelValue, (newValue) => {\r\n  titleRef.value = newValue;\r\n});\r\n// Синхронизация локального состояния с пропсом\r\nwatch(() => props.isDropped, (newValue) => {\r\n  isDroppedRef.value = newValue;\r\n});\r\n/* Сбрасывает текущее выбранное значение если компонент был помечен isDisabled */\r\nwatch(() => props.isDisabled, (isDisabled) => {\r\n  if (!isDisabled) {\r\n    return;\r\n  }\r\n\r\n  titleRef.value = props.title;\r\n})\r\n\r\nfunction clickOnHeader(isDropped: boolean) {\r\n  if (props.isDisabled) {\r\n    isDroppedRef.value = false;\r\n    return;\r\n  }\r\n\r\n  if (props.selectableValues.length > 0) {\r\n    isDroppedRef.value = isDropped;\r\n    return;\r\n  }\r\n\r\n  isDroppedRef.value = false;\r\n}\r\n\r\nfunction clickOnMenu() {\r\n  isDroppedRef.value = false;\r\n}\r\n\r\nfunction selectFilter(value: string) {\r\n  titleRef.value = value;\r\n  isDroppedRef.value = false;\r\n  emits('update:modelValue', value);\r\n}\r\n\r\nfunction getMenuAlignmentClasses() {\r\n  return [\r\n    props.menuAlignment === MenuAlignment.Left ? 'selector__menu-left' : '',\r\n    props.menuAlignment === MenuAlignment.Right ? 'selector__menu-right' : ''\r\n  ]\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.selector {\r\n  &__label {\r\n    background: white;\r\n    position: absolute;\r\n    left: 12px;\r\n    top: -9px;\r\n    width: fit-content;\r\n\r\n    padding-left: 4px;\r\n    padding-right: 4px;\r\n  }\r\n\r\n  &__font-style {\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n    line-height: 143%;\r\n    letter-spacing: 0.04em;\r\n    text-align: center;\r\n\r\n    padding: 0 8px;\r\n  }\r\n\r\n  &__icon {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 18px;\r\n    width: 18px;\r\n  }\r\n\r\n  &__button {\r\n    display: flex;\r\n    height: 100%;\r\n    width: 100%;\r\n    background: v-bind(background);\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    &-selected {\r\n      color: var(--font-light-black);\r\n    }\r\n\r\n    &-bordered {\r\n      border: 1px solid #767680;\r\n      border-radius: 8px;\r\n    }\r\n  }\r\n\r\n  &__box {\r\n    display: flex;\r\n    height: 48px;\r\n    width: 100%;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: relative;\r\n\r\n    &-errored {\r\n      border: 1px solid var(--warning-red);\r\n    }\r\n  }\r\n\r\n  &__disabled {\r\n    color: rgba(var(--on-surface-rgb), 0.30);\r\n  }\r\n\r\n  &__menu {\r\n    display: grid;\r\n    min-width: 200px;\r\n    max-width: 100%;\r\n    grid-auto-columns: 1fr;\r\n    grid-auto-flow: row;\r\n    position: absolute;\r\n    top: 100%;\r\n\r\n    margin-top: 8px;\r\n\r\n    padding: 8px 0;\r\n\r\n    border-radius: 8px;\r\n    transition: outline-width 0.3s, outline-color 0.3s;\r\n    background: var(--surface-container-default94);\r\n    z-index: 999999999;\r\n\r\n    box-shadow: 0 2px 6px 2px rgba(0, 0, 0, 0.15),\r\n                0 1px 2px 0 rgba(0, 0, 0, 0.3);\r\n\r\n    &-bordered {\r\n      border: 1px solid #767680;\r\n      border-radius: 8px;\r\n    }\r\n\r\n    &-left { left: 0; }\r\n    &-right { right: 0; }\r\n  }\r\n\r\n  &__menu-button {\r\n    height: 40px;\r\n    padding: 0 16px;\r\n    text-align: start;\r\n\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n\r\n    &:hover {\r\n      background: var(--surface-container-highest90);\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import script from \"./BaseSelector.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseSelector.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseSelector.vue?vue&type=style&index=0&id=5c6c749d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5c6c749d\"]])\n\nexport default __exports__","<template>\r\n  <svg\n    width=\"3\" height=\"14\"\n    viewBox=\"0 0 3 14\" fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\r\n    <path\n      d=\"M2.74058 1.8359C2.74058 2.56736 2.14761 3.16033 1.41615 3.16033C0.684687 3.16033 0.0917206 2.56736 0.0917206 1.8359C0.0917206 1.10444 0.684687 0.511475 1.41615 0.511475C2.14761 0.511475 2.74058 1.10444 2.74058 1.8359Z\"\r\n      fill=\"currentColor\"\n    />\r\n    <path\n      d=\"M2.74058 7.13361C2.74058 7.86507 2.14761 8.45804 1.41615 8.45804C0.684687 8.45804 0.0917206 7.86507 0.0917206 7.13361C0.0917206 6.40215 0.684687 5.80918 1.41615 5.80918C2.14761 5.80918 2.74058 6.40215 2.74058 7.13361Z\"\r\n      fill=\"currentColor\"\n    />\r\n    <path\n      d=\"M2.74058 12.4313C2.74058 13.1628 2.14761 13.7557 1.41615 13.7557C0.684687 13.7557 0.0917206 13.1628 0.0917206 12.4313C0.0917206 11.6999 0.684687 11.1069 1.41615 11.1069C2.14761 11.1069 2.74058 11.6999 2.74058 12.4313Z\"\r\n      fill=\"currentColor\"\n    />\r\n  </svg>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"DetailsIcon\"\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./DetailsIcon.vue?vue&type=template&id=86b65ff8\"\nimport script from \"./DetailsIcon.vue?vue&type=script&lang=js\"\nexport * from \"./DetailsIcon.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"24\" height=\"24\"\r\n    viewBox=\"0 0 24 24\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n      d=\"M3 8V6H21V8H3ZM3 13H21V11H3V13ZM3 18H21V16H3V18Z\" fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./MenuIcon.vue?vue&type=template&id=0ebc52bc\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, vShow as _vShow, createElementVNode as _createElementVNode, withDirectives as _withDirectives, resolveComponent as _resolveComponent, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '@/assets/images/Logo.svg'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-fe7aad92\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  style: {\"height\":\"56px\"},\n  class: \"row h__space-between v__center\"\n}\nconst _hoisted_2 = { class: \"row gap-16 v__center\" }\nconst _hoisted_3 = { class: \"row gap-16 v__center\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"header__logo\",\n  src: _imports_0,\n  alt: \"Главная\"\n}, null, -1))\nconst _hoisted_5 = { class: \"row gap-16 v__center\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"row gap-16\"\n}\nconst _hoisted_7 = {\n  key: 1,\n  class: \"row gap-8\"\n}\n\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport BaseTextButton from \"@/components/Base/BaseTextButton.vue\";\r\nimport BaseDropMenu from \"@/components/Base/BaseDropMenu.vue\";\r\nimport UserIcon from \"@/components/Icons/UserIcon.vue\";\r\nimport LogOutIcon from \"@/components/Icons/LogOutIcon.vue\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport MaterialDropArrow from \"@/components/Icons/MaterialDropArrow.vue\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport DetailsIcon from \"@/components/Icons/DetailsIcon.vue\";\r\nimport {ref, onMounted, onBeforeUnmount, computed} from 'vue'\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\nimport MenuIcon from \"@/components/Icons/MenuIcon.vue\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'PrimaryHeader',\n  setup(__props) {\n\r\nconst store = userStore();\r\nconst router = useRouter();\r\nconst isHeadersMenuDropped = ref(false);\r\nconst selectedMenu = ref(\"\")\r\nconst menuValues = ['Главная', 'Редактор', 'Поиск'];\r\nconst screenWidth = ref(window.innerWidth)\r\nconst isMobile = computed(() => screenWidth.value <= 720)\r\n\r\nconst handleResize = () => {screenWidth.value = window.innerWidth}\r\n\r\nonMounted(() => {\r\n  window.addEventListener('resize', handleResize)\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  window.removeEventListener('resize', handleResize)\r\n})\r\n\r\nfunction selectMenuHandler(value: string) {\r\n  if (menuValues[0] === value) {\r\n    router.push('/')\r\n  } else if (menuValues[1] === value) {\r\n    router.push('/edit')\r\n  } else if (menuValues[2] === value) {\r\n    router.push('/search')\r\n  }\r\n\r\n  isHeadersMenuDropped.value = false;\r\n}\r\n\r\n\r\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _withDirectives(_createElementVNode(\"nav\", _hoisted_2, [\n      _createVNode(BaseSelector, {\n        \"model-value\": selectedMenu.value,\n        \"selectable-values\": menuValues,\n        title: 'Меню',\n        \"menu-alignment\": _unref(MenuAlignment).Left,\n        \"is-dropped\": isHeadersMenuDropped.value,\n        \"onUpdate:modelValue\": selectMenuHandler\n      }, {\n        header: _withCtx(() => [\n          _createVNode(BaseButton, {\n            style: {\"background-color\":\"#303036\"},\n            class: \"m-radius-circle m-border gap-16\",\n            onClick: _cache[0] || (_cache[0] = () => { isHeadersMenuDropped.value = !isHeadersMenuDropped.value })\n          }, {\n            default: _withCtx(() => [\n              _createVNode(MenuIcon),\n              _createTextVNode(\" Меню \")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      }, 8, [\"model-value\", \"menu-alignment\", \"is-dropped\"])\n    ], 512), [\n      [_vShow, isMobile.value]\n    ]),\n    _withDirectives(_createElementVNode(\"nav\", _hoisted_3, [\n      _createVNode(_component_router_link, {\n        class: \"row v__center\",\n        to: \"/\"\n      }, {\n        default: _withCtx(() => [\n          _hoisted_4\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_router_link, {\n        to: \"/edit\",\n        class: \"header__text-button body-small m-radius-circle m-border v__center\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Редактор \")\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_router_link, {\n        to: \"/\",\n        class: \"header__text-button m-radius-circle\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Главная \")\n        ]),\n        _: 1\n      }),\n      _createVNode(_component_router_link, {\n        to: \"/search\",\n        class: \"header__text-button m-radius-circle\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Поиск \")\n        ]),\n        _: 1\n      })\n    ], 512), [\n      [_vShow, !isMobile.value]\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      (!_unref(store).$state.loggedIn)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n            _createVNode(_component_router_link, { to: \"/login\" }, {\n              default: _withCtx(() => [\n                _createVNode(BaseTextButton, { class: \"header__text-button m-radius-circle\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\" Войти \")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_router_link, { to: \"/reg\" }, {\n              default: _withCtx(() => [\n                _createVNode(BaseTextButton, { class: \"header__text-button m-radius-circle\" }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\" Регистрация \")\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]))\n        : (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n            _createVNode(BaseDropMenu, { class: \"header__user gap-16\" }, {\n              header: _withCtx(({ onClick }) => [\n                _createVNode(BaseButton, {\n                  class: \"header__text-button gap-8 v__center m-radius-circle\",\n                  \"button-type\": 3,\n                  onClick: onClick\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(_toDisplayString(_unref(store).nickname) + \" \", 1),\n                    _createVNode(MaterialDropArrow)\n                  ]),\n                  _: 2\n                }, 1032, [\"onClick\"])\n              ]),\n              menu: _withCtx(({ onClick }) => [\n                _createVNode(BaseBackground, {\n                  class: \"header__menu m-radius-1 column v__start h__center\",\n                  onClick: onClick\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_router_link, {\n                      to: \"/profile\",\n                      class: \"header__menu-button row gap-8 v__center h__start\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(UserIcon),\n                        _createTextVNode(\" Профиль \")\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_router_link, {\n                      to: \"settings\",\n                      class: \"header__menu-button row gap-8 v__center h__start\"\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(DetailsIcon),\n                        _createTextVNode(\" Настройки \")\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_router_link, {\n                      class: \"header__menu-button row gap-8 v__center h__start\",\n                      to: \"/\",\n                      onClick: _unref(store).LogOut\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(LogOutIcon),\n                        _createTextVNode(\" Выйти \")\n                      ]),\n                      _: 1\n                    }, 8, [\"onClick\"])\n                  ]),\n                  _: 2\n                }, 1032, [\"onClick\"])\n              ]),\n              _: 1\n            })\n          ]))\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div style=\"height: 56px\" class=\"row h__space-between v__center\">\r\n    <nav v-show=\"isMobile\" class=\"row gap-16 v__center\">\r\n      <base-selector\r\n        :model-value=\"selectedMenu\"\r\n        :selectable-values=\"menuValues\"\r\n        :title=\"'Меню'\"\r\n        :menu-alignment=\"MenuAlignment.Left\"\r\n        :is-dropped=\"isHeadersMenuDropped\"\r\n        @update:modelValue=\"selectMenuHandler\"\r\n      >\r\n        <template #header>\r\n          <base-button\r\n            style=\"background-color: #303036;\"\r\n            class=\"m-radius-circle m-border gap-16\"\r\n            @click=\"() => { isHeadersMenuDropped = !isHeadersMenuDropped }\"\r\n          >\r\n            <menu-icon />\r\n            Меню\r\n          </base-button>\r\n        </template>\r\n      </base-selector>\r\n    </nav>\r\n\r\n    <nav\r\n      v-show=\"!isMobile\"\r\n      class=\"row gap-16 v__center\"\r\n    >\r\n      <router-link class=\"row v__center\" to=\"/\">\r\n        <img\r\n          class=\"header__logo\"\r\n          src=\"@/assets/images/Logo.svg\"\r\n          alt=\"Главная\"\r\n        >\r\n      </router-link>\r\n      <router-link to=\"/edit\" class=\"header__text-button body-small m-radius-circle m-border v__center\">\r\n        Редактор\r\n      </router-link>\r\n      <router-link to=\"/\" class=\"header__text-button m-radius-circle\">\r\n        Главная\r\n      </router-link>\r\n      <router-link to=\"/search\" class=\"header__text-button m-radius-circle\">\r\n        Поиск\r\n      </router-link>\r\n    </nav>\r\n\r\n    <div class=\"row gap-16 v__center\">\r\n      <div v-if=\"!store.$state.loggedIn\" class=\"row gap-16\">\r\n        <router-link to=\"/login\">\r\n          <base-text-button class=\"header__text-button m-radius-circle\">\r\n            Войти\r\n          </base-text-button>\r\n        </router-link>\r\n        <router-link to=\"/reg\">\r\n          <base-text-button class=\"header__text-button m-radius-circle\">\r\n            Регистрация\r\n          </base-text-button>\r\n        </router-link>\r\n      </div>\r\n\r\n      <div v-else class=\"row gap-8\">\r\n        <base-drop-menu class=\"header__user gap-16\">\r\n          <template #header=\"{ onClick }\">\r\n            <base-button\r\n              class=\"header__text-button gap-8 v__center m-radius-circle\"\r\n              :button-type=\"3\"\r\n              @click=\"onClick\"\r\n            >\r\n              {{ store.nickname }}\r\n              <material-drop-arrow />\r\n            </base-button>\r\n          </template>\r\n\r\n          <template #menu=\"{ onClick }\">\r\n            <base-background class=\"header__menu m-radius-1 column v__start h__center\" @click=\"onClick\">\r\n              <router-link to=\"/profile\" class=\"header__menu-button row gap-8 v__center h__start\">\r\n                <user-icon />\r\n                Профиль\r\n              </router-link>\r\n              <router-link to=\"settings\" class=\"header__menu-button row gap-8 v__center h__start\">\r\n                <details-icon />\r\n                Настройки\r\n              </router-link>\r\n              <router-link\r\n                class=\"header__menu-button row gap-8 v__center h__start\"\r\n                to=\"/\"\r\n                @click=\"store.LogOut\"\r\n              >\r\n                <log-out-icon />\r\n                Выйти\r\n              </router-link>\r\n            </base-background>\r\n          </template>\r\n        </base-drop-menu>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport BaseTextButton from \"@/components/Base/BaseTextButton.vue\";\r\nimport BaseDropMenu from \"@/components/Base/BaseDropMenu.vue\";\r\nimport UserIcon from \"@/components/Icons/UserIcon.vue\";\r\nimport LogOutIcon from \"@/components/Icons/LogOutIcon.vue\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport MaterialDropArrow from \"@/components/Icons/MaterialDropArrow.vue\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport DetailsIcon from \"@/components/Icons/DetailsIcon.vue\";\r\nimport {ref, onMounted, onBeforeUnmount, computed} from 'vue'\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\nimport MenuIcon from \"@/components/Icons/MenuIcon.vue\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\nconst store = userStore();\r\nconst router = useRouter();\r\nconst isHeadersMenuDropped = ref(false);\r\nconst selectedMenu = ref(\"\")\r\nconst menuValues = ['Главная', 'Редактор', 'Поиск'];\r\nconst screenWidth = ref(window.innerWidth)\r\nconst isMobile = computed(() => screenWidth.value <= 720)\r\n\r\nconst handleResize = () => {screenWidth.value = window.innerWidth}\r\n\r\nonMounted(() => {\r\n  window.addEventListener('resize', handleResize)\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  window.removeEventListener('resize', handleResize)\r\n})\r\n\r\nfunction selectMenuHandler(value: string) {\r\n  if (menuValues[0] === value) {\r\n    router.push('/')\r\n  } else if (menuValues[1] === value) {\r\n    router.push('/edit')\r\n  } else if (menuValues[2] === value) {\r\n    router.push('/search')\r\n  }\r\n\r\n  isHeadersMenuDropped.value = false;\r\n}\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.header {\r\n  &__user {\r\n    position: relative;\r\n  }\r\n\r\n  &__menu {\r\n    display: grid;\r\n    width: 200px;\r\n    grid-auto-columns: 1fr;\r\n    grid-auto-flow: row;\r\n    position: absolute;\r\n    left: -200px;\r\n\r\n    overflow: hidden;\r\n\r\n    &-button {\r\n      display: flex;\r\n      padding: 0 16px;\r\n      height: 40px;\r\n\r\n      &:hover {\r\n        background: var(--surface-container-highest90);\r\n      }\r\n    }\r\n  }\r\n\r\n  &__button {\r\n    font-size: 10px;\r\n    font-weight: 500;\r\n    color: white;\r\n    height: 22px;\r\n\r\n    border: 1px solid white;\r\n    border-radius: 4px;\r\n    transition: border 0.25s, color 0.25s;\r\n\r\n    padding: 0 8px;\r\n\r\n    &:hover {\r\n      cursor: pointer;\r\n      border: 1px solid var(--font-gray-v1);\r\n      color: var(--font-gray-v1);\r\n    }\r\n  }\r\n\r\n  &__logo {\r\n    height: 22px;\r\n    background: #FFFFFF;\r\n  }\r\n\r\n  &__edit {\r\n    height: fit-content;\r\n  }\r\n\r\n  &__text-button {\r\n    display: flex;\r\n    color: white;\r\n    padding: 10px 12px;\r\n\r\n    &:hover {\r\n      color: var(--font-gray-v1);\r\n      background: #21222A;\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./PrimaryHeader.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./PrimaryHeader.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./PrimaryHeader.vue?vue&type=style&index=0&id=fe7aad92&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-fe7aad92\"]])\n\nexport default __exports__","export enum MainPageType {\r\n    PopularForTwoWeeks = \"PopularForTwoWeeks\",\r\n    LastCreated = \"LastCreated\",\r\n    LastUpdated = \"LastUpdated\",\r\n}","export enum ContentSelectedInfo {\r\n    None = 0,\r\n    Episodes = 1,\r\n    ContentGenres = 2,\r\n    UserInfo = 4,\r\n    Translations = 8,\r\n}","import {ContentSelectedInfo} from \"@/api/Enums/ContentSelectedInfo\";\r\n\r\nexport class V1GetFullContentRequest {\r\n    constructor(\r\n        public contentId: number,\r\n        public selectedInfo: ContentSelectedInfo,\r\n        public userId: number\r\n    ) {\r\n    }\r\n}","import {V1GetMainPageContentResponse} from \"@/api/Responses/V1GetMainPageContentResponse\";\r\nimport {ApiResponse, ApiService} from \"@/api/ApiService\";\r\nimport {MainPageType} from \"@/api/Enums/MainPageType\";\r\nimport {V1GetMainPageContentRequest} from \"@/api/Requests/V1GetMainPageContentRequest\";\r\nimport {V1GetFullContentResponse} from \"@/api/Responses/V1GetFullContentResponse\";\r\nimport {V1GetFullContentRequest} from \"@/api/Requests/V1GetFullContentRequest\";\r\nimport {ContentSelectedInfo} from \"@/api/Enums/ContentSelectedInfo\";\r\nimport {V1GetByQueryRequest} from \"@/api/Requests/V1GetByQueryRequest\";\r\nimport {V1GetByQueryResponse} from \"@/api/Requests/V1GetByQueryResponse\";\r\n\r\n\r\n\r\nexport class ContentService extends ApiService {\r\n    constructor() { super(\"v1/content/\"); }\r\n\r\n    async V1GetMainPageContentAsync(): Promise<ApiResponse<V1GetMainPageContentResponse>> {\r\n        const request = {\r\n            mainPageTypes: [MainPageType.LastCreated, MainPageType.PopularForTwoWeeks, MainPageType.LastUpdated],\r\n            limit: 20,\r\n            offset: 0,\r\n        };\r\n\r\n        return this.fetchV2<V1GetMainPageContentResponse, {}>(\r\n            request,\r\n            \"get-main-page-content\"\r\n        );\r\n    }\r\n\r\n    async V1GetById(contentId: number, userId: number): Promise<V1GetFullContentResponse> {\r\n        const request = new V1GetFullContentRequest(\r\n            contentId,\r\n            ContentSelectedInfo.ContentGenres | ContentSelectedInfo.UserInfo | ContentSelectedInfo.Episodes,\r\n            userId\r\n        );\r\n\r\n        return this.CallHandlerAsync<V1GetFullContentResponse, V1GetFullContentRequest>(request, \"get-by-id\");\r\n    }\r\n\r\n    async V1GetByQuery(request: V1GetByQueryRequest) : Promise<V1GetByQueryResponse> {\r\n        return this.CallHandlerAsync<V1GetByQueryResponse, V1GetByQueryRequest>(request, \"get-by-query\")\r\n    }\r\n\r\n    async searchBy(searchInput: string) {\r\n        return this.CallHandlerAsync<V1SearchByResponse, V1SearchByRequest>({Search: searchInput} as V1SearchByRequest, \"search-by\")\r\n    }\r\n\r\n    async incrementViews(contentId: number) {\r\n        return this.CallPostHandlerAsync<{ContentId: number}>(\r\n            {ContentId: contentId},\r\n            \"increment-views\");\r\n    }\r\n}\r\n\r\ninterface V1SearchByRequest {\r\n    Search: string\r\n}\r\n\r\ninterface V1SearchByResponse {\r\n    Units: V1SearchByResponseUnit[]\r\n}\r\n\r\nexport interface V1SearchByResponseUnit {\r\n    ContentId: number;\r\n    Title: string;\r\n    ImageId: number;\r\n}\r\n\r\n","import {ApiService} from \"@/api/ApiService\";\r\nimport {Linter} from \"eslint\";\r\nimport FlatConfigFileSpec = Linter.FlatConfigFileSpec;\r\n\r\nexport class ImageService extends ApiService {\r\n    constructor() { super(\"image\"); }\r\n\r\n    public async insertImage(\r\n        contentId: number | null,\r\n        historyId: number,\r\n        image: FlatConfigFileSpec | FlatConfigFileSpec[]): Promise<any> {\r\n        const formData = new FormData();\r\n\r\n        // @ts-ignore\r\n        formData.append(\"Image\", image);\r\n        if (contentId != null) formData.append(\"ContentId\", contentId.toString());\r\n        formData.append(\"HistoryId\", historyId.toString());\r\n\r\n        await this.CallHandlerByFormDataAsync(\r\n            \"/content/insert\",\r\n            formData,\r\n        );\r\n    }\r\n\r\n    public getImageLink(imageId: number, contentId: number): string {\r\n        return this.hostPath + `image/content/get-avatar?ImageId=${imageId}&ContentId=${contentId}`;\r\n    }\r\n}","import {ApiResponse, ApiService} from \"@/api/ApiService\";\r\nimport {V1CreateContentResponse} from \"@/api/Responses/V1CreateContentResponse\";\r\nimport {V1CreateContentRequest} from \"@/api/Requests/V1CreateContentRequest\";\r\nimport {V1GetChangesComparisonsRequest} from \"@/api/Requests/V1GetChangesComparisonsRequest\";\r\nimport {V1GetChangesComparisonsResponse} from \"@/api/Responses/V1GetChangesComparisonsResponse\";\r\nimport { Language } from \"./Enums/Language\";\r\nimport {TranslationType} from \"@/api/Enums/TranslationType\";\r\n\r\nexport type V1CreateEpisodeChangeRequest = {\r\n    ContentId: number,\r\n    ChangeableFields: ChangeableEpisodeFields,\r\n    CreatedBy: number\r\n}\r\n\r\nexport type ChangeableEpisodeFields = {\r\n    Number: number,\r\n    VideoScript: string,\r\n    Language: typeof Language,\r\n    TranslationType: typeof TranslationType,\r\n    EpisodeId: number | null,\r\n    TranslatorId: number | null,\r\n    TranslatorName: string | null,\r\n    Quality: number | null,\r\n}\r\n\r\ntype V1ApproveRequest = {\r\n    HistoryId: number,\r\n    UserId: number\r\n}\r\n\r\nexport class ChangesHistoryService extends ApiService {\r\n    constructor() { super(\"v1/changes/\"); }\r\n\r\n    public async createContentChange(request: V1CreateContentRequest): Promise<V1CreateContentResponse>  {\r\n        return await this.CallHandlerAsync<V1CreateContentResponse, V1CreateContentRequest>(\r\n            request,\r\n            'create-content'\r\n        );\r\n    }\r\n    public async createEpisodeChange(request: V1CreateEpisodeChangeRequest) {\r\n        return await this.CallPostHandlerAsync<V1CreateEpisodeChangeRequest>(request, 'create-episode')\r\n    }\r\n\r\n    public async getChangesComparisons(request: V1GetChangesComparisonsRequest)\r\n        : Promise<ApiResponse<V1GetChangesComparisonsResponse>> {\r\n        return await this.fetchV2<V1GetChangesComparisonsResponse, V1GetChangesComparisonsRequest>(\r\n            request,\r\n            \"get-changes-comparisons\"\r\n        );\r\n    }\r\n\r\n    public async approve(historyId: number, userId: number) : Promise<ApiResponse<Response>> {\r\n        return await this.fetchV2({ HistoryId: historyId, UserId: userId }, 'approve');\r\n    }\r\n}","import {ApiService} from \"@/api/ApiService\";\r\n\r\nexport class EpisodeService extends ApiService {\r\n    constructor() {\r\n        super('v1/episode/');\r\n    }\r\n\r\n    public async query(request: V1EpisodeQueryRequest): Promise<V1EpisodeQueryResponse[]>  {\r\n        return await this.CallHandlerAsync<V1EpisodeQueryResponse[], V1EpisodeQueryRequest>(request, 'query');\r\n    }\r\n\r\n    public async incrementViews(episodeId: number) {\r\n        return this.CallPostHandlerAsync<{EpisodeId: number}>(\r\n            {EpisodeId: episodeId},\r\n            \"increment-views\");\r\n    }\r\n}\r\n\r\nexport class V1EpisodeQueryRequest {\r\n    public EpisodeIds: number[] | undefined;\r\n    public ContentIds: number[] | undefined;\r\n    public Limit: number | null | undefined;\r\n    public Offset: number | null | undefined;\r\n}\r\n\r\nexport interface V1EpisodeQueryResponse {\r\n    Id: number;\r\n    ContentId: number;\r\n    Title: string;\r\n    Image: string;\r\n    Number: number;\r\n    Views: number;\r\n    Stars: number;\r\n    CreatedAt: number;\r\n    CreatedBy: number;\r\n}\r\n","import {ApiService} from \"./ApiService\";\r\n\r\nexport class TranslatorService extends ApiService {\r\n    constructor() {\r\n        super('v1/translator/');\r\n    }\r\n\r\n    public async query(request: V1TranslatorQueryRequest) {\r\n        return await this.CallHandlerAsync<V1TranslatorQueryResponse, V1TranslatorQueryRequest>(request, 'query');\r\n    }\r\n}\r\n\r\nexport type V1TranslatorQueryRequest = {\r\n    TranslatorIds: number[] | null\r\n    Search: string | null,\r\n    Offset: number | null,\r\n    Limit: number | null\r\n}\r\n\r\nexport type V1TranslatorQueryResponse = {\r\n    Translators: V1TranslatorQueryResponseUnit[]\r\n}\r\n\r\nexport type V1TranslatorQueryResponseUnit = {\r\n    TranslatorId: number,\r\n    Name: string,\r\n    Link: string\r\n}\r\n\r\n","import { defineStore } from 'pinia'\r\n\r\nexport const EventTypes = {\r\n    Info: 'Info',\r\n    Warning: 'Warning',\r\n    Error: 'Error',\r\n    Success: 'Success',\r\n} as const;\r\n\r\ntype Event = {\r\n    eventType: typeof EventTypes,\r\n    text: string,\r\n}\r\n\r\ninterface EventAction {\r\n    events: Event[]\r\n}\r\n\r\nexport const ClientEventStore = defineStore('client-event-store', {\r\n    state(): EventAction {\r\n        return {\r\n            events: []\r\n        };\r\n    },\r\n    actions: {\r\n        push(text: string, type: typeof EventTypes) {\r\n            this.events.push({eventType: type, text: text});\r\n        }\r\n    }\r\n})","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, vShow as _vShow, withModifiers as _withModifiers, normalizeClass as _normalizeClass, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport {ref} from \"vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AutoHide',\n  setup(__props) {\n\r\nconst isVisible = ref(true);\r\nconst isFading = ref(false);\r\nlet isMouseInside = false;\r\nfunction showDivTemporarily() {\r\n  isVisible.value = true;\r\n\r\n  setTimeout(() => {\r\n    if (isMouseInside) {\r\n      return;\r\n    }\r\n\r\n    isFading.value = true;\r\n    setTimeout(() => {\r\n      isVisible.value = false;\r\n      isFading.value = false;\r\n    }, 1000);\r\n  }, 2000);\r\n}\r\n\r\nfunction mouseEnter() {\r\n  console.log('mouseEnter')\r\n  isMouseInside = true;\r\n  isVisible.value = true;\r\n  isFading.value = false;\r\n}\r\n\r\nfunction mouseLeave() {\r\n  console.log('mouseLeave')\r\n  isMouseInside = false;\r\n  showDivTemporarily();\r\n}\r\n\r\nshowDivTemporarily();\r\n\nreturn (_ctx: any,_cache: any) => {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"auto-hide__message\", { 'auto-hide__fade-out': isFading.value }]),\n    onClick: _withModifiers(showDivTemporarily, [\"stop\"]),\n    onMouseenter: mouseEnter,\n    onMouseleave: mouseLeave,\n    onMousedown: showDivTemporarily,\n    onMouseover: mouseEnter\n  }, [\n    _renderSlot(_ctx.$slots, \"default\")\n  ], 34)), [\n    [_vShow, isVisible.value]\n  ])\n}\n}\n\n})","<template>\r\n  <div\r\n    v-show=\"isVisible\"\r\n    class=\"auto-hide__message\" :class=\"{ 'auto-hide__fade-out': isFading }\"\r\n    @click.stop=\"showDivTemporarily\"\r\n    @mouseenter=\"mouseEnter\"\r\n    @mouseleave=\"mouseLeave\"\r\n    @mousedown=\"showDivTemporarily\"\r\n    @mouseover=\"mouseEnter\"\r\n  >\r\n    <slot />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport {ref} from \"vue\";\r\n\r\nconst isVisible = ref(true);\r\nconst isFading = ref(false);\r\nlet isMouseInside = false;\r\nfunction showDivTemporarily() {\r\n  isVisible.value = true;\r\n\r\n  setTimeout(() => {\r\n    if (isMouseInside) {\r\n      return;\r\n    }\r\n\r\n    isFading.value = true;\r\n    setTimeout(() => {\r\n      isVisible.value = false;\r\n      isFading.value = false;\r\n    }, 1000);\r\n  }, 2000);\r\n}\r\n\r\nfunction mouseEnter() {\r\n  console.log('mouseEnter')\r\n  isMouseInside = true;\r\n  isVisible.value = true;\r\n  isFading.value = false;\r\n}\r\n\r\nfunction mouseLeave() {\r\n  console.log('mouseLeave')\r\n  isMouseInside = false;\r\n  showDivTemporarily();\r\n}\r\n\r\nshowDivTemporarily();\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.auto-hide {\r\n  &__message {\r\n    opacity: 1;\r\n    transition: opacity 1s ease-out; /* Set a 2-second fade-out transition */\r\n  }\r\n\r\n  &__fade-out {\r\n    opacity: 0; /* Gradually reduce opacity to 0 */\r\n  }\r\n}\r\n</style>","import script from \"./AutoHide.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AutoHide.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./AutoHide.vue?vue&type=style&index=0&id=51c37159&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-51c37159\"]])\n\nexport default __exports__","import {ApiService} from \"@/api/ApiService\";\r\nimport {V1GetByEpisodeRequest} from \"@/api/Requests/V1GetByEpisodeRequest\";\r\nimport {V1GetByEpisodeResponse} from \"@/api/Responses/V1GetByEpisodeResponse\";\r\nimport {GenreQueryRequest} from \"@/api/Requests/GenreQueryRequest\";\r\nimport {GenreQueryResponse} from \"@/api/Responses/GenreQueryResponse\";\r\n\r\nexport class GenreService extends ApiService {\r\n    constructor() {\r\n        super(\"v1/genre/\");\r\n    }\r\n\r\n    async Query(request: GenreQueryRequest) : Promise<GenreQueryResponse> {\r\n        return await this.CallHandlerAsync<GenreQueryResponse, GenreQueryRequest>(request, \"query\");\r\n    }\r\n}\r\n\r\n","import {ApiResponse, ApiService, ErrorDetails} from \"@/api/ApiService\";\r\n\r\nexport class UserApi extends ApiService {\r\n    constructor() {\r\n        super('v1/user/');\r\n    }\r\n    public async logIn(email: string, password: string, isRememberMe: boolean) : Promise<Response | ErrorDetails> {\r\n        const path = this.hostPath + this.servicePath + 'login-by-cookie';\r\n        const requestHeaders: HeadersInit = new Headers();\r\n        requestHeaders.set('Content-Type', 'application/json; charset=utf-8');\r\n\r\n        const request = {\r\n            Email: email,\r\n            Password: password,\r\n            IsRememberMe: isRememberMe\r\n        };\r\n\r\n        const requestJson = JSON.stringify(request);\r\n        const response = await fetch(path, {\r\n            method: 'POST',\r\n            headers: requestHeaders,\r\n            body: requestJson,\r\n            credentials: \"include\"\r\n        });\r\n\r\n        if (response.status === 400) {\r\n            const model = await response.json() as ErrorDetails;\r\n            console.log({path: response.url, response: model});\r\n            return model;\r\n        } else if (response.status === 200) {\r\n            return response;\r\n        } else {\r\n            return {\r\n                ErrorCode: \"0\",\r\n                Message: \"Что-то пошло не так! Ошибка сервера.\",\r\n                ErrorDetails: new Map<string, string>()\r\n            };\r\n        }\r\n    }\r\n\r\n    public async getCurrent() : Promise<ApiResponse<GetCurrentResponse>> {\r\n        return await this.fetchV2<GetCurrentResponse, {}>({}, 'current');\r\n    }\r\n\r\n    public async registration(\r\n        nickname: string,\r\n        email: string,\r\n        password: string) : Promise<ApiResponse<{Token: string}>> {\r\n        return await this.fetchV2<{Token: string}, {}>({\r\n                email: email,\r\n                nickname: nickname,\r\n                password: password\r\n            },\r\n            'registration/create',\r\n        );\r\n    }\r\n\r\n    async sendPasswordResetCode(email: string) : Promise<ApiResponse<{}>> {\r\n        return await this.fetchV2({\r\n            email: email,\r\n        }, 'reset-password/send-code');\r\n    }\r\n\r\n    async verifyPasswordResetCode(email: string, code: number)\r\n        : Promise<ApiResponse<VerifyPasswordResetCodeResponse>> {\r\n        return await this.fetchV2<VerifyPasswordResetCodeResponse, VerifyPasswordResetCodeRequest>(\r\n            {Email: email, Code: code},\r\n            'reset-password/verify-code'\r\n        );\r\n    }\r\n\r\n    async resetPassword(email: string, newPassword: string, passwordResetTemporaryToken: string) {\r\n        const path = this.hostPath + this.servicePath + 'reset-password/finish';\r\n        const requestHeaders: HeadersInit = new Headers();\r\n        requestHeaders.set('Content-Type', 'application/json; charset=utf-8');\r\n        requestHeaders.set('Authorization', 'Bearer ' + passwordResetTemporaryToken);\r\n        const requestBody = JSON.stringify({Email: email, NewPassword: newPassword});\r\n        const response = await fetch(path, {\r\n            method: 'POST',\r\n            headers: requestHeaders,\r\n            body: requestBody\r\n        });\r\n\r\n        console.log({path: path, request: requestBody, response: response});\r\n    }\r\n\r\n    async UpdateNickname(newNickname: string, isForce: boolean) : Promise<ApiResponse<{}>> {\r\n        return await this.fetchV2<{}, {}>(\r\n            {NewNickname: newNickname, IsForce: isForce},\r\n            'update-nickname'\r\n        );\r\n    }\r\n\r\n    async SendUpdateMailCode() : Promise<ApiResponse<{}>> {\r\n        return await this.fetchV2<{}, {}>({}, 'update-mail/old-email-send-code');\r\n    }\r\n\r\n    async VerifyOldMailCode(inputCode: string) : Promise<ApiResponse<{Token: string}>> {\r\n        return await this.fetchV2<{Token: string}, {}>(\r\n            {Code: inputCode},\r\n            'update-mail/old-email-verify-code'\r\n        );\r\n    }\r\n\r\n    async SendNewMailCode(newMail: string, authToken: string) {\r\n        const requestHeaders: HeadersInit = new Headers();\r\n        requestHeaders.set('Authorization', 'Bearer ' + authToken);\r\n\r\n        return await this.fetchV2<{}, {}>(\r\n            {NewMail: newMail},\r\n            'update-mail/new-email-send-code',\r\n            requestHeaders);\r\n    }\r\n\r\n    async VerifyNewMailCode(newMail: string, inputCode: string, authToken: string) {\r\n        const requestHeaders: HeadersInit = new Headers();\r\n        requestHeaders.set('Authorization', 'Bearer ' + authToken);\r\n\r\n        return await this.fetchV2<{}, {}>(\r\n            {\r\n                NewMail: newMail,\r\n                Code: inputCode\r\n            },\r\n            'update-mail/new-email-verify-code',\r\n            requestHeaders\r\n        );\r\n    }\r\n\r\n    async sendMailVerifyCode(authTempToken: string) {\r\n        const requestHeaders: HeadersInit = new Headers();\r\n        requestHeaders.set('Content-Type', 'application/json; charset=utf-8');\r\n        requestHeaders.set('Authorization', 'Bearer ' + authTempToken);\r\n        return await this.fetchV2<{}, {}>({}, 'registration/send-verify-code', requestHeaders);\r\n    }\r\n\r\n    async verifyRegistrationCode(verifyCode: string, authTempToken: string) {\r\n        const requestHeaders: HeadersInit = new Headers();\r\n        requestHeaders.set('Content-Type', 'application/json; charset=utf-8');\r\n        requestHeaders.set('Authorization', 'Bearer ' + authTempToken);\r\n        return await this.fetchV2<{}, {VerificationCode: string}>(\r\n            {VerificationCode: verifyCode},\r\n            'registration/verify-mail',\r\n            requestHeaders\r\n        );\r\n    }\r\n}\r\n\r\nexport type VerifyPasswordResetCodeRequest = {\r\n    Email: string,\r\n    Code: number\r\n}\r\n\r\nexport type VerifyPasswordResetCodeResponse = {\r\n    Token: string\r\n}\r\n\r\nexport type GetCurrentResponse = {\r\n    User: GetCurrentUser,\r\n    Roles: GetCurrentPermission[]\r\n}\r\n\r\nexport type GetCurrentUser = {\r\n    Id: number,\r\n    Nickname: string,\r\n    Email: string,\r\n    CreatedAt: number,\r\n    IsMailVerified: boolean,\r\n    ImageUrl: string\r\n}\r\n\r\nexport type GetCurrentPermission = {\r\n    Id: number,\r\n    Alias: string\r\n}","import {ApiResponse, ApiService} from \"@/api/ApiService\";\r\nimport {FavoriteStatus} from \"@/models/FavoriteStatuses\";\r\n\r\nexport class FavoriteApi extends ApiService {\r\n    constructor() {\r\n        super('v1/favorite/');\r\n    }\r\n\r\n    public async query(\r\n        contentId: number | null = null,\r\n        episodeId: number | null = null,\r\n        limit: number = 1,\r\n        offset: number = 0)\r\n        : Promise<ApiResponse<FavoriteQueryResponse>> {\r\n        return await this.fetchV2<FavoriteQueryResponse, {}>(\r\n            {\r\n                ContentIds: contentId === null ? [] : [contentId],\r\n                EpisodeIds: episodeId === null ? [] : [episodeId],\r\n                Limit: limit,\r\n                Offset: offset\r\n            },\r\n            'query'\r\n        );\r\n    }\r\n\r\n    public async getList(\r\n        status: FavoriteStatus,\r\n        limit: number,\r\n        offset: number)\r\n        : Promise<ApiResponse<FavoriteGetListResponse>> {\r\n        return await this.fetchV2<FavoriteGetListResponse, {}>(\r\n            {\r\n                Status: status,\r\n                Limit: limit,\r\n                Offset: offset\r\n            },\r\n            'get-list'\r\n        );\r\n    }\r\n\r\n    public async setStatus(contentId: number, status: FavoriteStatus | null) {\r\n        return await this.fetchV2<{}, {}>(\r\n            {\r\n                ContentId: contentId,\r\n                Status: status\r\n            },\r\n            'set-status'\r\n        );\r\n    }\r\n\r\n    public async setStars(contentId: number, stars: number) {\r\n        return await this.fetchV2<{}, {}>(\r\n            {\r\n                ContentId: contentId,\r\n                Stars: stars\r\n            },\r\n            'set-stars'\r\n        );\r\n    }\r\n\r\n    public async setEpisode(contentId: number, episodeId: number) {\r\n        return await this.fetchV2<{}, {}>(\r\n            {\r\n                ContentId: contentId,\r\n                EpisodeId: episodeId\r\n            },\r\n            'set-episode'\r\n        );\r\n    }\r\n}\r\n\r\nexport type FavoriteQueryResponse = {\r\n    Favorites : Favorite[]\r\n}\r\n\r\nexport type Favorite = {\r\n    Id: number,\r\n    UserId: number,\r\n    ContentId: number,\r\n    EpisodeId: number | null,\r\n    Status: FavoriteStatus | null,\r\n    Stars: number | null,\r\n    CreatedAt: number\r\n}\r\n\r\nexport type FavoriteGetListResponse = {\r\n    Favorites : FavoriteGetList[]\r\n}\r\n\r\nexport type FavoriteGetList = {\r\n    Id: number,\r\n    UserId: number,\r\n    ContentId: number,\r\n    Title: string,\r\n    EpisodeId: number | null,\r\n    Status: FavoriteStatus | null,\r\n    Stars: number | null,\r\n    CreatedAt: number\r\n}\r\n\r\n\r\n","<template>\r\n  <div style=\"height: 100vh;\">\r\n    <div class=\"material wrapper\">\r\n      <div class=\"primary-header__background\" />\r\n      <PrimaryHeader class=\"primary-header__grid\" />\r\n\r\n      <router-view class=\"body__grid\" />\r\n      <div class=\"event__box gap-8\">\r\n        <auto-hide\r\n          v-for=\"event in events\"\r\n          :key=\"event\"\r\n        >\r\n          <base-background\r\n            v-if=\"event.eventType === EventTypes.Info\"\r\n            :type=\"2\"\r\n            class=\"event__unit-info event__unit body-medium m3-bg-1 m-radius-1\"\r\n          >\r\n            {{ event.text }}\r\n          </base-background>\r\n\r\n          <base-background\r\n            v-else-if=\"event.eventType === EventTypes.Success\"\r\n            :type=\"2\"\r\n            class=\"event__unit-success event__unit body-medium m3-bg-1 m-radius-1\"\r\n          >\r\n            {{ event.text }}\r\n          </base-background>\r\n\r\n          <base-background\r\n            v-else-if=\"event.eventType === EventTypes.Error\"\r\n            :type=\"2\"\r\n            class=\"event__unit-error event__unit body-medium m3-bg-1 m-radius-1\"\r\n          >\r\n            {{ event.text }}\r\n          </base-background>\r\n        </auto-hide>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {TranslationService} from './api/TranslationService';\r\nimport PrimaryHeader from './components/Headers/PrimaryHeader.vue';\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport {computed, provide} from \"vue\";\r\nimport {ImageService} from \"@/api/ImageService\";\r\nimport {ChangesHistoryService} from \"@/api/ChangesHistoryService\";\r\nimport {EpisodeService} from \"@/api/EpisodeService\";\r\nimport {TranslatorService} from \"@/api/TranslatorService\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport AutoHide from \"@/components/AutoHide.vue\";\r\nimport {GenreService} from \"@/api/GenreService\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport {FavoriteApi} from \"@/api/FavoriteApi\";\r\n\r\n\r\nprovide('content-service', new ContentService());\r\nprovide('translation-service', new TranslationService());\r\nprovide('image-service', new ImageService());\r\nprovide('changes-history-service', new ChangesHistoryService());\r\nprovide('episode-service', new EpisodeService());\r\nprovide('translator-service', new TranslatorService());\r\nprovide('genre-service', new GenreService());\r\nprovide('user-api', new UserApi());\r\nprovide('favorite-api', new FavoriteApi());\r\n\r\nconst clientEventStore = new ClientEventStore();\r\nconst events = computed(() => clientEventStore.$state.events);\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@/assets/styles/mstyles.scss\";\r\n@import \"@/assets/styles/custombootstrap.scss\";\r\n@import url(\"https://fonts.googleapis.com/css2?family=Roboto\");\r\n@import url(@/assets/styles/token.css);\r\n\r\n:root {\r\n  background: #F5F2FA;\r\n  --primary: #577399;\r\n  --light-primary: #BDD5EA;\r\n  --dark-primary: #495867;\r\n  --secondary: #FF776F;\r\n  --warning-red: #d20000;\r\n  --white: #F7F7FF;\r\n\r\n  --font-black: #18191F;\r\n  --font-gray: #474A57;\r\n  --font-light-black: #222222;\r\n  --font-gray-v1: #D9DBE1;\r\n  --font-gray-v2: #EEEFF4;\r\n  --font-gray-v3: #F4F5F7;\r\n\r\n  --header-static-text: #9D9D9D;\r\n  --header-hover-text: #577399;\r\n\r\n  --font-gray-v4: #969BAB;\r\n\r\n  --placeholder: #999;\r\n}\r\n\r\n* {\r\n  box-sizing: border-box;\r\n  a {\r\n    color: var(--dark-primary);\r\n    text-decoration: none;\r\n  }\r\n\r\n  * {\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n\r\n  button {\r\n    text-decoration: none;\r\n    border: none;\r\n    outline: none;\r\n    background: none;\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n}\r\n\r\n#app {\r\n  font-family: \"Roboto\", sans-serif;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  font-size: 14px;\r\n  letter-spacing: 0.04em;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #49454F;\r\n}\r\n\r\n.wrapper {\r\n  margin: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n  display: grid;\r\n  grid-template-columns: 1fr 20px minmax(min-content, 1200px) 20px 1fr;\r\n  grid-template-rows: 56px auto;\r\n}\r\n\r\n.header-grid {\r\n  grid-column: 1 / 6;\r\n  grid-row: 1 / 1;\r\n}\r\n\r\n.body__grid {\r\n  height: 100%;\r\n  width: 100%;\r\n  grid-column: 3 / 3;\r\n  grid-row: 2 / 2;\r\n}\r\n\r\n.primary-header__grid {\r\n  top: 0;\r\n  position: sticky;\r\n  z-index: 9999;\r\n  grid-column: 3 / 3;\r\n  grid-row: 1 / 1;\r\n}\r\n\r\n.primary-header__background {\r\n  top: 0;\r\n  position: sticky;\r\n  z-index: 9999;\r\n  grid-column: 1 / 6;\r\n  grid-row: 1 / 1;\r\n  background: #303036;\r\n  height: 100%;\r\n}\r\n\r\n.event {\r\n  &__box {\r\n    display: flex;\r\n    width: fit-content;\r\n    height: fit-content;\r\n    flex-direction: column;\r\n    top: 40px;\r\n    justify-self: end;\r\n\r\n    padding: 20px 0;\r\n    gap: 8px;\r\n    position: sticky;\r\n    grid-column: 3 / 3;\r\n    grid-row: 2 / 2;\r\n  }\r\n\r\n  &__unit {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    padding: 12px 16px;\r\n    width: 344px;\r\n    height: fit-content;\r\n    text-align: start;\r\n    box-shadow:\r\n      0 1px 3px 0 rgba(0, 0, 0, 0.3),\r\n      0 4px 8px 3px rgba(0, 0, 0, 0.15);\r\n\r\n    &-info {\r\n      background: #303036;\r\n      color: white;\r\n    }\r\n\r\n    &-success {\r\n      color: white;\r\n      background: #4f9d00;\r\n    }\r\n\r\n    &-error {\r\n      background: #BA1A1A;\r\n      color: white;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=10d8ac55&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <svg\n    width=\"13\" height=\"13\"\n    viewBox=\"0 0 13 14\" fill=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\r\n    <path\r\n      d=\"M1.17168 5.36769C1.17168 3.49467 1.17168 2.55816 1.75355 1.97628C2.33542 1.39441 3.27194 1.39441 5.14496 1.39441H7.79381C9.66684 1.39441 10.6033 1.39441 11.1852 1.97628C11.7671 2.55816 11.7671 3.49467 11.7671 5.36769V9.88903C11.7671 11.6659 11.7671 12.5544 11.208 12.8261C10.6489 13.0979 9.95028 12.549 8.55306 11.4512L8.1059 11.0998C7.32027 10.4825 6.92746 10.1739 6.46939 10.1739C6.01132 10.1739 5.6185 10.4825 4.83287 11.0998L4.38571 11.4512C2.98849 12.549 2.28988 13.0979 1.73078 12.8261C1.17168 12.5544 1.17168 11.6659 1.17168 9.88903V5.36769Z\"\r\n      stroke=\"currentColor\"\r\n      stroke-width=\"1.80937\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./FavoriteIcon.vue?vue&type=template&id=2b41a01b\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export class OptionsApi {\r\n    /**\r\n     * Все профильные активности с пользователем\r\n     * Disable when UserRepo and etc will be ready to prod\r\n     */\r\n    public static HIDE_USER_ACTIVITIES: boolean = false\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createTextVNode as _createTextVNode, withCtx as _withCtx, createVNode as _createVNode, unref as _unref, resolveComponent as _resolveComponent, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-df8c9820\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"search-item__image-box-1\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"search-item__tags-box\"\n}\nconst _hoisted_3 = { class: \"search-item__first-tags-box\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"search-item__tag\"\n}\nconst _hoisted_5 = { class: \"label-medium\" }\nconst _hoisted_6 = {\n  key: 1,\n  class: \"search-item__tag\"\n}\nconst _hoisted_7 = { class: \"label-medium\" }\nconst _hoisted_8 = { class: \"row row-dynamic gap-8\" }\nconst _hoisted_9 = { class: \"label-medium\" }\nconst _hoisted_10 = { class: \"search-item__image-box m-radius-16\" }\nconst _hoisted_11 = [\"src\", \"alt\"]\nconst _hoisted_12 = { class: \"search-item__details-box\" }\nconst _hoisted_13 = { class: \"search-item__description search-item__line-breaker\" }\nconst _hoisted_14 = {\n  key: 0,\n  class: \"search-item__genre search-item__line-breaker\"\n}\nconst _hoisted_15 = {\n  key: 1,\n  class: \"search-item__icon-button\"\n}\nconst _hoisted_16 = {\n  key: 2,\n  class: \"search-item__icon-button\"\n}\n\nimport {inject, PropType, ref} from \"vue\";\r\nimport FavoriteIcon from \"@/components/Icons/FavoriteIcon.vue\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport DetailsIcon from \"@/components/Icons/DetailsIcon.vue\";\r\nimport BaseTextButton from \"@/components/Base/BaseTextButton.vue\";\r\nimport {OptionsApi} from \"@/options/OptionsApi\";\r\nimport {ImageService} from \"@/api/ImageService\";\r\nimport {SearchItemViewModel} from \"@/components/Body/Search/ViewModels/SearchItemViewModel\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SearchItem',\n  props: {\r\n  content: {type: Object as PropType<SearchItemViewModel>, required: true}\r\n},\n  setup(__props) {\n\r\nconst props = __props;\r\n\r\nconst removeDuplicates = (arr: string[]): string[] => {\r\n  return [...new Set(arr)];\r\n}\r\n\r\nconst imageService: ImageService = inject<ImageService>(\"image-service\");\r\nconst imageLink = imageService.getImageLink(props.content.ImageId, props.content.Id);\r\nconst image = ref<string>(imageLink);\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createBlock(BaseBackground, {\n    class: \"search-item__box\",\n    type: 3\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_router_link, {\n        to: { name: 'theater', params: { id: __props.content.Id}}\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_1, [\n            (__props.content.MinAge || __props.content.SeriesCounter)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                  _createElementVNode(\"div\", _hoisted_3, [\n                    (__props.content.MinAge)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                          _createElementVNode(\"span\", _hoisted_5, _toDisplayString(__props.content.MinAge) + \"+\", 1)\n                        ]))\n                      : _createCommentVNode(\"\", true),\n                    (__props.content.SeriesCounter)\n                      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                          _createElementVNode(\"span\", _hoisted_7, _toDisplayString(__props.content.SeriesCounter), 1)\n                        ]))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _createElementVNode(\"div\", _hoisted_8, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(removeDuplicates(__props.content.Translates), (lang) => {\n                      return (_openBlock(), _createElementBlock(\"div\", {\n                        key: lang,\n                        class: \"search-item__tag\"\n                      }, [\n                        _createElementVNode(\"p\", _hoisted_9, _toDisplayString(lang), 1)\n                      ]))\n                    }), 128))\n                  ])\n                ]))\n              : _createCommentVNode(\"\", true),\n            _createElementVNode(\"div\", _hoisted_10, [\n              _createElementVNode(\"img\", {\n                class: \"search-item__image\",\n                src: image.value,\n                alt: __props.content.Title,\n                onError: _cache[0] || (_cache[0] = () => { image.value = require('@/assets/images/DefaultImage.png') })\n              }, null, 40, _hoisted_11)\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_12, [\n            _createVNode(BaseTextButton, { class: \"title-large search-item__title search-item__line-breaker\" }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(__props.content.Title), 1)\n              ]),\n              _: 1\n            }),\n            _createElementVNode(\"a\", _hoisted_13, _toDisplayString(__props.content.Description), 1),\n            (__props.content.Genres)\n              ? (_openBlock(), _createElementBlock(\"p\", _hoisted_14, _toDisplayString(__props.content.Genres), 1))\n              : _createCommentVNode(\"\", true),\n            (_unref(OptionsApi).HIDE_USER_ACTIVITIES)\n              ? (_openBlock(), _createElementBlock(\"button\", _hoisted_15, [\n                  _createVNode(FavoriteIcon, { class: \"search-item__icon\" })\n                ]))\n              : _createCommentVNode(\"\", true),\n            (_unref(OptionsApi).HIDE_USER_ACTIVITIES)\n              ? (_openBlock(), _createElementBlock(\"button\", _hoisted_16, [\n                  _createVNode(DetailsIcon, { class: \"search-item__icon\" })\n                ]))\n              : _createCommentVNode(\"\", true)\n          ])\n        ]),\n        _: 1\n      }, 8, [\"to\"])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n  <BaseBackground class=\"search-item__box\" :type=\"3\">\r\n    <router-link :to=\"{ name: 'theater', params: { id: content.Id}}\">\r\n      <div class=\"search-item__image-box-1\">\r\n        <div\r\n          v-if=\"content.MinAge || content.SeriesCounter\"\r\n          class=\"search-item__tags-box\"\r\n        >\r\n          <div class=\"search-item__first-tags-box\">\r\n            <div v-if=\"content.MinAge\" class=\"search-item__tag\">\r\n              <span class=\"label-medium\">{{ content.MinAge }}+</span>\r\n            </div>\r\n            <div v-if=\"content.SeriesCounter\" class=\"search-item__tag\">\r\n              <span class=\"label-medium\">{{ content.SeriesCounter }}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row row-dynamic gap-8\">\r\n            <div\r\n              v-for=\"lang in removeDuplicates(content.Translates)\"\r\n              :key=\"lang\"\r\n              class=\"search-item__tag\"\r\n            >\r\n              <p class=\"label-medium\">\r\n                {{ lang }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <div class=\"search-item__image-box m-radius-16\">\r\n          <img\r\n            class=\"search-item__image\"\r\n            :src=\"image\"\r\n            :alt=\"content.Title\"\r\n            @error=\"() => { image = require('@/assets/images/DefaultImage.png') }\"\r\n          >\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"search-item__details-box\">\r\n        <BaseTextButton class=\"title-large search-item__title search-item__line-breaker\">\r\n          {{ content.Title }}\r\n        </BaseTextButton>\r\n\r\n        <a class=\"search-item__description search-item__line-breaker\">\r\n          {{ content.Description }}\r\n        </a>\r\n\r\n        <p v-if=\"content.Genres\" class=\"search-item__genre search-item__line-breaker\">\r\n          {{ content.Genres }}\r\n        </p>\r\n\r\n        <button v-if=\"OptionsApi.HIDE_USER_ACTIVITIES\" class=\"search-item__icon-button\">\r\n          <FavoriteIcon class=\"search-item__icon\" />\r\n        </button>\r\n        <button v-if=\"OptionsApi.HIDE_USER_ACTIVITIES\" class=\"search-item__icon-button\">\r\n          <DetailsIcon class=\"search-item__icon\" />\r\n        </button>\r\n      </div>\r\n    </router-link>\r\n  </BaseBackground>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {defineProps, inject, PropType, ref} from \"vue\";\r\nimport FavoriteIcon from \"@/components/Icons/FavoriteIcon.vue\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport DetailsIcon from \"@/components/Icons/DetailsIcon.vue\";\r\nimport BaseTextButton from \"@/components/Base/BaseTextButton.vue\";\r\nimport {OptionsApi} from \"@/options/OptionsApi\";\r\nimport {ImageService} from \"@/api/ImageService\";\r\nimport {SearchItemViewModel} from \"@/components/Body/Search/ViewModels/SearchItemViewModel\";\r\n\r\nconst props = defineProps({\r\n  content: {type: Object as PropType<SearchItemViewModel>, required: true}\r\n});\r\n\r\nconst removeDuplicates = (arr: string[]): string[] => {\r\n  return [...new Set(arr)];\r\n}\r\n\r\nconst imageService: ImageService = inject<ImageService>(\"image-service\");\r\nconst imageLink = imageService.getImageLink(props.content.ImageId, props.content.Id);\r\nconst image = ref<string>(imageLink);\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-item {\r\n  &__first-tags-box {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 8px;\r\n  }\r\n\r\n  &__box {\r\n    display: flex;\r\n    background: var(--primary99);\r\n    flex-direction: column;\r\n\r\n    width: 100%;\r\n    height: fit-content;\r\n\r\n    overflow: hidden;\r\n    border: none;\r\n  }\r\n\r\n  &__image-box-1 {\r\n    display: grid;\r\n    height: 350px;\r\n    align-items: end;\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: 1fr;\r\n  }\r\n\r\n  &__image-box {\r\n    display: flex;\r\n    height: 100%;\r\n    width: auto;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    overflow: hidden;\r\n\r\n    grid-row-start: 1;\r\n    grid-row-end: 3;\r\n    grid-column-start: 1;\r\n    grid-column-end: 3;\r\n  }\r\n\r\n  &__image {\r\n    object-fit: cover;\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n\r\n  &__details-box {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    gap: 8px;\r\n    padding: 16px;\r\n  }\r\n\r\n  &__title {\r\n    color: #474A57;\r\n    -webkit-line-clamp: 2;\r\n\r\n    &:hover {\r\n      cursor: pointer;\r\n      color: var(--secondary);\r\n    }\r\n  }\r\n\r\n  &__line-breaker {\r\n    text-align: start;\r\n    word-wrap: break-word;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: -webkit-box;\r\n    -webkit-box-orient: vertical;\r\n  }\r\n\r\n  &__description {\r\n    font-weight: 500;\r\n    font-size: 13px;\r\n    text-align: left;\r\n    letter-spacing: 0.02em;\r\n    color: #474A57;\r\n    -webkit-line-clamp: 2;\r\n  }\r\n\r\n  &__genre {\r\n    font-weight: 500;\r\n    font-size: 12px;\r\n    text-align: left;\r\n    -webkit-line-clamp: 1;\r\n    color: #969BAB;\r\n  }\r\n\r\n  &__tag {\r\n    width: fit-content;\r\n    color: white;\r\n    background: var(--primary40);\r\n    border-radius: 4px;\r\n    padding: 4px 8px;\r\n  }\r\n\r\n  &__tags-box {\r\n    display: flex;\r\n    flex-direction: column;\r\n    flex-wrap: wrap;\r\n    z-index: 1;\r\n    overflow: hidden;\r\n    height: fit-content;\r\n    gap: 8px;\r\n    padding: 16px;\r\n\r\n    grid-row-start: 2;\r\n    grid-row-end: 3;\r\n    grid-column-start: 1;\r\n    grid-column-end: 3;\r\n  }\r\n\r\n  &__icon {\r\n    height: 22px;\r\n    width: 22px;\r\n  }\r\n\r\n  &__buttons {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    gap: 10px;\r\n\r\n    grid-row-start: 1;\r\n    grid-row-end: 2;\r\n    grid-column-start: 2;\r\n    grid-column-end: 3;\r\n  }\r\n\r\n  &__icon-button {\r\n    display: grid;\r\n    height: 32px;\r\n    width: 32px;\r\n    align-self: center;\r\n    justify-self: center;\r\n    text-decoration: none;\r\n    border-radius: 4px;\r\n    border: 1.5px solid var(--font-gray-v1);\r\n    background: var(--white);\r\n    color: #9D9D9D;\r\n    transition: color 0.1s;\r\n\r\n    &:hover {\r\n      cursor: pointer;\r\n      border-radius: 4px;\r\n      color: #577399;\r\n      border: 1.5px solid #93B0D9;\r\n    }\r\n\r\n    & svg {\r\n      height: 18px;\r\n      width: 18px;\r\n      justify-self: center;\r\n      align-self: center;\r\n    }\r\n  }\r\n\r\n  &__langs {\r\n    display: flex;\r\n    width: 100%;\r\n    flex-direction: row;\r\n    gap: 8px;\r\n  }\r\n}\r\n\r\n</style>\r\n\r\n\r\n\r\n","import script from \"./SearchItem.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SearchItem.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SearchItem.vue?vue&type=style&index=0&id=df8c9820&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-df8c9820\"]])\n\nexport default __exports__","export const Country = {\r\n    Null: \"Null\",\r\n    Korea: \"Korea\",\r\n    Japan: \"Japan\",\r\n    China: \"China\",\r\n} as const;","import {V1GetByQueryResponseContent} from \"@/api/Requests/V1GetByQueryResponse\";\r\nimport {SearchItemViewModel} from \"@/components/Body/Search/ViewModels/SearchItemViewModel\";\r\nimport moment from \"moment\";\r\nimport {Country} from \"@/api/Enums/Country\";\r\nimport {QueryContent} from \"@/api/BaseQuery/QueryContent\";\r\nimport {V1GetMainPageContentContent} from \"@/api/Responses/V1GetMainPageContentResponse\";\r\n\r\nexport class SearchContentFactory {\r\n    static mapToViewModel(content: V1GetMainPageContentContent) : SearchItemViewModel  {\r\n        let description: string[] = [];\r\n\r\n        if (content.Content.ReleasedAt) {\r\n            description.push(moment(new Date(content.Content.ReleasedAt)).format('YYYY'));\r\n        }\r\n        if (content.Content.Country && content.Content.Country.toString() != Country.Null.toString()) {\r\n            description.push(content.Content.Country.toString())\r\n        }\r\n        if (content.Content.EngTitle) {\r\n            description.push(content.Content.EngTitle);\r\n        }\r\n        if (content.Content.OriginTitle){\r\n            description.push(content.Content.OriginTitle);\r\n        }\r\n\r\n        return {\r\n            Id: content.Content.Id,\r\n            ImageId: content.Content.ImageId,\r\n            Title: content.Content.Title,\r\n            Description: description.join(' / '),\r\n            Translates: [],\r\n            Genres: content.Genres.join(' / '),\r\n            MinAge: content.Content.MinAgeLimit,\r\n            SeriesCounter: content.Content.OutSeries + '/' + content.Content.PlannedSeries\r\n        };\r\n    }\r\n\r\n    static getContentViewModel(content: V1GetByQueryResponseContent) : SearchItemViewModel {\r\n        let description: string[] = [];\r\n\r\n        if (content.Content.ReleasedAt) {\r\n            description.push(moment(new Date(content.Content.ReleasedAt)).format('YYYY'));\r\n        }\r\n        if (content.Content.Country && content.Content.Country.toString() != Country.Null.toString()) {\r\n            description.push(content.Content.Country.toString())\r\n        }\r\n        if (content.Content.EngTitle) {\r\n            description.push(content.Content.EngTitle);\r\n        }\r\n        if (content.Content.OriginTitle){\r\n            description.push(content.Content.OriginTitle);\r\n        }\r\n\r\n        let seriesCounter = content.Content.OutSeries + '/' + content.Content.PlannedSeries;\r\n\r\n        return {\r\n            Id: content.Content.Id,\r\n            ImageId: content.Content.ImageId,\r\n            Title: content.Content.Title,\r\n            Description: description.join(' / '),\r\n            Translates: content.Translations.map(x => x.Language.toString()),\r\n            Genres: content.Genres.map(x => x.Name).join(' / '),\r\n            MinAge: content.Content.MinAgeLimit >= 0 ? content.Content.MinAgeLimit : null,\r\n            SeriesCounter: seriesCounter\r\n        };\r\n    }\r\n}\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, unref as _unref, createBlock as _createBlock, vShow as _vShow, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1a08899e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"scroll-content-component gap-8\" }\nconst _hoisted_2 = { class: \"scroll-content-component__headline headline-small\" }\nconst _hoisted_3 = { class: \"scroll-content-component__box row gap-16\" }\n\nimport {PropType} from 'vue';\r\nimport SearchItem from \"@/components/Body/Search/SearchItem.vue\";\r\nimport {SearchContentFactory} from \"@/components/Body/Search/SearchItemViewFactory\";\r\nimport {V1GetMainPageContentContent} from \"@/api/Responses/V1GetMainPageContentResponse\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ScrollContentComponent',\n  props: {\r\n  title: {type: String, required: true},\r\n  contents: {type: Array as PropType<Array<V1GetMainPageContentContent>>, required: true}\r\n},\n  setup(__props) {\n\r\nconst props = __props\r\n\nreturn (_ctx: any,_cache: any) => {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"h1\", _hoisted_2, _toDisplayString(__props.title), 1),\n    _createElementVNode(\"div\", _hoisted_3, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.contents, (content) => {\n        return (_openBlock(), _createBlock(SearchItem, {\n          key: content,\n          content: _unref(SearchContentFactory).mapToViewModel(content)\n        }, null, 8, [\"content\"]))\n      }), 128))\n    ])\n  ], 512)), [\n    [_vShow, props.contents.length > 0]\n  ])\n}\n}\n\n})","<template>\r\n  <div\r\n    v-show=\"props.contents.length > 0\"\r\n    class=\"scroll-content-component gap-8\"\r\n  >\r\n    <h1 class=\"scroll-content-component__headline headline-small\">\r\n      {{ title }}\r\n    </h1>\r\n\r\n    <div class=\"scroll-content-component__box row gap-16\">\r\n      <template\r\n        v-for=\"content in contents\"\r\n        :key=\"content\"\r\n      >\r\n        <search-item :content=\"SearchContentFactory.mapToViewModel(content)\" />\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {defineProps, PropType} from 'vue';\r\nimport SearchItem from \"@/components/Body/Search/SearchItem.vue\";\r\nimport {SearchContentFactory} from \"@/components/Body/Search/SearchItemViewFactory\";\r\nimport {V1GetMainPageContentContent} from \"@/api/Responses/V1GetMainPageContentResponse\";\r\n\r\nconst props = defineProps({\r\n  title: {type: String, required: true},\r\n  contents: {type: Array as PropType<Array<V1GetMainPageContentContent>>, required: true}\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.scroll-content-component {\r\n  &__headline {\r\n    padding: 8px 0;\r\n  }\r\n\r\n  &__box {\r\n    width: 100%;\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n    grid-auto-flow: row;\r\n  }\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n\r\n  &__title {\r\n    display: flex;\r\n    align-items: center;\r\n    text-align: justify;\r\n\r\n    color: #38383C;\r\n  }\r\n\r\n  &__icons {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 10px;\r\n\r\n    & svg {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-content: center;\r\n      width: 30px;\r\n      height: 30px;\r\n      color: #969BAB;\r\n    }\r\n\r\n    & svg:hover {\r\n      background-color: #EEEFF4;\r\n      border-radius: 4px;\r\n      cursor: pointer;\r\n      color:#577399;\r\n    }\r\n  }\r\n\r\n  &__scroll-body {\r\n    display: grid;\r\n    width: 100%;\r\n    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));\r\n    grid-template-rows: repeat(auto-fit, minmax(290px, 1fr));\r\n    gap: 25px;\r\n  }\r\n\r\n  &__card {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    padding: 0;\r\n    gap: 10px;\r\n\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    &-title {\r\n      display: flex;\r\n      color: #474A57;\r\n      align-items: flex-start;\r\n      display: -webkit-box;\r\n      overflow: hidden;\r\n      -webkit-line-clamp: 2;\r\n      line-clamp: 2;\r\n\r\n      transition: color 0.25s;\r\n\r\n      &:hover {\r\n        color: var(--secondary);\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n\r\n  &__footer {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 10px;\r\n    padding: 15px 10px;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: fit-content;\r\n    bottom: 0;\r\n\r\n    background: rgba(0, 0, 0, 0.5);\r\n    border-radius: 0 0 6px 6px;\r\n  }\r\n\r\n  &__tag-title {\r\n    height: fit-content;\r\n    width: fit-content;\r\n    font-style: normal;\r\n    font-weight: 600;\r\n    font-size: 11.5px;\r\n    line-height: 15px;\r\n    display: flex;\r\n    align-items: center;\r\n    text-align: justify;\r\n    color: #FFFFFF;\r\n  }\r\n\r\n  &__tag {\r\n    margin-left: 14px;\r\n    margin-right: 14px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 161px;\r\n    height: 15px;\r\n  }\r\n\r\n  &__tag-counter {\r\n    font-style: normal;\r\n    font-weight: 900;\r\n    font-size: 12px;\r\n    line-height: 15px;\r\n    letter-spacing: 0.04em;\r\n  }\r\n\r\n  &__tag-value-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 6px;\r\n    color: var(--outline-variant-light)\r\n  }\r\n\r\n  &__image-box {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow: hidden;\r\n\r\n    width: 100%;\r\n    min-height: 300px;\r\n    max-height: 350px;\r\n    background: var(--font-gray-v1);\r\n    border-radius: 16px;\r\n\r\n    &:hover {\r\n      cursor: pointer;\r\n      width: 100%\r\n    }\r\n  }\r\n\r\n  &__image {\r\n    height: 100%;\r\n    width: 100%;\r\n    object-fit: cover;\r\n    transition: height 0.25s;\r\n  }\r\n\r\n  &__rating-value {\r\n    position: absolute;\r\n    width: 17px;\r\n    height: 15px;\r\n    left: 30px;\r\n    top: 4px;\r\n\r\n    font-style: normal;\r\n    font-weight: 600;\r\n    font-size: 12px;\r\n    line-height: 15px;\r\n\r\n    display: flex;\r\n    align-items: center;\r\n    text-align: justify;\r\n    margin: 0;\r\n\r\n    color: #FFFFFF;\r\n  }\r\n}\r\n</style>","import script from \"./ScrollContentComponent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ScrollContentComponent.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ScrollContentComponent.vue?vue&type=style&index=0&id=1a08899e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1a08899e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-394820f2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"body-main-flex gap-16\" }\n\nimport ScrollContentComponent from \"@/components/Body/BodyComponents/ScrollContentComponent.vue\";\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport {inject, onMounted, ref} from \"vue\";\r\nimport {V1GetMainPageContentResponse} from \"@/api/Responses/V1GetMainPageContentResponse\";\r\nimport {MainPageType} from \"@/api/Enums/MainPageType\";\r\nimport * as events from \"events\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'HomeView',\n  setup(__props) {\n\r\nconst eventStore = ClientEventStore();\r\nconst contentService: ContentService = inject('content-service');\r\n\r\nfunction getMainPageTypeTitle(pageType: MainPageType) : string {\r\n  switch (pageType) {\r\n    case MainPageType.PopularForTwoWeeks:\r\n      return \"Популярное\";\r\n    case MainPageType.LastCreated:\r\n      return \"Новинки\";\r\n    case MainPageType.LastUpdated:\r\n      return \"Последние обновления\";\r\n  }\r\n}\r\n\r\nlet content = ref<V1GetMainPageContentResponse>(null);\r\n\r\nonMounted(async() => {\r\n  const response =\r\n    (await contentService.V1GetMainPageContentAsync())\r\n    .onException(() => { eventStore.push('Ошибка сервера! Сообщите нам о проблеме или попробуйте вернуться позже.', EventTypes.Error as typeof EventTypes)});\r\n\r\n  if (response.data) {\r\n    content.value = response.data;\r\n  }\r\n});\r\n\r\nfunction getContentKeys(content: V1GetMainPageContentResponse): MainPageType[] {\r\n  return content.PageContent.map((x) => x.MainPageType);\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_unref(content) != null && _unref(content).PageContent !== undefined)\n      ? (_openBlock(true), _createElementBlock(_Fragment, { key: 0 }, _renderList(getContentKeys(_unref(content)), (pageTypeKey, index) => {\n          return (_openBlock(), _createBlock(ScrollContentComponent, {\n            key: index,\n            title: getMainPageTypeTitle(pageTypeKey),\n            contents: _unref(content).PageContent[index].ContentsInfo\n          }, null, 8, [\"title\", \"contents\"]))\n        }), 128))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"body-main-flex gap-16\">\r\n    <template v-if=\"content != null && content.PageContent !== undefined\">\r\n      <ScrollContentComponent\r\n        v-for=\"(pageTypeKey, index) in getContentKeys(content)\"\r\n        :key=\"index\"\r\n        :title=\"getMainPageTypeTitle(pageTypeKey)\"\r\n        :contents=\"content.PageContent[index].ContentsInfo\"\r\n      />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport ScrollContentComponent from \"@/components/Body/BodyComponents/ScrollContentComponent.vue\";\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport {inject, onMounted, ref} from \"vue\";\r\nimport {V1GetMainPageContentResponse} from \"@/api/Responses/V1GetMainPageContentResponse\";\r\nimport {MainPageType} from \"@/api/Enums/MainPageType\";\r\nimport * as events from \"events\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\n\r\nconst eventStore = ClientEventStore();\r\nconst contentService: ContentService = inject('content-service');\r\n\r\nfunction getMainPageTypeTitle(pageType: MainPageType) : string {\r\n  switch (pageType) {\r\n    case MainPageType.PopularForTwoWeeks:\r\n      return \"Популярное\";\r\n    case MainPageType.LastCreated:\r\n      return \"Новинки\";\r\n    case MainPageType.LastUpdated:\r\n      return \"Последние обновления\";\r\n  }\r\n}\r\n\r\nlet content = ref<V1GetMainPageContentResponse>(null);\r\n\r\nonMounted(async() => {\r\n  const response =\r\n    (await contentService.V1GetMainPageContentAsync())\r\n    .onException(() => { eventStore.push('Ошибка сервера! Сообщите нам о проблеме или попробуйте вернуться позже.', EventTypes.Error as typeof EventTypes)});\r\n\r\n  if (response.data) {\r\n    content.value = response.data;\r\n  }\r\n});\r\n\r\nfunction getContentKeys(content: V1GetMainPageContentResponse): MainPageType[] {\r\n  return content.PageContent.map((x) => x.MainPageType);\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.body-main-flex {\r\n    padding: 16px 0 40px 0;\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n</style>\r\n","import script from \"./HomeView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./HomeView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=394820f2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-394820f2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"filter-unit__header-button\" }\n\nimport {PropType, ref} from 'vue'\r\nimport FilterUnitModel from \"@/components/Search/Models/FilterUnitModel\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'FilterUnit',\n  props: {\r\n  show: {type: Boolean, default: true, required: false},\r\n  filter: {type: Object as PropType<FilterUnitModel>, required: true},\r\n},\n  setup(__props) {\n\r\nconst props = __props;\r\n\r\nconst inputValues = ref(props.filter.selectableValues);\r\n\r\nfunction getKeyValues(): string[] {\r\n  const result = [];\r\n  for (const value of props.filter.selectableValues.keys()) {\r\n    result.push(value)\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nfunction selectClick(key: string) : void {\r\n  const value = inputValues.value[key];\r\n  inputValues.value.set(key, !value);\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(BaseSelector, {\n      class: \"m3-bg-1 m-radius-1 m-border m-border-hover\",\n      title: __props.filter.name,\n      \"menu-alignment\": _unref(MenuAlignment).Right,\n      \"selectable-values\": getKeyValues(),\n      \"onUpdate:modelValue\": selectClick\n    }, null, 8, [\"title\", \"menu-alignment\", \"selectable-values\"])\n  ]))\n}\n}\n\n})","import {ContentSelectedInfo} from \"@/api/Enums/ContentSelectedInfo\";\r\nimport {ContentStatus} from \"@/api/Enums/ContentStatus\";\r\nimport {ContentType} from \"@/api/Enums/ContentType\";\r\nimport {Country} from \"@/api/Enums/Country\";\r\nimport {QueryPaging} from \"@/api/Models/QueryPaging\";\r\n\r\nexport class V1GetByQueryRequest {\r\n    public Search: string = \"\";\r\n    public Filters: V1GetByQuerySearchFilters = new V1GetByQuerySearchFilters();\r\n    public QueryPaging: QueryPaging = { Limit: 20, Offset: 0 };\r\n    public SelectedInfo: ContentSelectedInfo = ContentSelectedInfo.None;\r\n}\r\n\r\nexport class V1GetByQuerySearchFilters {\r\n    public ContentIds: number[] = []\r\n    public Countries: Array<typeof Country> = [];\r\n    public ContentTypes: Array<typeof ContentType> = [];\r\n    public ContentStatuses: Array<typeof ContentStatus> = [];\r\n    public GenreIds: Array<number> = [];\r\n}","export const ContentType = {\r\n    Film: 'Film',\r\n    Documentary: 'Documentary',\r\n    Serial: 'Serial',\r\n    Show: 'Show',\r\n} as const;\r\n\r\nconst ContentTypeRu = {\r\n    Film: 'Фильм',\r\n    Documentary: 'Документалка',\r\n    Serial: 'Сериал',\r\n    Show: 'Шоу',\r\n}\r\n\r\nexport function mapContentTypeToRuStr(contentType: keyof typeof ContentType): string {\r\n    return ContentTypeRu[contentType];\r\n}","export const ContentStatus = {\r\n    Announced: \"Announced\",\r\n    Ongoing: \"Ongoing\",\r\n    Stopped: \"Stopped\",\r\n    Finished: \"Finished\",\r\n} as const;\r\n\r\nconst ContentStatusRu = {\r\n    Announced: \"Анонсировано\",\r\n    Ongoing: \"Онгоинг\",\r\n    Stopped: \"Приостановлено\",\r\n    Finished: \"Завершено\",\r\n} as const;\r\n\r\nexport function mapContentStatusToRuStr(contentType: keyof typeof ContentStatus | undefined): string {\r\n    if (!contentType) {\r\n        return \"\";\r\n    }\r\n\r\n    return ContentStatusRu[contentType];\r\n}","export const FilterTypes = {\r\n    SearchInput: \"SearchInput\",\r\n    ContentType: \"ContentType\",\r\n    Country: \"Country\",\r\n    ContentStatus: \"ContentStatus\",\r\n} as const;","import {FilterTypes} from \"@/components/Search/Models/FilterTypes\";\r\n\r\nexport default class FilterUnitModel<TValues> {\r\n    constructor(\r\n        public key: string,\r\n        public selectedValue: String,\r\n        public type: typeof FilterTypes,\r\n        public selectableValues: Map<TValues, boolean>,\r\n        public isMenuDropped: boolean) { }\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelDynamic as _vModelDynamic, mergeProps as _mergeProps, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderSlot as _renderSlot, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-23dd5211\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"placeholder\", \"type\", \"disabled\"]\n\nimport {ref, watch} from \"vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseInput',\n  props: {\r\n  modelValue: {default: \"\"},\r\n  placeHolder: {type: String, required: false, default: 'Введите пароль'},\r\n  label: {type: String, required: false, default: undefined},\r\n  type: {type: String, required: false, default: \"text\"},\r\n  markAsInvalidInput: {type: Boolean, default: false},\r\n  disabled: {type: Boolean, default: false},\r\n  inputValidator: {\r\n    type: Function as () => (value: string) => boolean,\r\n    default: () => (_: string) => true,\r\n    required: false\r\n  }\r\n},\n  emits: ['update:modelValue'],\n  setup(__props, { emit: __emit }) {\n\r\nconst emits = __emit\r\n\r\nconst props = __props;\r\n\r\nconst refValue = ref<string>(props.modelValue);\r\n\r\nwatch(() => props.modelValue, (newValue) => {\r\n  refValue.value = newValue;\r\n});\r\n\r\n// eslint-disable-next-line vue/no-setup-props-destructure\r\nlet lastValidValue: string = props.modelValue;\r\nfunction onInput(newValue: string) {\r\n  if (!props.inputValidator(newValue)) {\r\n    refValue.value = lastValidValue;\r\n    return;\r\n  }\r\n\r\n  refValue.value = newValue;\r\n  lastValidValue = newValue;\r\n  emits('update:modelValue', newValue);\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"input__input-static-box\", {'input__input-invalid-box': __props.markAsInvalidInput }])\n  }, [\n    (__props.label)\n      ? (_openBlock(), _createElementBlock(\"label\", {\n          key: 0,\n          class: _normalizeClass([\"material body-small input__label\", {'input__label-errored': __props.markAsInvalidInput }])\n        }, _toDisplayString(__props.label), 3))\n      : _createCommentVNode(\"\", true),\n    _withDirectives(_createElementVNode(\"input\", _mergeProps({\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((refValue).value = $event))\n    }, _ctx.$attrs, {\n      class: \"input__input\",\n      placeholder: __props.placeHolder,\n      type: __props.type,\n      disabled: __props.disabled,\n      onInput: _cache[1] || (_cache[1] = ($event: any) => (onInput($event.target.value)))\n    }), null, 16, _hoisted_1), [\n      [_vModelDynamic, refValue.value]\n    ]),\n    _renderSlot(_ctx.$slots, \"end-icon\")\n  ], 2))\n}\n}\n\n})","<template>\r\n  <div\r\n    class=\"input__input-static-box\"\r\n    :class=\"{'input__input-invalid-box': markAsInvalidInput }\"\r\n  >\r\n    <label\r\n      v-if=\"label\"\r\n      class=\"material body-small input__label\"\r\n      :class=\"{'input__label-errored': markAsInvalidInput }\"\r\n    >\r\n      {{ label }}\r\n    </label>\r\n    <input\r\n      v-model=\"refValue\"\r\n      v-bind=\"$attrs\"\r\n      class=\"input__input\"\r\n      :placeholder=\"placeHolder\"\r\n      :type=\"type\"\r\n      :disabled=\"disabled\"\r\n      @input=\"onInput($event.target.value)\"\r\n    >\r\n    <slot name=\"end-icon\" />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {defineEmits, ref, watch} from \"vue\";\r\n\r\nconst emits = defineEmits(['update:modelValue'])\r\n\r\nconst props = defineProps({\r\n  modelValue: {default: \"\"},\r\n  placeHolder: {type: String, required: false, default: 'Введите пароль'},\r\n  label: {type: String, required: false, default: undefined},\r\n  type: {type: String, required: false, default: \"text\"},\r\n  markAsInvalidInput: {type: Boolean, default: false},\r\n  disabled: {type: Boolean, default: false},\r\n  inputValidator: {\r\n    type: Function as () => (value: string) => boolean,\r\n    default: () => (_: string) => true,\r\n    required: false\r\n  }\r\n});\r\n\r\nconst refValue = ref<string>(props.modelValue);\r\n\r\nwatch(() => props.modelValue, (newValue) => {\r\n  refValue.value = newValue;\r\n});\r\n\r\n// eslint-disable-next-line vue/no-setup-props-destructure\r\nlet lastValidValue: string = props.modelValue;\r\nfunction onInput(newValue: string) {\r\n  if (!props.inputValidator(newValue)) {\r\n    refValue.value = lastValidValue;\r\n    return;\r\n  }\r\n\r\n  refValue.value = newValue;\r\n  lastValidValue = newValue;\r\n  emits('update:modelValue', newValue);\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.no-spinners::-webkit-inner-spin-button,\r\n.no-spinners::-webkit-outer-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n\r\n.no-spinners {\r\n  -moz-appearance: textfield;\r\n}\r\n\r\n.input {\r\n  &__label {\r\n    background: white;\r\n    position: absolute;\r\n    left: 12px;\r\n    top: -9px;\r\n    width: fit-content;\r\n    padding: 0 4px;\r\n\r\n    font-family: var(--body-small-font-family-name);\r\n    font-style: var(--body-small-font-family-style);\r\n    font-weight: var(--body-small-font-weight);\r\n    font-size: var(--body-small-font-size);\r\n    letter-spacing: var(--body-small-letter-spacing);\r\n    line-height: var(--body-small-line-height);\r\n\r\n    color: var(--on-surface-variant-light);\r\n\r\n    &-errored {\r\n      border: 1px solid var(--warning-red);\r\n    }\r\n  }\r\n\r\n  &__input-static-box {\r\n    display: flex;\r\n    flex-direction: row;\r\n    height: 48px;\r\n    width: 100%;\r\n\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: relative;\r\n    padding-right: 4px;\r\n  }\r\n\r\n  &__input {\r\n    display: flex;\r\n    height: 100%;\r\n    width: 100%;\r\n    padding: 0 0 0 16px;\r\n\r\n    text-decoration: none;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 16px;\r\n    line-height: 24px;\r\n    border: none;\r\n    outline: none;\r\n    background: none;\r\n\r\n    &:hover {\r\n      outline: none;\r\n    }\r\n\r\n    &-invalid-box {\r\n      border: 1px solid var(--error40);\r\n    }\r\n  }\r\n}\r\n\r\n</style>","import script from \"./BaseInput.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseInput.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseInput.vue?vue&type=style&index=0&id=23dd5211&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-23dd5211\"]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"24\"\r\n    height=\"24\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <circle\r\n      cx=\"11\"\r\n      cy=\"11\"\r\n      r=\"7\"\r\n      stroke=\"currentColor\"\r\n      stroke-width=\"2\"\r\n    />\r\n    <path\r\n      d=\"M20 20L16 16\"\r\n      stroke=\"currentColor\"\r\n      stroke-width=\"2\"\r\n      stroke-linecap=\"round\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./LoopIcon.vue?vue&type=template&id=437042dc\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"icon-button__box\">\r\n    <slot />\r\n  </div>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n.icon-button__box {\r\n  display: flex;\r\n  height: 40px;\r\n  width: 40px;\r\n  min-height: 40px;\r\n  min-width: 40px;\r\n  user-select: none;\r\n\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  border-radius: 100px;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background: var(--surface-container-highest90);\r\n  }\r\n}\r\n</style>","import { render } from \"./IconButton.vue?vue&type=template&id=979d4ffe&scoped=true\"\nconst script = {}\n\nimport \"./IconButton.vue?vue&type=style&index=0&id=979d4ffe&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-979d4ffe\"]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"24\" height=\"24\"\r\n    viewBox=\"0 0 24 24\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      d=\"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./xIcon.vue?vue&type=template&id=6430fb11\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, withModifiers as _withModifiers, withKeys as _withKeys, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-6f8f5d71\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"search-selector__box\" }\n\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport {PropType, ref, watch} from \"vue\";\r\nimport LoopIcon from \"@/components/Icons/LoopIcon.vue\";\r\nimport IconButton from \"@/components/Base/Buttons/IconButton.vue\";\r\nimport XIcon from \"@/components/Icons/xIcon.vue\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AsyncSearchSelector',\n  props: {\r\n  input: {type: String, required: false, default: \"\"},\r\n  placeholder: {type: String, required: true},\r\n  values: {type: Object as PropType<Array<string>>, required: true, default: new Array<string>()},\r\n  isInvalid: {type: Boolean, required: false, default: false},\r\n  showLoopIcon: {type: Boolean, required: false, default: true},\r\n  isDropped: {type: Boolean, required: false, default: false},\r\n  callUpdaterDelay: {type: Number, required: false, default: 0}\r\n},\n  emits: [\"change:input\", \"onkeydown:enter\"],\n  setup(__props, { emit: __emit }) {\n\r\nconst props = __props;\r\n\r\nconst textInput = ref(props.input);\r\nconst isDroppedRef = ref(props.isDropped);\r\nconst selectedValue = ref(\"\");\r\nlet dropMenuTimeout: NodeJS.Timeout = null;\r\n\r\nwatch(() => props.input, (newValue) => {\r\n  textInput.value = newValue;\r\n});\r\n\r\nwatch(() => props.isDropped, (newValue) => {\r\n  isDroppedRef.value = newValue;\r\n  console.log('DROP MENU:' + newValue);\r\n});\r\n\r\nconst emits = __emit;\r\n\r\nfunction onChangeInput() {\r\n  clearTimeout(dropMenuTimeout);\r\n\r\n  if (textInput.value.length === 0) {\r\n    emits('change:input', textInput.value, false);\r\n    return;\r\n  }\r\n\r\n  dropMenuTimeout = setTimeout(() => {\r\n    emits('change:input', textInput.value, false);\r\n  }, props.callUpdaterDelay);\r\n}\r\n\r\nfunction onSelectValue(value: string) {\r\n  textInput.value = value;\r\n  emits('change:input', textInput.value, true);\r\n}\r\n\r\nfunction searchByContentInput(dropMenuAction: (boolean) => void) {\r\n  if (textInput.value.length > 0) {\r\n    dropMenuAction(isDroppedRef.value);\r\n    return;\r\n  }\r\n\r\n  dropMenuAction(isDroppedRef.value);\r\n}\r\n\r\nfunction cleanInputButton() {\r\n  textInput.value = \"\";\r\n  selectedValue.value = \"\";\r\n\r\n  emits('change:input', textInput.value, false);\r\n  onChangeInput();\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(BaseSelector, {\n    modelValue: selectedValue.value,\n    \"onUpdate:modelValue\": [\n      _cache[2] || (_cache[2] = ($event: any) => ((selectedValue).value = $event)),\n      onSelectValue\n    ],\n    \"mark-as-invalid-input\": __props.isInvalid,\n    \"selectable-values\": __props.values,\n    \"menu-alignment\": _unref(MenuAlignment).Left,\n    \"is-dropped\": isDroppedRef.value,\n    onInput: onChangeInput\n  }, {\n    header: _withCtx(({dropMenu}) => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(BaseInput, {\n          modelValue: textInput.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((textInput).value = $event)),\n          \"place-holder\": __props.placeholder,\n          onKeyup: ($event: any) => (searchByContentInput(dropMenu)),\n          onKeydown: _cache[1] || (_cache[1] = _withKeys(_withModifiers(($event: any) => (emits('onkeydown:enter', textInput.value)), [\"stop\"]), [\"enter\"]))\n        }, null, 8, [\"modelValue\", \"place-holder\", \"onKeyup\"]),\n        (textInput.value.length > 0)\n          ? (_openBlock(), _createBlock(IconButton, {\n              key: 0,\n              onClick: cleanInputButton\n            }, {\n              default: _withCtx(() => [\n                _createVNode(XIcon, { style: {\"color\":\"var(--on-surface-variant-light)\"} })\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true),\n        (__props.showLoopIcon)\n          ? (_openBlock(), _createBlock(IconButton, { key: 1 }, {\n              default: _withCtx(() => [\n                _createVNode(LoopIcon, { style: {\"color\":\"var(--primary40)\"} })\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    _: 1\n  }, 8, [\"modelValue\", \"mark-as-invalid-input\", \"selectable-values\", \"menu-alignment\", \"is-dropped\"]))\n}\n}\n\n})","<template>\r\n  <base-selector\r\n    v-model=\"selectedValue\"\r\n    :mark-as-invalid-input=\"isInvalid\"\r\n    :selectable-values=\"values\"\r\n    :menu-alignment=\"MenuAlignment.Left\"\r\n    :is-dropped=\"isDroppedRef\"\r\n    @input=\"onChangeInput\"\r\n    @update:model-value=\"onSelectValue\"\r\n  >\r\n    <template #header=\"{dropMenu}\">\r\n      <div class=\"search-selector__box\">\r\n        <base-input\r\n          v-model=\"textInput\"\r\n          :place-holder=\"placeholder\"\r\n          @keyup=\"searchByContentInput(dropMenu)\"\r\n          @keydown.enter.stop=\"emits('onkeydown:enter', textInput)\"\r\n        />\r\n\r\n        <icon-button\r\n          v-if=\"textInput.length > 0\"\r\n          @click=\"cleanInputButton\"\r\n        >\r\n          <xIcon style=\"color: var(--on-surface-variant-light)\" />\r\n        </icon-button>\r\n\r\n        <icon-button\r\n          v-if=\"showLoopIcon\"\r\n        >\r\n          <loop-icon style=\"color: var(--primary40)\" />\r\n        </icon-button>\r\n      </div>\r\n    </template>\r\n  </base-selector>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport {defineEmits, PropType, ref, watch} from \"vue\";\r\nimport LoopIcon from \"@/components/Icons/LoopIcon.vue\";\r\nimport IconButton from \"@/components/Base/Buttons/IconButton.vue\";\r\nimport XIcon from \"@/components/Icons/xIcon.vue\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\n\r\nconst props = defineProps({\r\n  input: {type: String, required: false, default: \"\"},\r\n  placeholder: {type: String, required: true},\r\n  values: {type: Object as PropType<Array<string>>, required: true, default: new Array<string>()},\r\n  isInvalid: {type: Boolean, required: false, default: false},\r\n  showLoopIcon: {type: Boolean, required: false, default: true},\r\n  isDropped: {type: Boolean, required: false, default: false},\r\n  callUpdaterDelay: {type: Number, required: false, default: 0}\r\n});\r\n\r\nconst textInput = ref(props.input);\r\nconst isDroppedRef = ref(props.isDropped);\r\nconst selectedValue = ref(\"\");\r\nlet dropMenuTimeout: NodeJS.Timeout = null;\r\n\r\nwatch(() => props.input, (newValue) => {\r\n  textInput.value = newValue;\r\n});\r\n\r\nwatch(() => props.isDropped, (newValue) => {\r\n  isDroppedRef.value = newValue;\r\n  console.log('DROP MENU:' + newValue);\r\n});\r\n\r\nconst emits = defineEmits<{\r\n  (emitName: 'change:input', input: string, isSelect: boolean) : void,\r\n  (emitName: 'onkeydown:enter', input: string) : void\r\n}>();\r\n\r\nfunction onChangeInput() {\r\n  clearTimeout(dropMenuTimeout);\r\n\r\n  if (textInput.value.length === 0) {\r\n    emits('change:input', textInput.value, false);\r\n    return;\r\n  }\r\n\r\n  dropMenuTimeout = setTimeout(() => {\r\n    emits('change:input', textInput.value, false);\r\n  }, props.callUpdaterDelay);\r\n}\r\n\r\nfunction onSelectValue(value: string) {\r\n  textInput.value = value;\r\n  emits('change:input', textInput.value, true);\r\n}\r\n\r\nfunction searchByContentInput(dropMenuAction: (boolean) => void) {\r\n  if (textInput.value.length > 0) {\r\n    dropMenuAction(isDroppedRef.value);\r\n    return;\r\n  }\r\n\r\n  dropMenuAction(isDroppedRef.value);\r\n}\r\n\r\nfunction cleanInputButton() {\r\n  textInput.value = \"\";\r\n  selectedValue.value = \"\";\r\n\r\n  emits('change:input', textInput.value, false);\r\n  onChangeInput();\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-selector {\r\n  &__box {\r\n    display: flex;\r\n    width: 100%;\r\n    height: 100%;\r\n    flex-direction: row;\r\n    align-items: center;\r\n\r\n    margin: 0 8px 0 0;\r\n  }\r\n}\r\n</style>","import script from \"./AsyncSearchSelector.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AsyncSearchSelector.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./AsyncSearchSelector.vue?vue&type=style&index=0&id=6f8f5d71&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6f8f5d71\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, withKeys as _withKeys, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withCtx as _withCtx, createBlock as _createBlock, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-b8346924\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"material search-page__box\" }\nconst _hoisted_2 = { class: \"search-page__body\" }\nconst _hoisted_3 = { class: \"row gap-8\" }\nconst _hoisted_4 = {\n  key: 0,\n  class: \"search-page__content-box\"\n}\nconst _hoisted_5 = { key: 1 }\nconst _hoisted_6 = { key: 0 }\n\nimport SearchFilters from '@/components/Search/Filter/SearchFilters.vue';\r\nimport {computed, inject, onMounted, ref} from \"vue\";\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport {V1GetByQueryRequest, V1GetByQuerySearchFilters} from \"@/api/Requests/V1GetByQueryRequest\";\r\nimport {V1GetByQueryResponse, V1GetByQueryResponseContent} from \"@/api/Requests/V1GetByQueryResponse\";\r\nimport {ContentSelectedInfo} from \"@/api/Enums/ContentSelectedInfo\";\r\nimport {ContentType} from \"@/api/Enums/ContentType\";\r\nimport {ContentStatus} from \"@/api/Enums/ContentStatus\";\r\nimport {Country} from \"@/api/Enums/Country\";\r\nimport {FilterTypes} from \"@/components/Search/Models/FilterTypes\";\r\nimport FilterUnitModel from \"@/components/Search/Models/FilterUnitModel\";\r\nimport AsyncSearchSelector from \"@/components/Base/Selector/AsyncSearchSelector.vue\";\r\nimport SearchItem from \"@/components/Body/Search/SearchItem.vue\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport MaterialDropArrow from \"@/components/Icons/MaterialDropArrow.vue\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\nimport {useRoute, useRouter} from \"vue-router\";\r\nimport {SearchContentFactory} from \"@/components/Body/Search/SearchItemViewFactory\";\r\n\r\nconst filterByDefault = 'По умолчанию'\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SearchView',\n  setup(__props) {\n\r\nconst contentService: ContentService = inject(\"content-service\")\r\n\r\nconst typeFilters = new Map<ContentType, boolean>([\r\n  [filterByDefault, false],\r\n\t[ContentType.Serial, false],\r\n\t[ContentType.Show, false],\r\n\t[ContentType.Film, false],\r\n\t[ContentType.Documentary, false]\r\n]);\r\nconst statusFilters = new Map<ContentStatus, boolean>([\r\n  [filterByDefault, false],\r\n\t[ContentStatus.Announced, false],\r\n\t[ContentStatus.Ongoing, false],\r\n\t[ContentStatus.Finished, false],\r\n]);\r\nconst countryFilters = new Map<Country, boolean>([\r\n  [filterByDefault, false],\r\n\t[Country.Korea, false],\r\n\t[Country.China, false],\r\n\t[Country.Japan, false]\r\n]);\r\n\r\n//TODO:\r\n// Добавить фильтр по году выпуска (от-до)\r\n// Добавить фильтр по жанрам\r\n// Добавить фильтр по статусу\r\nconst filtersV2 = ref<FilterUnitModel[]>([\r\n\tnew FilterUnitModel('Тип', 'Тип', FilterTypes.ContentType as typeof FilterTypes, typeFilters, false),\r\n\tnew FilterUnitModel('Статус', 'Статус', FilterTypes.ContentStatus as typeof FilterTypes, statusFilters, false),\r\n\tnew FilterUnitModel('Страна', 'Страна', FilterTypes.Country as typeof FilterTypes, countryFilters, false)\r\n]);\r\n\r\nconst router = useRouter()\r\nconst searchInput = ref<string>(\"\");\r\nconst searchSelectableValues = computed(() => searchSelectableValuesModels.value.map(x => x.Content.Title));\r\nconst searchSelectableValuesModels = ref<V1GetByQueryResponseContent[]>([]);\r\nlet isSearchMenuDropped = ref<boolean>(false);\r\n\r\nconst initPageContent = ref<V1GetByQueryResponse>(null);\r\nconst isDataReady = ref(false);\r\nconst watchableShowFilters = ref(false);\r\n\r\nonMounted(async () => {\r\n  isDataReady.value = false;\r\n  initPageContent.value = await search();\r\n  isDataReady.value = true;\r\n})\r\n\r\nasync function searchByInput(newInput: string, isSelected: boolean) {\r\n  isSearchMenuDropped.value = false;\r\n  searchInput.value = newInput;\r\n\r\n  const selectedContent = searchSelectableValuesModels.value.find(c => c.Content.Title === newInput);\r\n  if (isSelected) {\r\n    await router.push({name: 'theater', params: {id: selectedContent.Content.Id}})\r\n    return;\r\n  }\r\n\r\n  const response = await search(false);\r\n  searchSelectableValuesModels.value = response.Content;\r\n  isSearchMenuDropped.value = searchSelectableValuesModels.value.length > 0 && newInput.length > 0;\r\n}\r\n\r\nasync function search(addFilters: boolean = true) : Promise<V1GetByQueryResponse> {\r\n\tconst request = new V1GetByQueryRequest();\r\n\trequest.SelectedInfo = ContentSelectedInfo.ContentGenres | ContentSelectedInfo.Translations;\r\n\trequest.Search = searchInput.value;\r\n\r\n  if (addFilters) {\r\n    request.Filters = new V1GetByQuerySearchFilters();\r\n    request.Filters.ContentStatuses = GetArrayByFilterType<typeof ContentStatus>(FilterTypes.ContentStatus);\r\n    request.Filters.ContentTypes = GetArrayByFilterType<typeof ContentType>(FilterTypes.ContentType);\r\n    request.Filters.Countries = GetArrayByFilterType<typeof Country>(FilterTypes.Country);\r\n  }\r\n\r\n\treturn await contentService.V1GetByQuery(request);\r\n}\r\n\r\nfunction GetArrayByFilterType<T>(filterType: FilterTypes) {\r\n\tconst response: typeof T[] = []\r\n\r\n\tfor (const filter of filtersV2.value) {\r\n\t\tfilter.selectableValues.forEach((value, key) => {\r\n      if (key === filterByDefault) {\r\n        return;\r\n      }\r\n\r\n\t\t\tif (value && filter.type === filterType) {\r\n\t\t\t\tresponse.push(key as typeof T);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn response;\r\n}\r\n\r\nasync function selectFilter(filterKey: string, selectedFilter: string) {\r\n  const filter = filtersV2.value.find(filter => filter.key === filterKey);\r\n  filter.isMenuDropped = false;\r\n  if (selectedFilter === filterByDefault) {\r\n    filter.selectedValue = filter.key;\r\n  }\r\n\r\n  filter.selectableValues.forEach((isEnabled, key) => {\r\n    if (key === selectedFilter) {\r\n      filter.selectableValues.set(key, true);\r\n    } else {\r\n      filter.selectableValues.set(key, false);\r\n    }\r\n  });\r\n\r\n  initPageContent.value = await search(true);\r\n}\r\n\r\nfunction clickFilterDropMenu(filter: FilterUnitModel, dropMenu: (boolean) => any) {\r\n  filter.isMenuDropped = !filter.isMenuDropped;\r\n  dropMenu(filter.isMenuDropped);\r\n}\r\n\r\nfunction getFilterSelectableValues(filterKey: string): string[] {\r\n  const filter = filtersV2.value.find(f => f.key === filterKey);\r\n\r\n  const result = [];\r\n  for (const value of filter.selectableValues.keys()) {\r\n    result.push(value)\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nasync function EmitAcceptFilters() {\r\n  initPageContent.value = await search();\r\n\twatchableShowFilters.value = !watchableShowFilters.value;\r\n}\r\n\r\nfunction EmitCleanFilters() {\r\n\tfor (const filter of filtersV2.value) {\r\n\t\tfilter.selectableValues.forEach((value, key) => {\r\n\t\t\tfilter.selectableValues.set(key, false);\r\n\t\t})\r\n\t}\r\n\r\n  searchInput.value = \"\";\r\n\twatchableShowFilters.value = !watchableShowFilters.value;\r\n}\r\n\r\nasync function PressSearchEnter() {\r\n\tinitPageContent.value = await search(true);\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(AsyncSearchSelector, {\n        modelValue: searchInput.value,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((searchInput).value = $event)),\n        class: \"search-page__search m3-bg-1 m-radius-1\",\n        values: searchSelectableValues.value,\n        placeholder: 'Поиск по сайту',\n        \"call-updater-delay\": 500,\n        \"is-dropped\": _unref(isSearchMenuDropped),\n        \"onChange:input\": _cache[1] || (_cache[1] = (newInput, isSelected) => searchByInput(newInput, isSelected)),\n        onKeyup: _withKeys(PressSearchEnter, [\"enter\"])\n      }, null, 8, [\"modelValue\", \"values\", \"is-dropped\"]),\n      _createElementVNode(\"div\", _hoisted_3, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(filtersV2.value, (filter) => {\n          return (_openBlock(), _createBlock(BaseSelector, {\n            key: filter,\n            modelValue: filter.selectedValue,\n            \"onUpdate:modelValue\": [($event: any) => ((filter.selectedValue) = $event), (value) => { selectFilter(filter.key, value) }],\n            \"menu-alignment\": _unref(MenuAlignment).Left,\n            \"selectable-values\": getFilterSelectableValues(filter.key),\n            \"is-dropped\": filter.isMenuDropped,\n            class: \"search-page__filter m3-bg-1 m-radius-circle m-border m-border-hover\"\n          }, {\n            header: _withCtx(({dropMenu}) => [\n              _createVNode(FilterChips, {\n                text: filter.selectedValue,\n                \"enable-menu-icon\": true,\n                onClick: ($event: any) => (clickFilterDropMenu(filter, dropMenu))\n              }, {\n                \"menu-icon\": _withCtx(() => [\n                  _createVNode(MaterialDropArrow)\n                ]),\n                _: 2\n              }, 1032, [\"text\", \"onClick\"])\n            ]),\n            _: 2\n          }, 1032, [\"modelValue\", \"onUpdate:modelValue\", \"menu-alignment\", \"selectable-values\", \"is-dropped\"]))\n        }), 128))\n      ]),\n      (isDataReady.value && initPageContent.value.Content.length > 0)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(initPageContent.value.Content, (content) => {\n              return (_openBlock(), _createBlock(SearchItem, {\n                key: content,\n                content: _unref(SearchContentFactory).getContentViewModel(content)\n              }, null, 8, [\"content\"]))\n            }), 128))\n          ]))\n        : (isDataReady.value)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, \" Ничего не найдено \"))\n          : _createCommentVNode(\"\", true)\n    ]),\n    false\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n          _createVNode(SearchFilters, {\n            filters: filtersV2.value,\n            \"onAccept:filters\": EmitAcceptFilters,\n            \"onClean:filters\": EmitCleanFilters\n          }, null, 8, [\"filters\"])\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"material search-page__box\">\r\n    <div class=\"search-page__body\">\r\n      <async-search-selector\r\n        v-model=\"searchInput\"\r\n        class=\"search-page__search m3-bg-1 m-radius-1\"\r\n        :values=\"searchSelectableValues\"\r\n        :placeholder=\"'Поиск по сайту'\"\r\n        :call-updater-delay=\"500\"\r\n        :is-dropped=\"isSearchMenuDropped\"\r\n        @change:input=\"(newInput, isSelected) => searchByInput(newInput, isSelected)\"\r\n        @keyup.enter=\"PressSearchEnter\"\r\n      />\r\n      <div class=\"row gap-8\">\r\n        <base-selector\r\n          v-for=\"filter in filtersV2\"\r\n          :key=\"filter\"\r\n          v-model=\"filter.selectedValue\"\r\n          :menu-alignment=\"MenuAlignment.Left\"\r\n          :selectable-values=\"getFilterSelectableValues(filter.key)\"\r\n          :is-dropped=\"filter.isMenuDropped\"\r\n          class=\"search-page__filter m3-bg-1 m-radius-circle m-border m-border-hover\"\r\n          @update:model-value=\"(value: string) => { selectFilter(filter.key, value) }\"\r\n        >\r\n          <template #header=\"{dropMenu}\">\r\n            <filter-chips\r\n              :text=\"filter.selectedValue\"\r\n              :enable-menu-icon=\"true\"\r\n              @click=\"clickFilterDropMenu(filter, dropMenu)\"\r\n            >\r\n              <template #menu-icon>\r\n                <material-drop-arrow />\r\n              </template>\r\n            </filter-chips>\r\n          </template>\r\n        </base-selector>\r\n      </div>\r\n\r\n      <div\r\n        v-if=\"isDataReady && initPageContent.Content.length > 0\"\r\n        class=\"search-page__content-box\"\r\n      >\r\n        <SearchItem\r\n          v-for=\"content in initPageContent.Content\"\r\n          :key=\"content\"\r\n          :content=\"SearchContentFactory.getContentViewModel(content)\"\r\n        />\r\n      </div>\r\n      <div v-else-if=\"isDataReady\">\r\n        Ничего не найдено\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"false\">\r\n      <SearchFilters\r\n        :filters=\"filtersV2\"\r\n        @accept:filters=\"EmitAcceptFilters\"\r\n        @clean:filters=\"EmitCleanFilters\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport SearchFilters from '@/components/Search/Filter/SearchFilters.vue';\r\nimport {computed, inject, onMounted, ref} from \"vue\";\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport {V1GetByQueryRequest, V1GetByQuerySearchFilters} from \"@/api/Requests/V1GetByQueryRequest\";\r\nimport {V1GetByQueryResponse, V1GetByQueryResponseContent} from \"@/api/Requests/V1GetByQueryResponse\";\r\nimport {ContentSelectedInfo} from \"@/api/Enums/ContentSelectedInfo\";\r\nimport {ContentType} from \"@/api/Enums/ContentType\";\r\nimport {ContentStatus} from \"@/api/Enums/ContentStatus\";\r\nimport {Country} from \"@/api/Enums/Country\";\r\nimport {FilterTypes} from \"@/components/Search/Models/FilterTypes\";\r\nimport FilterUnitModel from \"@/components/Search/Models/FilterUnitModel\";\r\nimport AsyncSearchSelector from \"@/components/Base/Selector/AsyncSearchSelector.vue\";\r\nimport SearchItem from \"@/components/Body/Search/SearchItem.vue\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport MaterialDropArrow from \"@/components/Icons/MaterialDropArrow.vue\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\nimport {useRoute, useRouter} from \"vue-router\";\r\nimport {SearchContentFactory} from \"@/components/Body/Search/SearchItemViewFactory\";\r\n\r\nconst contentService: ContentService = inject(\"content-service\")\r\n\r\nconst filterByDefault = 'По умолчанию'\r\nconst typeFilters = new Map<ContentType, boolean>([\r\n  [filterByDefault, false],\r\n\t[ContentType.Serial, false],\r\n\t[ContentType.Show, false],\r\n\t[ContentType.Film, false],\r\n\t[ContentType.Documentary, false]\r\n]);\r\nconst statusFilters = new Map<ContentStatus, boolean>([\r\n  [filterByDefault, false],\r\n\t[ContentStatus.Announced, false],\r\n\t[ContentStatus.Ongoing, false],\r\n\t[ContentStatus.Finished, false],\r\n]);\r\nconst countryFilters = new Map<Country, boolean>([\r\n  [filterByDefault, false],\r\n\t[Country.Korea, false],\r\n\t[Country.China, false],\r\n\t[Country.Japan, false]\r\n]);\r\n\r\n//TODO:\r\n// Добавить фильтр по году выпуска (от-до)\r\n// Добавить фильтр по жанрам\r\n// Добавить фильтр по статусу\r\nconst filtersV2 = ref<FilterUnitModel[]>([\r\n\tnew FilterUnitModel('Тип', 'Тип', FilterTypes.ContentType as typeof FilterTypes, typeFilters, false),\r\n\tnew FilterUnitModel('Статус', 'Статус', FilterTypes.ContentStatus as typeof FilterTypes, statusFilters, false),\r\n\tnew FilterUnitModel('Страна', 'Страна', FilterTypes.Country as typeof FilterTypes, countryFilters, false)\r\n]);\r\n\r\nconst router = useRouter()\r\nconst searchInput = ref<string>(\"\");\r\nconst searchSelectableValues = computed(() => searchSelectableValuesModels.value.map(x => x.Content.Title));\r\nconst searchSelectableValuesModels = ref<V1GetByQueryResponseContent[]>([]);\r\nlet isSearchMenuDropped = ref<boolean>(false);\r\n\r\nconst initPageContent = ref<V1GetByQueryResponse>(null);\r\nconst isDataReady = ref(false);\r\nconst watchableShowFilters = ref(false);\r\n\r\nonMounted(async () => {\r\n  isDataReady.value = false;\r\n  initPageContent.value = await search();\r\n  isDataReady.value = true;\r\n})\r\n\r\nasync function searchByInput(newInput: string, isSelected: boolean) {\r\n  isSearchMenuDropped.value = false;\r\n  searchInput.value = newInput;\r\n\r\n  const selectedContent = searchSelectableValuesModels.value.find(c => c.Content.Title === newInput);\r\n  if (isSelected) {\r\n    await router.push({name: 'theater', params: {id: selectedContent.Content.Id}})\r\n    return;\r\n  }\r\n\r\n  const response = await search(false);\r\n  searchSelectableValuesModels.value = response.Content;\r\n  isSearchMenuDropped.value = searchSelectableValuesModels.value.length > 0 && newInput.length > 0;\r\n}\r\n\r\nasync function search(addFilters: boolean = true) : Promise<V1GetByQueryResponse> {\r\n\tconst request = new V1GetByQueryRequest();\r\n\trequest.SelectedInfo = ContentSelectedInfo.ContentGenres | ContentSelectedInfo.Translations;\r\n\trequest.Search = searchInput.value;\r\n\r\n  if (addFilters) {\r\n    request.Filters = new V1GetByQuerySearchFilters();\r\n    request.Filters.ContentStatuses = GetArrayByFilterType<typeof ContentStatus>(FilterTypes.ContentStatus);\r\n    request.Filters.ContentTypes = GetArrayByFilterType<typeof ContentType>(FilterTypes.ContentType);\r\n    request.Filters.Countries = GetArrayByFilterType<typeof Country>(FilterTypes.Country);\r\n  }\r\n\r\n\treturn await contentService.V1GetByQuery(request);\r\n}\r\n\r\nfunction GetArrayByFilterType<T>(filterType: FilterTypes) {\r\n\tconst response: typeof T[] = []\r\n\r\n\tfor (const filter of filtersV2.value) {\r\n\t\tfilter.selectableValues.forEach((value, key) => {\r\n      if (key === filterByDefault) {\r\n        return;\r\n      }\r\n\r\n\t\t\tif (value && filter.type === filterType) {\r\n\t\t\t\tresponse.push(key as typeof T);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn response;\r\n}\r\n\r\nasync function selectFilter(filterKey: string, selectedFilter: string) {\r\n  const filter = filtersV2.value.find(filter => filter.key === filterKey);\r\n  filter.isMenuDropped = false;\r\n  if (selectedFilter === filterByDefault) {\r\n    filter.selectedValue = filter.key;\r\n  }\r\n\r\n  filter.selectableValues.forEach((isEnabled, key) => {\r\n    if (key === selectedFilter) {\r\n      filter.selectableValues.set(key, true);\r\n    } else {\r\n      filter.selectableValues.set(key, false);\r\n    }\r\n  });\r\n\r\n  initPageContent.value = await search(true);\r\n}\r\n\r\nfunction clickFilterDropMenu(filter: FilterUnitModel, dropMenu: (boolean) => any) {\r\n  filter.isMenuDropped = !filter.isMenuDropped;\r\n  dropMenu(filter.isMenuDropped);\r\n}\r\n\r\nfunction getFilterSelectableValues(filterKey: string): string[] {\r\n  const filter = filtersV2.value.find(f => f.key === filterKey);\r\n\r\n  const result = [];\r\n  for (const value of filter.selectableValues.keys()) {\r\n    result.push(value)\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nasync function EmitAcceptFilters() {\r\n  initPageContent.value = await search();\r\n\twatchableShowFilters.value = !watchableShowFilters.value;\r\n}\r\n\r\nfunction EmitCleanFilters() {\r\n\tfor (const filter of filtersV2.value) {\r\n\t\tfilter.selectableValues.forEach((value, key) => {\r\n\t\t\tfilter.selectableValues.set(key, false);\r\n\t\t})\r\n\t}\r\n\r\n  searchInput.value = \"\";\r\n\twatchableShowFilters.value = !watchableShowFilters.value;\r\n}\r\n\r\nasync function PressSearchEnter() {\r\n\tinitPageContent.value = await search(true);\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.search-page {\r\n  &__filter {\r\n    display: flex;\r\n    height: fit-content;\r\n  }\r\n\r\n  &__box {\r\n    padding: 20px 0;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    gap: 16px;\r\n  }\r\n\r\n  &__content-box {\r\n    width: 100%;\r\n    display: grid;\r\n    gap: 16px;\r\n    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n    grid-auto-flow: row;\r\n  }\r\n\r\n  &__search {\r\n    background: var(--surface-container-lowest100);\r\n    border: 1px solid var(--outline-variant-light);\r\n    transition:\r\n      background-color 0.2s,\r\n      border-top-color 0.15s,\r\n      border-bottom-color 0.15s,\r\n      border-right-color 0.15s,\r\n      border-left-color 0.15s;\r\n\r\n    &:hover {\r\n      border: 1px solid var(--primary40);\r\n    }\r\n\r\n    &:focus-within {\r\n      border: 1px solid var(--secondary);\r\n    }\r\n  }\r\n\r\n  &__body {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 8px;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>","import script from \"./SearchView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SearchView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SearchView.vue?vue&type=style&index=0&id=b8346924&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b8346924\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-374fecc2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"profile__nickname\" }\nconst _hoisted_2 = { class: \"profile-menu__nickname headline-medium\" }\nconst _hoisted_3 = { class: \"headline-medium profile-menu__nickname profile-menu__nickname-tag\" }\nconst _hoisted_4 = { class: \"column fit-content gap-8\" }\nconst _hoisted_5 = { class: \"row gap-8\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#969BAB\"} }, \"Почта\", -1))\nconst _hoisted_7 = { class: \"row gap-8\" }\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { style: {\"color\":\"#969BAB\"} }, \"Создано\", -1))\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"splitter\" }, null, -1))\nconst _hoisted_10 = { class: \"row row-dynamic gap-8\" }\n\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport {PropType} from \"vue\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ProfileMenu',\n  props: {\r\n  nickname: {type: String, required: true},\r\n  tag: {type: Number, required: true},\r\n  roles: {type: Object as PropType<string[]>, required: true},\r\n  createdAt: {type: String, required: true},\r\n  email: {type: String, required: true}\r\n},\n  setup(__props) {\n\r\nconst props = __props;\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(BaseBackground, {\n    type: 3,\n    class: \"profile-menu__main h__start gap-8\"\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"span\", _hoisted_2, _toDisplayString(__props.nickname), 1),\n        _createElementVNode(\"b\", _hoisted_3, \"#\" + _toDisplayString(__props.tag), 1)\n      ]),\n      _createElementVNode(\"div\", _hoisted_4, [\n        _createElementVNode(\"div\", _hoisted_5, [\n          _hoisted_6,\n          _createElementVNode(\"span\", null, _toDisplayString(__props.email), 1)\n        ]),\n        _createElementVNode(\"div\", _hoisted_7, [\n          _hoisted_8,\n          _createElementVNode(\"span\", null, _toDisplayString(__props.createdAt), 1)\n        ])\n      ]),\n      _hoisted_9,\n      _createElementVNode(\"div\", _hoisted_10, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.roles, (role) => {\n          return (_openBlock(), _createBlock(FilterChips, {\n            key: role,\n            class: \"m3-bg-2\",\n            style: {\"color\":\"var(--primary40)\"},\n            text: role\n          }, null, 8, [\"text\"]))\n        }), 128))\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","import script from \"./ProfileMenu.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ProfileMenu.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ProfileMenu.vue?vue&type=style&index=0&id=374fecc2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-374fecc2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-24f0b4bf\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"profile-avatar\" }\nconst _hoisted_2 = { class: \"profile-avatar__container\" }\nconst _hoisted_3 = [\"src\"]\n\nimport {ref} from \"vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'AvatarComponent',\n  props: {\r\n  src: { type: String, required: true }\r\n},\n  setup(__props) {\n\r\nconst props = __props\r\n\r\nconst image = ref<string>(props.src ?? '@/assets/images/DefaultImage.png');\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"img\", {\n        class: \"profile-avatar__avatar\",\n        src: image.value,\n        alt: \"Аватар профиля\",\n        onError: _cache[0] || (_cache[0] = () => { image.value = require('@/assets/images/DefaultImage.png') })\n      }, null, 40, _hoisted_3)\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"profile-avatar\">\r\n    <div class=\"profile-avatar__container\">\r\n      <img\r\n        class=\"profile-avatar__avatar\"\r\n        :src=\"image\"\r\n        alt=\"Аватар профиля\"\r\n        @error=\"() => { image = require('@/assets/images/DefaultImage.png') }\"\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {ref} from \"vue\";\r\n\r\nconst props = defineProps({\r\n  src: { type: String, required: true }\r\n})\r\n\r\nconst image = ref<string>(props.src ?? '@/assets/images/DefaultImage.png');\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.profile-avatar {\r\n  &__avatar {\r\n    display: flex;\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n\r\n  &__container {\r\n    overflow: hidden;\r\n  }\r\n}\r\n\r\n</style>","import script from \"./AvatarComponent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./AvatarComponent.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./AvatarComponent.vue?vue&type=style&index=0&id=24f0b4bf&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-24f0b4bf\"]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\" width=\"16\"\r\n    height=\"15\" viewBox=\"0 0 16 15\"\r\n    fill=\"none\"\r\n  >\r\n    <path\r\n      d=\"M6.39361 2.67392C7.03568 1.07324 7.35672 0.272894 7.8783 0.16197C8.01544 0.132803 8.15719 0.132803 8.29433 0.16197C8.81591 0.272894 9.13695 1.07324 9.77902 2.67392C10.1442 3.5842 10.3267 4.03934 10.6683 4.34891C10.7642 4.43574 10.8682 4.51307 10.9789 4.57982C11.3738 4.8178 11.8666 4.86194 12.8524 4.95023C14.5212 5.09968 15.3556 5.1744 15.6104 5.65015C15.6631 5.74868 15.699 5.85536 15.7165 5.96575C15.801 6.49878 15.1876 7.05684 13.9608 8.17296L13.6201 8.4829C13.0466 9.00471 12.7598 9.26561 12.5939 9.59121C12.4944 9.78653 12.4277 9.99688 12.3965 10.2138C12.3444 10.5755 12.4283 10.954 12.5963 11.711L12.6563 11.9815C12.9575 13.339 13.1081 14.0178 12.9201 14.3514C12.7512 14.6511 12.4402 14.843 12.0966 14.8594C11.7141 14.8776 11.1751 14.4384 10.0971 13.56C9.38689 12.9813 9.03179 12.692 8.63758 12.5789C8.27733 12.4756 7.89531 12.4756 7.53506 12.5789C7.14085 12.692 6.78574 12.9813 6.07553 13.56C4.99756 14.4384 4.45857 14.8776 4.07605 14.8594C3.73245 14.843 3.4214 14.6511 3.25254 14.3514C3.06454 14.0178 3.21514 13.339 3.51634 11.9815L3.57635 11.711C3.7443 10.954 3.82828 10.5755 3.77616 10.2138C3.7449 9.99688 3.67819 9.78653 3.57869 9.59121C3.41281 9.26561 3.12604 9.00471 2.5525 8.4829L2.21182 8.17296C0.985034 7.05684 0.371639 6.49878 0.456113 5.96575C0.473608 5.85536 0.509487 5.74868 0.562259 5.65014C0.817058 5.1744 1.65144 5.09968 3.3202 4.95023C4.30599 4.86194 4.79888 4.8178 5.19372 4.57982C5.30446 4.51307 5.40848 4.43574 5.5043 4.34891C5.84591 4.03934 6.02848 3.5842 6.39361 2.67392Z\"\r\n      fill=\"#FF776F\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./StarIcon.vue?vue&type=template&id=6f51028c\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export const FavoriteStatuses = {\r\n    Stash: 'Общее',\r\n    Loved: 'Любимое',\r\n    Planned: 'В планах',\r\n    Watching: 'В процессе',\r\n    Paused: 'Отложено',\r\n    Finished: 'Завершено',\r\n    Dropped: 'Брошено'\r\n} as const;\r\n\r\nexport enum FavoriteStatus {\r\n    Stash = 0,\r\n    Planned = 1,\r\n    Watching = 2,\r\n    Paused = 3,\r\n    Finished = 4,\r\n    Dropped = 5,\r\n    Loved = 6,\r\n}\r\n\r\ntype HeaderKey = keyof typeof FavoriteStatuses;\r\n\r\nexport function getFavoritesStatusKeyByValue(value: string): HeaderKey | undefined {\r\n    return (Object.keys(FavoriteStatuses) as HeaderKey[]).find(\r\n        (key) => FavoriteStatuses[key] === value\r\n    );\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, resolveComponent as _resolveComponent, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7fea17be\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"col__ profile-view__main\" }\nconst _hoisted_2 = { class: \"profile-view__avatar-container\" }\nconst _hoisted_3 = { class: \"profile-middle__main\" }\nconst _hoisted_4 = { class: \"profile__favorites-header row dynamic h__space-between v__center h__padding-16\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"title-large v__padding-8\" }, \" Избранные \", -1))\nconst _hoisted_6 = { class: \"fit-content v__center gap-8\" }\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { style: {\"width\":\"100%\",\"height\":\"1px\",\"background\":\"var(--font-gray-v1)\"} }, null, -1))\nconst _hoisted_8 = { class: \"profile__favorites-list\" }\nconst _hoisted_9 = { class: \"profile__favorite-title body-large\" }\nconst _hoisted_10 = { class: \"gap-16 row v__center\" }\nconst _hoisted_11 = { class: \"body-small m-radius-8 padding-8 fit-content m3-bg-2 m-border row gap-16\" }\nconst _hoisted_12 = { class: \"fit-content\" }\n\nimport ProfileMenu from \"@/components/Profile/ProfileMenu.vue\";\r\nimport {computed, inject, onMounted, ref} from \"vue\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport {useRouter} from \"vue-router\";\r\nimport {ErrorDetails} from \"@/api/ApiService\";\r\nimport AvatarComponent from \"@/components/Profile/AvatarComponent.vue\";\r\nimport {FavoriteApi, FavoriteGetList} from \"@/api/FavoriteApi\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport MaterialDropArrow from \"@/components/Icons/MaterialDropArrow.vue\";\r\nimport StarIcon from \"@/components/Icons/StarIcon.vue\";\r\nimport {FavoriteStatus, getFavoritesStatusKeyByValue} from \"@/models/FavoriteStatuses\";\r\n\r\nconst defaultFavoriteStatus = \"Категория\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ProfileView',\n  setup(__props) {\n\r\n\r\nconst router = useRouter()\r\nconst eventStore = ClientEventStore();\r\nconst currentUser = userStore();\r\nconst userApi = inject<UserApi>('user-api');\r\nconst favoritesApi = inject<FavoriteApi>('favorite-api');\r\n\r\nconst FavoriteStatuses = {\r\n  Stash: 'Общее',\r\n  Loved: 'Любимое',\r\n  Planned: 'В планах',\r\n  Watching: 'В процессе',\r\n  Paused: 'Отложено',\r\n  Finished: 'Завершено',\r\n  Dropped: 'Брошено'\r\n} as const;\r\n\r\nconst favoriteSelectedCategory = ref<string>(defaultFavoriteStatus);\r\nconst isFavoritesMenuDropped = ref(false);\r\nconst favoritesAllCategory = ref(false);\r\nconst favoritesWatchingCategory = ref(false);\r\n\r\nconst userId = ref<number>();\r\nconst userNickname = ref<string>();\r\nconst userCreatedAt = ref<string>();\r\nconst userRoles = ref<string[]>();\r\nconst userEmail = ref<string>();\r\nconst userImageUrl = ref<string>();\r\nconst userFavorites = ref<FavoriteGetList[]>([]);\r\nconst formatter = new Intl.DateTimeFormat('ru-RU', {hour: '2-digit', minute: '2-digit'});\r\n\r\n\r\nconst selectedFavoritesStatus = computed(() => {\r\n  let selectedStatus: FavoriteStatus | null = null;\r\n  if (favoritesAllCategory.value) {\r\n    selectedStatus = null;\r\n  } else if (favoritesWatchingCategory.value) {\r\n    selectedStatus = FavoriteStatus.Watching;\r\n  } else if (favoriteSelectedCategory.value !== defaultFavoriteStatus) {\r\n    selectedStatus = (getFavoritesStatusKeyByValue(favoriteSelectedCategory.value)) as FavoriteStatus;\r\n  }\r\n\r\n  return selectedStatus;\r\n})\r\n\r\nonMounted(async () => {\r\n  if (currentUser.loggedIn !== true) {\r\n    eventStore.push('Сначала необходимо авторизоваться!', EventTypes.Error as typeof EventTypes);\r\n    await router.push('/login');\r\n    return;\r\n  }\r\n\r\n  await loadCurrentUser();\r\n  await loadFavorites();\r\n});\r\n\r\n\r\n\r\nfunction getDateStr(dateNum: number): string {\r\n  const date = new Date(dateNum);\r\n  return formatter.format(date) + \" \" + date.toLocaleDateString();\r\n}\r\n\r\nasync function loadFavorites() {\r\n  console.log(selectedFavoritesStatus)\r\n\r\n  const favorites = await favoritesApi.getList(selectedFavoritesStatus.value, 10, 0);\r\n  userFavorites.value = favorites.data.Favorites ?? [];\r\n}\r\n\r\nasync function loadCurrentUser() {\r\n  try {\r\n    const userResponse = (await userApi.getCurrent())\r\n      .onBusinessError((errorDetails: ErrorDetails) => {\r\n        eventStore.push(errorDetails.Message, EventTypes.Error)\r\n        if (errorDetails.ErrorCode === 'Unauthorized') {\r\n          currentUser.LogOut();\r\n          router.push('/login')\r\n        }\r\n      })\r\n      .onException(() => eventStore.push('Ошибка сервера! Попробуйте снова позже.', EventTypes.Error));\r\n\r\n    if (!userResponse.data) {\r\n      return;\r\n    }\r\n\r\n    const user = userResponse.data;\r\n    userId.value = user.User.Id;\r\n    userNickname.value = user.User.Nickname;\r\n    userCreatedAt.value = getDateStr(user.User.CreatedAt);\r\n    userRoles.value = user.Roles.map(x => x.Alias);\r\n    userEmail.value = user.User.Email;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(AvatarComponent, {\n        style: {\"overflow\":\"hidden\"},\n        class: \"m-radius-16\",\n        src: userImageUrl.value\n      }, null, 8, [\"src\"]),\n      _createVNode(_component_router_link, { to: 'settings' }, {\n        default: _withCtx(() => [\n          _createVNode(BaseButton, {\n            class: \"theater__edit fill m-border m-radius-circle body-medium\",\n            variant: 'outline'\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Настройки \")\n            ]),\n            _: 1\n          })\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(ProfileMenu, {\n        nickname: userNickname.value,\n        \"created-at\": userCreatedAt.value,\n        tag: userId.value,\n        roles: userRoles.value,\n        email: userEmail.value\n      }, null, 8, [\"nickname\", \"created-at\", \"tag\", \"roles\", \"email\"]),\n      _createVNode(BaseBackground, {\n        type: 3,\n        class: \"column profile__favorites\"\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_4, [\n            _hoisted_5,\n            _createElementVNode(\"div\", _hoisted_6, [\n              _createVNode(FilterChips, {\n                class: _normalizeClass([\"profile__filter m3-bg-3 fit-content m-radius-16\", {'profile__filter-enabled': favoritesAllCategory.value}]),\n                text: \"Все\",\n                onClick: _cache[0] || (_cache[0] = () => {\r\n                favoritesAllCategory.value = !favoritesAllCategory.value;\r\n                favoritesWatchingCategory.value = false;\r\n                favoriteSelectedCategory.value = defaultFavoriteStatus;\r\n                loadFavorites();\r\n              })\n              }, null, 8, [\"class\"]),\n              _createVNode(FilterChips, {\n                class: _normalizeClass([\"profile__filter m3-bg-3 fit-content m-radius-16\", {'profile__filter-enabled': favoritesWatchingCategory.value}]),\n                text: \"Смотрю\",\n                onClick: _cache[1] || (_cache[1] = () => {\r\n                favoritesWatchingCategory.value = !favoritesWatchingCategory.value;\r\n                favoritesAllCategory.value = false;\r\n                favoriteSelectedCategory.value = defaultFavoriteStatus;\r\n                loadFavorites();\r\n              })\n              }, null, 8, [\"class\"]),\n              _createVNode(BaseSelector, {\n                modelValue: favoriteSelectedCategory.value,\n                \"onUpdate:modelValue\": [\n                  _cache[3] || (_cache[3] = ($event: any) => ((favoriteSelectedCategory).value = $event)),\n                  _cache[4] || (_cache[4] = () => {\r\n                favoritesAllCategory.value = false;\r\n                favoritesWatchingCategory.value = false;\r\n                isFavoritesMenuDropped.value = false;\r\n                loadFavorites()\r\n              })\n                ],\n                \"is-dropped\": isFavoritesMenuDropped.value,\n                \"selectable-values\": [\r\n                FavoriteStatuses.Stash,\r\n                FavoriteStatuses.Loved,\r\n                FavoriteStatuses.Planned,\r\n                FavoriteStatuses.Paused,\r\n                FavoriteStatuses.Finished,\r\n                FavoriteStatuses.Dropped\r\n              ]\n              }, {\n                header: _withCtx(() => [\n                  _createVNode(FilterChips, {\n                    class: _normalizeClass([{'profile__filter-enabled': favoriteSelectedCategory.value !== defaultFavoriteStatus}, \"profile__filter m3-bg-3 m-radius-16\"]),\n                    text: favoriteSelectedCategory.value,\n                    \"enable-menu-icon\": true,\n                    onClick: _cache[2] || (_cache[2] = ($event: any) => {isFavoritesMenuDropped.value = !isFavoritesMenuDropped.value;})\n                  }, {\n                    \"menu-icon\": _withCtx(() => [\n                      _createVNode(MaterialDropArrow)\n                    ]),\n                    _: 1\n                  }, 8, [\"class\", \"text\"])\n                ]),\n                _: 1\n              }, 8, [\"modelValue\", \"is-dropped\", \"selectable-values\"])\n            ])\n          ]),\n          _hoisted_7,\n          _createElementVNode(\"div\", _hoisted_8, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(userFavorites.value, (favorite) => {\n              return (_openBlock(), _createBlock(_component_router_link, {\n                key: favorite,\n                class: \"profile__favorites-unit gap-8 dynamic row h__space-between v__center v__padding-8\",\n                to: { name: 'theater', params: { id: favorite.ContentId}}\n              }, {\n                default: _withCtx(() => [\n                  _createElementVNode(\"div\", _hoisted_9, _toDisplayString(favorite.Title), 1),\n                  _createElementVNode(\"div\", _hoisted_10, [\n                    _withDirectives(_createElementVNode(\"div\", _hoisted_11, [\n                      _createVNode(StarIcon),\n                      _createElementVNode(\"p\", null, _toDisplayString(favorite.Stars), 1)\n                    ], 512), [\n                      [_vShow, favorite.Stars]\n                    ]),\n                    _withDirectives(_createVNode(FilterChips, {\n                      class: \"body-small m3-bg-2 m-border\",\n                      text: FavoriteStatuses[favorite.Status]\n                    }, null, 8, [\"text\"]), [\n                      [_vShow, favorite.Status && selectedFavoritesStatus.value === null]\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_12, _toDisplayString(getDateStr(favorite.CreatedAt)), 1)\n                  ])\n                ]),\n                _: 2\n              }, 1032, [\"to\"]))\n            }), 128))\n          ])\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"col__ profile-view__main\">\r\n    <div class=\"profile-view__avatar-container\">\r\n      <avatar-component\r\n        style=\"overflow: hidden;\"\r\n        class=\"m-radius-16\"\r\n        :src=\"userImageUrl\"\r\n      />\r\n\r\n      <router-link :to=\"'settings'\">\r\n        <base-button\r\n          class=\"theater__edit fill m-border m-radius-circle body-medium \"\r\n          :variant=\"'outline'\"\r\n        >\r\n          Настройки\r\n        </base-button>\r\n      </router-link>\r\n    </div>\r\n    <div class=\"profile-middle__main\">\r\n      <profile-menu\r\n        :nickname=\"userNickname\"\r\n        :created-at=\"userCreatedAt\"\r\n        :tag=\"userId\"\r\n        :roles=\"userRoles\"\r\n        :email=\"userEmail\"\r\n      />\r\n\r\n      <base-background :type=\"3\" class=\"column profile__favorites\">\r\n        <div class=\"profile__favorites-header row dynamic h__space-between v__center h__padding-16\">\r\n          <p class=\"title-large v__padding-8\">\r\n            Избранные\r\n          </p>\r\n\r\n          <div class=\"fit-content v__center gap-8\">\r\n            <filter-chips\r\n              class=\"profile__filter m3-bg-3 fit-content m-radius-16\"\r\n              text=\"Все\"\r\n              :class=\"{'profile__filter-enabled': favoritesAllCategory}\"\r\n              @click=\"() => {\r\n                favoritesAllCategory = !favoritesAllCategory;\r\n                favoritesWatchingCategory = false;\r\n                favoriteSelectedCategory = defaultFavoriteStatus;\r\n                loadFavorites();\r\n              }\"\r\n            />\r\n            <filter-chips\r\n              class=\"profile__filter m3-bg-3 fit-content m-radius-16\"\r\n              text=\"Смотрю\"\r\n              :class=\"{'profile__filter-enabled': favoritesWatchingCategory}\"\r\n              @click=\"() => {\r\n                favoritesWatchingCategory = !favoritesWatchingCategory;\r\n                favoritesAllCategory = false;\r\n                favoriteSelectedCategory = defaultFavoriteStatus;\r\n                loadFavorites();\r\n              }\"\r\n            />\r\n            <base-selector\r\n              v-model=\"favoriteSelectedCategory\"\r\n              :is-dropped=\"isFavoritesMenuDropped\"\r\n              :selectable-values=\"[\r\n                FavoriteStatuses.Stash,\r\n                FavoriteStatuses.Loved,\r\n                FavoriteStatuses.Planned,\r\n                FavoriteStatuses.Paused,\r\n                FavoriteStatuses.Finished,\r\n                FavoriteStatuses.Dropped\r\n              ]\"\r\n              @update:model-value=\"() => {\r\n                favoritesAllCategory = false;\r\n                favoritesWatchingCategory = false;\r\n                isFavoritesMenuDropped = false;\r\n                loadFavorites()\r\n              }\"\r\n            >\r\n              <template #header>\r\n                <filter-chips\r\n                  :class=\"{'profile__filter-enabled': favoriteSelectedCategory !== defaultFavoriteStatus}\"\r\n                  class=\"profile__filter m3-bg-3 m-radius-16\"\r\n                  :text=\"favoriteSelectedCategory\"\r\n                  :enable-menu-icon=\"true\"\r\n                  @click=\"isFavoritesMenuDropped = !isFavoritesMenuDropped;\"\r\n                >\r\n                  <template #menu-icon>\r\n                    <material-drop-arrow />\r\n                  </template>\r\n                </filter-chips>\r\n              </template>\r\n            </base-selector>\r\n          </div>\r\n        </div>\r\n        <div style=\"width: 100%; height: 1px; background: var(--font-gray-v1);\" />\r\n\r\n        <div class=\"profile__favorites-list\">\r\n          <router-link\r\n            v-for=\"favorite in userFavorites\"\r\n            :key=\"favorite\"\r\n            class=\"profile__favorites-unit gap-8 dynamic row h__space-between v__center v__padding-8\"\r\n            :to=\"{ name: 'theater', params: { id: favorite.ContentId}}\"\r\n          >\r\n            <div class=\"profile__favorite-title body-large\">\r\n              {{ favorite.Title }}\r\n            </div>\r\n            <div class=\"gap-16 row v__center\">\r\n              <div\r\n                v-show=\"favorite.Stars\"\r\n                class=\"body-small m-radius-8 padding-8 fit-content m3-bg-2 m-border row gap-16\"\r\n              >\r\n                <star-icon />\r\n                <p>{{ favorite.Stars }}</p>\r\n              </div>\r\n              <filter-chips\r\n                v-show=\"favorite.Status && selectedFavoritesStatus === null\"\r\n                class=\"body-small m3-bg-2 m-border\"\r\n                :text=\"FavoriteStatuses[favorite.Status]\"\r\n              />\r\n              <div class=\"fit-content\">\r\n                {{ getDateStr(favorite.CreatedAt) }}\r\n              </div>\r\n            </div>\r\n          </router-link>\r\n        </div>\r\n      </base-background>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\n\r\nimport ProfileMenu from \"@/components/Profile/ProfileMenu.vue\";\r\nimport {computed, inject, onMounted, ref} from \"vue\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport {useRouter} from \"vue-router\";\r\nimport {ErrorDetails} from \"@/api/ApiService\";\r\nimport AvatarComponent from \"@/components/Profile/AvatarComponent.vue\";\r\nimport {FavoriteApi, FavoriteGetList} from \"@/api/FavoriteApi\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport MaterialDropArrow from \"@/components/Icons/MaterialDropArrow.vue\";\r\nimport StarIcon from \"@/components/Icons/StarIcon.vue\";\r\nimport {FavoriteStatus, getFavoritesStatusKeyByValue} from \"@/models/FavoriteStatuses\";\r\n\r\nconst router = useRouter()\r\nconst eventStore = ClientEventStore();\r\nconst currentUser = userStore();\r\nconst userApi = inject<UserApi>('user-api');\r\nconst favoritesApi = inject<FavoriteApi>('favorite-api');\r\n\r\nconst FavoriteStatuses = {\r\n  Stash: 'Общее',\r\n  Loved: 'Любимое',\r\n  Planned: 'В планах',\r\n  Watching: 'В процессе',\r\n  Paused: 'Отложено',\r\n  Finished: 'Завершено',\r\n  Dropped: 'Брошено'\r\n} as const;\r\n\r\nconst defaultFavoriteStatus = \"Категория\";\r\nconst favoriteSelectedCategory = ref<string>(defaultFavoriteStatus);\r\nconst isFavoritesMenuDropped = ref(false);\r\nconst favoritesAllCategory = ref(false);\r\nconst favoritesWatchingCategory = ref(false);\r\n\r\nconst userId = ref<number>();\r\nconst userNickname = ref<string>();\r\nconst userCreatedAt = ref<string>();\r\nconst userRoles = ref<string[]>();\r\nconst userEmail = ref<string>();\r\nconst userImageUrl = ref<string>();\r\nconst userFavorites = ref<FavoriteGetList[]>([]);\r\nconst formatter = new Intl.DateTimeFormat('ru-RU', {hour: '2-digit', minute: '2-digit'});\r\n\r\n\r\nconst selectedFavoritesStatus = computed(() => {\r\n  let selectedStatus: FavoriteStatus | null = null;\r\n  if (favoritesAllCategory.value) {\r\n    selectedStatus = null;\r\n  } else if (favoritesWatchingCategory.value) {\r\n    selectedStatus = FavoriteStatus.Watching;\r\n  } else if (favoriteSelectedCategory.value !== defaultFavoriteStatus) {\r\n    selectedStatus = (getFavoritesStatusKeyByValue(favoriteSelectedCategory.value)) as FavoriteStatus;\r\n  }\r\n\r\n  return selectedStatus;\r\n})\r\n\r\nonMounted(async () => {\r\n  if (currentUser.loggedIn !== true) {\r\n    eventStore.push('Сначала необходимо авторизоваться!', EventTypes.Error as typeof EventTypes);\r\n    await router.push('/login');\r\n    return;\r\n  }\r\n\r\n  await loadCurrentUser();\r\n  await loadFavorites();\r\n});\r\n\r\n\r\n\r\nfunction getDateStr(dateNum: number): string {\r\n  const date = new Date(dateNum);\r\n  return formatter.format(date) + \" \" + date.toLocaleDateString();\r\n}\r\n\r\nasync function loadFavorites() {\r\n  console.log(selectedFavoritesStatus)\r\n\r\n  const favorites = await favoritesApi.getList(selectedFavoritesStatus.value, 10, 0);\r\n  userFavorites.value = favorites.data.Favorites ?? [];\r\n}\r\n\r\nasync function loadCurrentUser() {\r\n  try {\r\n    const userResponse = (await userApi.getCurrent())\r\n      .onBusinessError((errorDetails: ErrorDetails) => {\r\n        eventStore.push(errorDetails.Message, EventTypes.Error)\r\n        if (errorDetails.ErrorCode === 'Unauthorized') {\r\n          currentUser.LogOut();\r\n          router.push('/login')\r\n        }\r\n      })\r\n      .onException(() => eventStore.push('Ошибка сервера! Попробуйте снова позже.', EventTypes.Error));\r\n\r\n    if (!userResponse.data) {\r\n      return;\r\n    }\r\n\r\n    const user = userResponse.data;\r\n    userId.value = user.User.Id;\r\n    userNickname.value = user.User.Nickname;\r\n    userCreatedAt.value = getDateStr(user.User.CreatedAt);\r\n    userRoles.value = user.Roles.map(x => x.Alias);\r\n    userEmail.value = user.User.Email;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.profile {\r\n  &__favorites-header {\r\n    min-height: 64px;\r\n    height: fit-content;\r\n  }\r\n  &__filter {\r\n    width: fit-content;\r\n\r\n    &:hover {\r\n      background: var(--surface-container-highest90);\r\n    }\r\n  }\r\n  &__filter-enabled {\r\n    background: var(--primary40);\r\n    color: white;\r\n\r\n    &:hover {\r\n      background: var(--primary50);\r\n    }\r\n  }\r\n\r\n  &__favorites-list {\r\n    padding-top: 8px;\r\n    padding-bottom: 16px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  &__favorite-title {\r\n    text-align: start;\r\n    width: fit-content;\r\n  }\r\n\r\n  &__favorites-unit {\r\n    display: flex;\r\n    min-height: 48px;\r\n    min-width: 0;\r\n    height: fit-content;\r\n    padding-left: 16px;\r\n    padding-right: 16px;\r\n    color: #49454F;\r\n\r\n    &:hover {\r\n      color: var(--primary40);\r\n      background: color-mix(in srgb, var(--primary40) 8%, transparent);\r\n    }\r\n  }\r\n  &__tag-name {\r\n    display: flex;\r\n    color: #969BAB;\r\n    margin: 0;\r\n  }\r\n\r\n  &__tag-value {\r\n    margin: 0;\r\n  }\r\n}\r\n\r\n.profile-view {\r\n  @media (min-width: 0px) {\r\n    &__main {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 20px;\r\n      margin: 20px 0;\r\n    }\r\n  }\r\n  @media (min-width: 720px) {\r\n    &__main {\r\n      display: grid;\r\n      grid-template-columns: 255px 1fr;\r\n      gap: 20px;\r\n      margin: 20px 0;\r\n    }\r\n  }\r\n\r\n  &__avatar-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 20px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  &__button-unit {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 8px 20px;\r\n\r\n    font-weight: 600;\r\n    color: var(--primary);\r\n\r\n    & p {\r\n      margin: 0;\r\n    }\r\n\r\n    &:hover {\r\n      background: #F4F5F7;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n\r\n.profile-middle {\r\n  &__main {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    gap: 20px;\r\n  }\r\n}\r\n\r\n.profile-right-bar {\r\n  &__main {\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: #6686B3;\r\n    min-width: 255px;\r\n  }\r\n}\r\n\r\n</style>","import script from \"./ProfileView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ProfileView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ProfileView.vue?vue&type=style&index=0&id=7fea17be&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7fea17be\"]])\n\nexport default __exports__","export class StringExtensions {\r\n    static isNullOrEmpty(value: string) : boolean {\r\n        return !value || value.trim().length === 0;\r\n    }\r\n\r\n    /**\r\n     * Метод для валидации email-адреса с использованием регулярного выражения.\r\n     * ^[^\\s@]+ — строка должна начинаться с одного или более символов, кроме пробела и @.\r\n     * @[^\\s@]+ — после @ должен быть один или более символов, кроме пробела и @.\r\n     * \\.[^\\s@]+$ — после точки должен быть один или более символов, кроме пробела и @, и строка должна заканчиваться на этом.\r\n     * @param email - Строка, содержащая email-адрес.\r\n     * @returns Возвращает true, если email валиден, и false в противном случае.\r\n     */\r\n    static validateEmail(email: string): boolean {\r\n        if (!email || email.length === 0) return false;\r\n\r\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n        return emailRegex.test(email);\r\n    }\r\n\r\n    /**\r\n     * Метод для проверки, состоит ли строка только из английских букв и чисел.\r\n     * @param input - Строка для проверки.\r\n     * @returns Возвращает true, если строка состоит только из английских букв и чисел, и false в противном случае.\r\n     */\r\n    static validateAlphanumeric(input: string): boolean {\r\n        // Регулярное выражение для проверки строки на английские буквы и числа\r\n        const alphanumericRegex = /^[A-Za-z0-9]+$/;\r\n        return alphanumericRegex.test(input);\r\n    }\r\n\r\n    /**\r\n     * Метод для форматирования даты в строковый вид. (например 21:53 09.03.2025)\r\n     */\r\n    static getDateStr(dateNum: number) : string {\r\n        const date = new Date(dateNum);\r\n        const formatter = new Intl.DateTimeFormat('ru-RU', { hour: '2-digit', minute: '2-digit' });\r\n\r\n        return formatter.format(date) + \" \" + date.toLocaleDateString();\r\n    }\r\n\r\n    static validateNickname(input: string): boolean {\r\n        // Пустая строка не проходит проверку\r\n        if (input.length === 0) return true;\r\n\r\n        // Разрешённые символы\r\n        const allowedSymbols = new Set(['.', '/', '-', '_']);\r\n\r\n        for (const char of input) {\r\n            const isLetter =\r\n                (char >= 'a' && char <= 'z') ||\r\n                (char >= 'A' && char <= 'Z');\r\n\r\n            const isDigit = char >= '0' && char <= '9';\r\n            const isSymbol = allowedSymbols.has(char);\r\n\r\n            if (!(isLetter || isDigit || isSymbol)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n}","<template>\r\n  <svg\r\n    width=\"24\" height=\"24\"\r\n    viewBox=\"0 0 24 24\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      d=\"M12 6.5C15.79 6.5 19.17 8.63 20.82 12C19.17 15.37 15.8 17.5 12 17.5C8.2 17.5 4.83 15.37 3.18 12C4.83 8.63 8.21 6.5 12 6.5ZM12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C17 19.5 21.27 16.39 23 12C21.27 7.61 17 4.5 12 4.5ZM12 9.5C13.38 9.5 14.5 10.62 14.5 12C14.5 13.38 13.38 14.5 12 14.5C10.62 14.5 9.5 13.38 9.5 12C9.5 10.62 10.62 9.5 12 9.5ZM12 7.5C9.52 7.5 7.5 9.52 7.5 12C7.5 14.48 9.52 16.5 12 16.5C14.48 16.5 16.5 14.48 16.5 12C16.5 9.52 14.48 7.5 12 7.5Z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./Eye.vue?vue&type=template&id=34cc0af4\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"24\" height=\"24\"\r\n    viewBox=\"0 0 24 24\"\r\n    fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n      d=\"M3.42 2L2 3.41L5.22665 6.63665C3.34032 7.96092 1.85787 9.82309 1 12C2.73 16.39 7 19.5 12 19.5C13.7825 19.5 15.4722 19.1047 16.9871 18.3971L20.39 21.8L21.8 20.39L18.7743 17.3627C18.776 17.3615 18.7776 17.3604 18.7792 17.3592L17.3491 15.9291C17.3476 15.9301 17.346 15.9311 17.3445 15.9321L15.8079 14.3946C15.8088 14.3932 15.8096 14.3919 15.8105 14.3905L14.3293 12.9093C14.3287 12.9107 14.3282 12.9121 14.3276 12.9136L11.0877 9.67188C11.0887 9.67149 11.0897 9.67109 11.0907 9.6707L9.60952 8.18949C9.60882 8.18993 9.60813 8.19037 9.60744 8.1908L8.53923 7.12202C8.53991 7.12176 8.54059 7.12151 8.54128 7.12125L7.01968 5.59966C7.01923 5.59987 7.01878 5.60008 7.01833 5.60029L3.42 2ZM10.8165 6.56998L9.10524 4.85776C10.0314 4.62412 11.0011 4.5 12 4.5C17 4.5 21.27 7.61 23 12C22.3922 13.5422 21.471 14.9265 20.3148 16.0734L18.9109 14.6687C19.6783 13.9061 20.3262 13.0086 20.82 12C19.17 8.63 15.79 6.5 12 6.5C11.6004 6.5 11.2054 6.52367 10.8165 6.56998ZM11.7528 7.50672L16.4931 12.2497C16.4977 12.167 16.5 12.0838 16.5 12C16.5 9.52 14.48 7.5 12 7.5C11.9171 7.5 11.8346 7.50226 11.7528 7.50672ZM3.18 12C3.9816 10.3628 5.19152 9.01824 6.65841 8.06841L8.19337 9.60337C7.75436 10.2979 7.5 11.12 7.5 12C7.5 14.48 9.52 16.5 12 16.5C12.88 16.5 13.7021 16.2456 14.3966 15.8066L15.4672 16.8772C14.3834 17.2827 13.2136 17.5 12 17.5C8.2 17.5 4.83 15.37 3.18 12ZM9.5 12C9.5 11.6765 9.56153 11.3674 9.67353 11.0835L12.9165 14.3265C12.6326 14.4385 12.3235 14.5 12 14.5C10.62 14.5 9.5 13.38 9.5 12Z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./EyeCross.vue?vue&type=template&id=7969d9ea\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, unref as _unref, normalizeClass as _normalizeClass, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, withCtx as _withCtx, vModelCheckbox as _vModelCheckbox, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-25843f70\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"login-view__main\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"title-large\" }, \" Авторизация \", -1))\nconst _hoisted_3 = { class: \"login-view__input-container gap-8 h__start\" }\nconst _hoisted_4 = { class: \"row h__space-between\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", null, \" Запомнить меня \", -1))\nconst _hoisted_6 = { class: \"column gap-16\" }\n\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\n      import {inject, ref} from \"vue\";\r\nimport {userStore} from \"@/store/UserStore\"\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\nimport {useRouter} from \"vue-router\";\r\nimport Eye from \"@/components/Icons/MaterialIcons/Eye.vue\";\r\nimport IconButton from \"@/components/Base/Buttons/IconButton.vue\";\r\nimport EyeCross from \"@/components/Icons/EyeCross.vue\";\r\nimport BaseTextButton from \"@/components/Base/BaseTextButton.vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LogInView',\n  setup(__props) {\n\r\nconst router = useRouter();\r\nconst store = userStore();\r\nconst userApi = inject<UserApi>('user-api');\r\nconst eventStore = ClientEventStore();\r\nconst isShowPassword = ref<boolean>(false);\r\nconst isRememberMe = ref<boolean>(false);\r\nconst isLoginInputInvalid = ref<boolean>(false);\r\nconst isPasswordInputInvalid = ref<boolean>(false);\r\nconst loginInput = ref<string>(undefined);\r\nconst passwordInput = ref<string>(undefined);\r\n\r\nasync function logInClick() {\r\n  const wrongInputErrorStr = 'Ошибка! Не корректно введены логин или пароль!';\r\n  const defaultErrorStr = 'Ошибка сервера! Что-то пошло не так!';\r\n\r\n  if (!IsInputsValid()) {\r\n    eventStore.push(wrongInputErrorStr, EventTypes.Error as typeof EventTypes);\r\n  }\r\n\r\n  const response = await userApi.logIn(loginInput.value, passwordInput.value, isRememberMe.value);\r\n  if (userApi.isErrorDetails(response)) {\r\n    eventStore.push(wrongInputErrorStr, EventTypes.Error as typeof EventTypes);\r\n    return;\r\n  }\r\n\r\n  if (response.status === 400) {\r\n    eventStore.push(defaultErrorStr, EventTypes.Error as typeof EventTypes);\r\n    return;\r\n  }\r\n\r\n  const userResponse = (await userApi.getCurrent())\r\n    .onException(() => eventStore.push(defaultErrorStr, EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError(() => eventStore.push('Сначала необходимо авторизоваться!', EventTypes.Error as typeof EventTypes));\r\n\r\n  if (!userResponse.data) {\r\n    eventStore.push(defaultErrorStr, EventTypes.Error as typeof EventTypes);\r\n    return;\r\n  }\r\n\r\n  const currentUser = userResponse.data;\r\n\r\n  store.LogIn(\r\n    currentUser.User.Id,\r\n    currentUser.User.Nickname,\r\n    currentUser.User.Email,\r\n    currentUser.User.ImageUrl,\r\n    currentUser.Roles.map(x => x.Alias)\r\n  );\r\n  await router.push('/');\r\n}\r\n\r\nfunction IsInputsValid() : boolean {\r\n  if (StringExtensions.isNullOrEmpty(loginInput.value)) {\r\n    isLoginInputInvalid.value = true;\r\n  }\r\n\r\n  if (StringExtensions.isNullOrEmpty(passwordInput.value)) {\r\n    isPasswordInputInvalid.value = true;\r\n  }\r\n\r\n  return !isLoginInputInvalid.value && !isPasswordInputInvalid.value;\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(BaseBackground, {\n      type: 2,\n      class: \"login-view__container gap-16\"\n    }, {\n      default: _withCtx(() => [\n        _hoisted_2,\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createVNode(BaseInput, {\n            modelValue: loginInput.value,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((loginInput).value = $event)),\n            class: \"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\",\n            \"mark-as-invalid-input\": isLoginInputInvalid.value,\n            \"place-holder\": 'Введите email',\n            type: \"email\"\n          }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"]),\n          _createVNode(BaseInput, {\n            modelValue: passwordInput.value,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((passwordInput).value = $event)),\n            class: \"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\",\n            \"mark-as-invalid-input\": isLoginInputInvalid.value,\n            \"place-holder\": 'Введите пароль',\n            type: isShowPassword.value ? 'text' : 'password'\n          }, {\n            \"end-icon\": _withCtx(() => [\n              _createVNode(IconButton, {\n                onClick: _cache[1] || (_cache[1] = _withModifiers(() => isShowPassword.value = !isShowPassword.value, [\"stop\"]))\n              }, {\n                default: _withCtx(() => [\n                  (!_unref(StringExtensions).isNullOrEmpty(passwordInput.value) && !isShowPassword.value)\n                    ? (_openBlock(), _createBlock(EyeCross, {\n                        key: 0,\n                        class: _normalizeClass({'login-view__icon-active': isShowPassword.value, 'login-view__icon-static': !isShowPassword.value})\n                      }, null, 8, [\"class\"]))\n                    : (!_unref(StringExtensions).isNullOrEmpty(passwordInput.value) && isShowPassword.value)\n                      ? (_openBlock(), _createBlock(Eye, {\n                          key: 1,\n                          class: _normalizeClass({'login-view__icon-active': isShowPassword.value, 'login-view__icon-static': !isShowPassword.value})\n                        }, null, 8, [\"class\"]))\n                      : _createCommentVNode(\"\", true)\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          }, 8, [\"modelValue\", \"mark-as-invalid-input\", \"type\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(BaseTextButton, {\n            class: \"login-view__rememberMe row gap-8 h__space-between\",\n            onClick: _cache[4] || (_cache[4] = () => isRememberMe.value = !isRememberMe.value)\n          }, {\n            default: _withCtx(() => [\n              _withDirectives(_createElementVNode(\"input\", {\n                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((isRememberMe).value = $event)),\n                type: \"checkbox\"\n              }, null, 512), [\n                [_vModelCheckbox, isRememberMe.value]\n              ]),\n              _hoisted_5\n            ]),\n            _: 1\n          }),\n          _createVNode(BaseTextButton, { class: \"login-view__rememberMe\" }, {\n            default: _withCtx(() => [\n              _createVNode(_component_router_link, { to: \"/restore\" }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Забыли пароль? \")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ]),\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createVNode(BaseButton, {\n            class: \"m-radius-circle\",\n            \"button-type\": 2,\n            variant: 'filled',\n            onClick: _withModifiers(logInClick, [\"stop\"])\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Войти \")\n            ]),\n            _: 1\n          }),\n          _createVNode(BaseButton, {\n            \"button-type\": 3,\n            class: \"login-view__links m-border m-border-hover m-radius-circle column v__center gap-8\"\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_router_link, { to: \"/reg\" }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Зарегистрироваться \")\n                ]),\n                _: 1\n              })\n            ]),\n            _: 1\n          })\n        ])\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"login-view__main\">\r\n    <BaseBackground :type=\"2\" class=\"login-view__container gap-16\">\r\n      <p class=\"title-large\">\r\n        Авторизация\r\n      </p>\r\n\r\n      <div class=\"login-view__input-container gap-8 h__start\">\r\n        <base-input\r\n          v-model=\"loginInput\"\r\n          class=\"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\"\r\n          :mark-as-invalid-input=\"isLoginInputInvalid\"\r\n          :place-holder=\"'Введите email'\"\r\n          type=\"email\"\r\n        />\r\n        <base-input\r\n          v-model=\"passwordInput\"\r\n          class=\"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\"\r\n          :mark-as-invalid-input=\"isLoginInputInvalid\"\r\n          :place-holder=\"'Введите пароль'\"\r\n          :type=\"isShowPassword ? 'text' : 'password'\"\r\n        >\r\n          <template #end-icon>\r\n            <icon-button @click.stop=\"() => isShowPassword = !isShowPassword\">\r\n              <eye-cross v-if=\"!StringExtensions.isNullOrEmpty(passwordInput) && !isShowPassword\" :class=\"{'login-view__icon-active': isShowPassword, 'login-view__icon-static': !isShowPassword}\" />\r\n              <eye v-else-if=\"!StringExtensions.isNullOrEmpty(passwordInput) && isShowPassword\" :class=\"{'login-view__icon-active': isShowPassword, 'login-view__icon-static': !isShowPassword}\" />\r\n            </icon-button>\r\n          </template>\r\n        </base-input>\r\n      </div>\r\n\r\n      <div class=\"row h__space-between\">\r\n        <base-text-button\r\n          class=\"login-view__rememberMe row gap-8 h__space-between\"\r\n          @click=\"() => isRememberMe = !isRememberMe\"\r\n        >\r\n          <input v-model=\"isRememberMe\" type=\"checkbox\">\r\n          <div>\r\n            Запомнить меня\r\n          </div>\r\n        </base-text-button>\r\n        <base-text-button class=\"login-view__rememberMe\">\r\n          <router-link to=\"/restore\">\r\n            Забыли пароль?\r\n          </router-link>\r\n        </base-text-button>\r\n      </div>\r\n\r\n      <div class=\"column gap-16\">\r\n        <base-button\r\n          class=\"m-radius-circle\"\r\n          :button-type=\"2\"\r\n          :variant=\"'filled'\"\r\n          @click.stop=\"logInClick\"\r\n        >\r\n          Войти\r\n        </base-button>\r\n        <base-button :button-type=\"3\" class=\"login-view__links m-border m-border-hover m-radius-circle column v__center gap-8\">\r\n          <router-link to=\"/reg\">\r\n            Зарегистрироваться\r\n          </router-link>\r\n        </base-button>\r\n      </div>\r\n    </BaseBackground>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\n      import {inject, ref} from \"vue\";\r\nimport {userStore} from \"@/store/UserStore\"\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\nimport {useRouter} from \"vue-router\";\r\nimport Eye from \"@/components/Icons/MaterialIcons/Eye.vue\";\r\nimport IconButton from \"@/components/Base/Buttons/IconButton.vue\";\r\nimport EyeCross from \"@/components/Icons/EyeCross.vue\";\r\nimport BaseTextButton from \"@/components/Base/BaseTextButton.vue\";\r\n\r\nconst router = useRouter();\r\nconst store = userStore();\r\nconst userApi = inject<UserApi>('user-api');\r\nconst eventStore = ClientEventStore();\r\nconst isShowPassword = ref<boolean>(false);\r\nconst isRememberMe = ref<boolean>(false);\r\nconst isLoginInputInvalid = ref<boolean>(false);\r\nconst isPasswordInputInvalid = ref<boolean>(false);\r\nconst loginInput = ref<string>(undefined);\r\nconst passwordInput = ref<string>(undefined);\r\n\r\nasync function logInClick() {\r\n  const wrongInputErrorStr = 'Ошибка! Не корректно введены логин или пароль!';\r\n  const defaultErrorStr = 'Ошибка сервера! Что-то пошло не так!';\r\n\r\n  if (!IsInputsValid()) {\r\n    eventStore.push(wrongInputErrorStr, EventTypes.Error as typeof EventTypes);\r\n  }\r\n\r\n  const response = await userApi.logIn(loginInput.value, passwordInput.value, isRememberMe.value);\r\n  if (userApi.isErrorDetails(response)) {\r\n    eventStore.push(wrongInputErrorStr, EventTypes.Error as typeof EventTypes);\r\n    return;\r\n  }\r\n\r\n  if (response.status === 400) {\r\n    eventStore.push(defaultErrorStr, EventTypes.Error as typeof EventTypes);\r\n    return;\r\n  }\r\n\r\n  const userResponse = (await userApi.getCurrent())\r\n    .onException(() => eventStore.push(defaultErrorStr, EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError(() => eventStore.push('Сначала необходимо авторизоваться!', EventTypes.Error as typeof EventTypes));\r\n\r\n  if (!userResponse.data) {\r\n    eventStore.push(defaultErrorStr, EventTypes.Error as typeof EventTypes);\r\n    return;\r\n  }\r\n\r\n  const currentUser = userResponse.data;\r\n\r\n  store.LogIn(\r\n    currentUser.User.Id,\r\n    currentUser.User.Nickname,\r\n    currentUser.User.Email,\r\n    currentUser.User.ImageUrl,\r\n    currentUser.Roles.map(x => x.Alias)\r\n  );\r\n  await router.push('/');\r\n}\r\n\r\nfunction IsInputsValid() : boolean {\r\n  if (StringExtensions.isNullOrEmpty(loginInput.value)) {\r\n    isLoginInputInvalid.value = true;\r\n  }\r\n\r\n  if (StringExtensions.isNullOrEmpty(passwordInput.value)) {\r\n    isPasswordInputInvalid.value = true;\r\n  }\r\n\r\n  return !isLoginInputInvalid.value && !isPasswordInputInvalid.value;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.login-view {\r\n  &__rememberMe {\r\n    padding-top: 4px;\r\n    padding-bottom: 4px;\r\n  }\r\n  &__icon-active {\r\n    color: var(--primary40);\r\n  }\r\n  &__icon-static {\r\n    color: var(--outline-light);\r\n  }\r\n  &__login-button {\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    color: white;\r\n    text-decoration: none;\r\n  }\r\n\r\n  &__memorize {\r\n    display: flex;\r\n    width: 100%;\r\n  }\r\n\r\n  &__memorize-label {\r\n    margin-left: 4px;\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    text-align: left;\r\n    letter-spacing: 0.02em;\r\n    cursor: pointer;\r\n    -webkit-user-select: none;\r\n  }\r\n\r\n  &__line-breaker {\r\n    width: 100%;\r\n    height: 1px;\r\n    background: #969BAB;\r\n  }\r\n\r\n  &__logo {\r\n    height: 30px;\r\n  }\r\n\r\n  &__links {\r\n    & a {\r\n      color: var(--primary40);\r\n\r\n      &:hover {\r\n        cursor: pointer;\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n\r\n  &__input {\r\n    border: solid 1px #969BAB;\r\n    border-radius: 6px;\r\n    padding: 10px;\r\n    height: 40px;\r\n    width: 100%;\r\n\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n    line-height: 15px;\r\n    letter-spacing: 0.04em;\r\n    color: #474A57;\r\n\r\n    &:focus-visible {\r\n      outline: var(--primary) auto 1px;;\r\n    }\r\n  }\r\n\r\n  &__main {\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    margin-top: 26px;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  &__container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    height: fit-content;\r\n    width: 420px;\r\n    padding: 40px;\r\n  }\r\n\r\n  &__input-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n\r\n    text-align: start;\r\n  }\r\n}\r\n\r\n</style>","import script from \"./LogInView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./LogInView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./LogInView.vue?vue&type=style&index=0&id=25843f70&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-25843f70\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, withModifiers as _withModifiers, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\n\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ModalWindow',\n  emits: [\"on:close\"],\n  setup(__props, { emit: __emit }) {\n\r\nconst emits = __emit\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"modal-backdrop\",\n    onClick: _cache[1] || (_cache[1] = ($event: any) => (emits('on:close')))\n  }, [\n    _createElementVNode(\"div\", {\n      class: \"modal m-border m-radius-16\",\n      onClick: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"stop\"]))\n    }, [\n      _renderSlot(_ctx.$slots, \"header\"),\n      _renderSlot(_ctx.$slots, \"body\"),\n      _renderSlot(_ctx.$slots, \"footer\")\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"modal-backdrop\" @click=\"emits('on:close')\">\r\n    <div class=\"modal m-border m-radius-16\" @click.stop>\r\n      <slot name=\"header\" />\r\n      <slot name=\"body\" />\r\n      <slot name=\"footer\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {defineEmits} from \"vue\";\r\n\r\nconst emits = defineEmits<{\r\n  (emitName: 'on:close') : void\r\n}>()\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.modal-backdrop {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.modal {\r\n  background: #FFFFFF;\r\n  box-shadow: 2px 2px 20px 1px;\r\n  overflow-x: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n  padding: 16px;\r\n}\r\n\r\n.modal-header,\r\n.modal-footer {\r\n  padding: 15px;\r\n  display: flex;\r\n}\r\n\r\n.modal-header {\r\n  border-bottom: 1px solid #eeeeee;\r\n  color: #4AAE9B;\r\n  justify-content: space-between;\r\n}\r\n\r\n.modal-footer {\r\n  border-top: 1px solid #eeeeee;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.modal-body {\r\n  position: relative;\r\n  padding: 20px 10px;\r\n}\r\n\r\n.btn-close {\r\n  border: none;\r\n  font-size: 20px;\r\n  padding: 20px;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  color: #4AAE9B;\r\n  background: transparent;\r\n}\r\n\r\n.btn-green {\r\n  color: white;\r\n  background: #4AAE9B;\r\n  border: 1px solid #4AAE9B;\r\n  border-radius: 2px;\r\n}\r\n</style>","import script from \"./ModalWindow.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./ModalWindow.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./ModalWindow.vue?vue&type=style&index=0&id=73f684fa&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-73f684fa\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, vShow as _vShow, withDirectives as _withDirectives, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"column gap-16\" }\nconst _hoisted_2 = { class: \"row gap-16 v__start v__center h__space-between\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"h__fill title-large\" }, \" Введите код \", -1)\nconst _hoisted_4 = { class: \"body-medium\" }\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_6 = { class: \"column gap-8\" }\n\nimport ModalWindow from \"@/components/Base/ModalWindow.vue\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport {inject, ref, watch} from \"vue\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport IconButton from \"@/components/Base/Buttons/IconButton.vue\";\r\nimport XIcon from \"@/components/Icons/xIcon.vue\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport {useRouter} from \"vue-router\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EmailVerificationModal',\n  props: {\r\n  currentEmail: {type: String, required: true},\r\n  isVisible: {type: Boolean, required: true},\r\n  userToken: {type: String, required: true}\r\n},\n  emits: [\"on:close\"],\n  setup(__props, { emit: __emit }) {\n\r\nconst router = useRouter();\r\nconst eventStore = ClientEventStore();\r\nconst user = userStore();\r\nconst userApi = inject<UserApi>('user-api');\r\n\r\nconst emits = __emit;\r\n\r\nconst props = __props;\r\n\r\nconst currentEmail = user.email;\r\nconst refIsVisible = ref<boolean | null>(props.isVisible);\r\n\r\nconst verificationCode = ref<string>();\r\nconst isInvalidVerifyingCode = ref<boolean>(false);\r\n\r\nwatch(() => props.isVisible, (newValue: boolean) => {\r\n  refIsVisible.value = newValue;\r\n});\r\n\r\nasync function sendMailVerifyCode() {\r\n  (await userApi.sendMailVerifyCode(props.userToken))\r\n    .onBusinessError(error => eventStore.push(error.Message, EventTypes.Error as typeof EventTypes))\r\n    .onException(() => eventStore.push('Не удалось отправить код! Попробуйте еще раз!', EventTypes.Error as typeof EventTypes));\r\n}\r\n\r\nasync function verifyRegistrationCode() {\r\n  if (StringExtensions.isNullOrEmpty(verificationCode.value)) {\r\n    isInvalidVerifyingCode.value = true;\r\n    return;\r\n  }\r\n\r\n  const response = (await userApi.verifyRegistrationCode(verificationCode.value, props.userToken))\r\n    .onBusinessError(error => eventStore.push(error.Message, EventTypes.Error as typeof EventTypes))\r\n    .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes));\r\n\r\n  if (response.error) {\r\n    return;\r\n  }\r\n\r\n  isInvalidVerifyingCode.value = false;\r\n  await router.push('/login');\r\n  onClose();\r\n}\r\nfunction onClose() {\r\n  refIsVisible.value = false;\r\n  emits('on:close');\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return _withDirectives((_openBlock(), _createBlock(ModalWindow, { \"onOn:close\": onClose }, {\n    header: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _createVNode(IconButton, { onClick: onClose }, {\n            default: _withCtx(() => [\n              _createVNode(XIcon)\n            ]),\n            _: 1\n          })\n        ]),\n        _createElementVNode(\"p\", _hoisted_4, [\n          _createTextVNode(\" Проверьте электронную почту \" + _toDisplayString(props.currentEmail) + \",\", 1),\n          _hoisted_5,\n          _createTextVNode(\"мы отправили вам код подтверждения \")\n        ])\n      ])\n    ]),\n    body: _withCtx(() => [\n      _createVNode(BaseInput, {\n        modelValue: verificationCode.value,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((verificationCode).value = $event)),\n        class: \"m-radius-8 m3-bg-2 m-border m-border-hover m-border-active\",\n        \"mark-as-invalid-input\": isInvalidVerifyingCode.value,\n        \"place-holder\": 'Код подтверждения'\n      }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"])\n    ]),\n    footer: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_6, [\n        _createVNode(BaseButton, {\n          variant: 'filled',\n          class: \"m-radius-8\",\n          onClick: verifyRegistrationCode\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\" Подтвердить \")\n          ]),\n          _: 1\n        }),\n        _createVNode(BaseButton, {\n          class: \"m-radius-8\",\n          variant: 'outline',\n          onClick: sendMailVerifyCode\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\" Отправить еще раз \")\n          ]),\n          _: 1\n        })\n      ])\n    ]),\n    _: 1\n  }, 512)), [\n    [_vShow, refIsVisible.value]\n  ])\n}\n}\n\n})","<template>\r\n  <modal-window\r\n    v-show=\"refIsVisible\"\r\n    @on:close=\"onClose\"\r\n  >\r\n    <template #header>\r\n      <div class=\"column gap-16\">\r\n        <div class=\"row gap-16 v__start v__center h__space-between\">\r\n          <p class=\"h__fill title-large\">\r\n            Введите код\r\n          </p>\r\n          <icon-button @click=\"onClose\">\r\n            <x-icon />\r\n          </icon-button>\r\n        </div>\r\n        <p class=\"body-medium\">\r\n          Проверьте электронную почту {{ props.currentEmail }},<br>мы отправили вам код подтверждения\r\n        </p>\r\n      </div>\r\n    </template>\r\n    <template #body>\r\n      <base-input\r\n        v-model=\"verificationCode\"\r\n        class=\"m-radius-8 m3-bg-2 m-border m-border-hover m-border-active\"\r\n        :mark-as-invalid-input=\"isInvalidVerifyingCode\"\r\n        :place-holder=\"'Код подтверждения'\"\r\n      />\r\n    </template>\r\n    <template #footer>\r\n      <div class=\"column gap-8\">\r\n        <base-button\r\n          :variant=\"'filled'\"\r\n          class=\"m-radius-8\"\r\n          @click=\"verifyRegistrationCode\"\r\n        >\r\n          Подтвердить\r\n        </base-button>\r\n        <base-button\r\n          class=\"m-radius-8\"\r\n          :variant=\"'outline'\"\r\n          @click=\"sendMailVerifyCode\"\r\n        >\r\n          Отправить еще раз\r\n        </base-button>\r\n      </div>\r\n    </template>\r\n  </modal-window>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport ModalWindow from \"@/components/Base/ModalWindow.vue\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport {defineEmits, inject, ref, watch} from \"vue\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport IconButton from \"@/components/Base/Buttons/IconButton.vue\";\r\nimport XIcon from \"@/components/Icons/xIcon.vue\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport {useRouter} from \"vue-router\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\n\r\nconst router = useRouter();\r\nconst eventStore = ClientEventStore();\r\nconst user = userStore();\r\nconst userApi = inject<UserApi>('user-api');\r\n\r\nconst emits = defineEmits<{\r\n  (emitName: 'on:close') : void\r\n}>();\r\n\r\nconst props = defineProps({\r\n  currentEmail: {type: String, required: true},\r\n  isVisible: {type: Boolean, required: true},\r\n  userToken: {type: String, required: true}\r\n});\r\n\r\nconst currentEmail = user.email;\r\nconst refIsVisible = ref<boolean | null>(props.isVisible);\r\n\r\nconst verificationCode = ref<string>();\r\nconst isInvalidVerifyingCode = ref<boolean>(false);\r\n\r\nwatch(() => props.isVisible, (newValue: boolean) => {\r\n  refIsVisible.value = newValue;\r\n});\r\n\r\nasync function sendMailVerifyCode() {\r\n  (await userApi.sendMailVerifyCode(props.userToken))\r\n    .onBusinessError(error => eventStore.push(error.Message, EventTypes.Error as typeof EventTypes))\r\n    .onException(() => eventStore.push('Не удалось отправить код! Попробуйте еще раз!', EventTypes.Error as typeof EventTypes));\r\n}\r\n\r\nasync function verifyRegistrationCode() {\r\n  if (StringExtensions.isNullOrEmpty(verificationCode.value)) {\r\n    isInvalidVerifyingCode.value = true;\r\n    return;\r\n  }\r\n\r\n  const response = (await userApi.verifyRegistrationCode(verificationCode.value, props.userToken))\r\n    .onBusinessError(error => eventStore.push(error.Message, EventTypes.Error as typeof EventTypes))\r\n    .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes));\r\n\r\n  if (response.error) {\r\n    return;\r\n  }\r\n\r\n  isInvalidVerifyingCode.value = false;\r\n  await router.push('/login');\r\n  onClose();\r\n}\r\nfunction onClose() {\r\n  refIsVisible.value = false;\r\n  emits('on:close');\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./EmailVerificationModal.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./EmailVerificationModal.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, resolveComponent as _resolveComponent, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c90e91be\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"registration-view__main\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"title-large\" }, \" Регистрация \", -1))\nconst _hoisted_3 = { class: \"registration-view__input-container\" }\nconst _hoisted_4 = { class: \"registration-view__links\" }\n\nimport {inject, ref} from \"vue\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\nimport EmailVerificationModal from \"@/components/Modal/EmailVerificationModal.vue\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'RegistrationView',\n  setup(__props) {\n\r\nconst userApi = inject<UserApi>('user-api');\r\nconst eventStore = ClientEventStore();\r\nconst router = useRouter();\r\n\r\nconst isNicknameInputInvalid = ref<boolean>(false);\r\nconst nicknameInput = ref<string>(undefined);\r\n\r\nconst isEmailInputInvalid = ref<boolean>(false);\r\nconst emailInput = ref<string>(undefined);\r\n\r\nconst isPasswordInputInvalid = ref<boolean>(false);\r\nconst firstPasswordInput = ref<string>(null);\r\nconst secondPasswordInput = ref<string>(null);\r\n\r\nconst emailVerificationIsVisible = ref<boolean>(false);\r\nlet authTempToken = ref<string|null>(null);\r\n\r\nasync function registrationButtonAction() {\r\n  if (!StringExtensions.isNullOrEmpty(firstPasswordInput.value)) {\r\n    if (firstPasswordInput.value.length < 10) {\r\n      eventStore.push('Ошибка! Длина пароля должна быть НЕ меньше 10 символов.', EventTypes.Error);\r\n      isPasswordInputInvalid.value = true;\r\n    }\r\n    else if (firstPasswordInput.value != secondPasswordInput.value) {\r\n      eventStore.push('Ошибка! Введенные пароли не совпадают.', EventTypes.Error);\r\n      isPasswordInputInvalid.value = true;\r\n    } else {\r\n      isPasswordInputInvalid.value = false;\r\n    }\r\n  } else {\r\n    eventStore.push('Ошибка! Не заполнены обязательные поля.', EventTypes.Error);\r\n    isPasswordInputInvalid.value = true;\r\n  }\r\n\r\n  if (!StringExtensions.validateEmail(emailInput.value)) {\r\n    isEmailInputInvalid.value = true;\r\n    eventStore.push('Ошибка! Не верный формат почты.', EventTypes.Error);\r\n  } else {\r\n    isEmailInputInvalid.value = false;\r\n  }\r\n\r\n  if (StringExtensions.isNullOrEmpty(nicknameInput.value)) {\r\n    isNicknameInputInvalid.value = true;\r\n    eventStore.push('Ошибка! Не заполнены обязательные поля.', EventTypes.Error);\r\n  } else {\r\n    if (nicknameInput.value.length < 5 && nicknameInput.value.length > 15) {\r\n      isNicknameInputInvalid.value = true;\r\n      eventStore.push('Ошибка! Длина никнейма должна быть от 5 до 15 символов.', EventTypes.Error);\r\n    } else if (!StringExtensions.validateAlphanumeric(nicknameInput.value)) {\r\n      isNicknameInputInvalid.value = true;\r\n      eventStore.push('Ошибка! Никнейм должен содержать только английские буквы и цифры.', EventTypes.Error);\r\n    }\r\n    else {\r\n      isNicknameInputInvalid.value = false;\r\n    }\r\n  }\r\n\r\n  if (isNicknameInputInvalid.value || isEmailInputInvalid.value || isPasswordInputInvalid.value) {\r\n    return;\r\n  }\r\n\r\n  const regResponse = (await userApi.registration(\r\n    nicknameInput.value,\r\n    emailInput.value,\r\n    firstPasswordInput.value))\r\n      .onBusinessError(error => eventStore.push(error.Message, EventTypes.Error as typeof EventTypes))\r\n      .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes));\r\n\r\n  if (regResponse.error) {\r\n    return;\r\n  }\r\n\r\n  authTempToken.value = regResponse.data.Token;\r\n  (await userApi.sendMailVerifyCode(authTempToken.value))\r\n    .onBusinessError(error => eventStore.push(error.Message, EventTypes.Error as typeof EventTypes))\r\n    .onException(() => eventStore.push('Не удалось отправить код! Попробуйте еще раз!', EventTypes.Error as typeof EventTypes));\r\n\r\n  emailVerificationIsVisible.value = true;\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(BaseBackground, {\n      type: 2,\n      class: \"registration-view__container\"\n    }, {\n      default: _withCtx(() => [\n        _hoisted_2,\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createVNode(BaseInput, {\n            modelValue: nicknameInput.value,\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((nicknameInput).value = $event)),\n            \"mark-as-invalid-input\": isNicknameInputInvalid.value,\n            class: \"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\",\n            \"place-holder\": 'Придумайте никнейм'\n          }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"]),\n          _createVNode(BaseInput, {\n            modelValue: emailInput.value,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((emailInput).value = $event)),\n            class: \"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\",\n            \"mark-as-invalid-input\": isEmailInputInvalid.value,\n            \"place-holder\": 'Введите email',\n            type: \"email\"\n          }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"]),\n          _createVNode(BaseInput, {\n            modelValue: firstPasswordInput.value,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((firstPasswordInput).value = $event)),\n            class: \"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\",\n            \"mark-as-invalid-input\": isPasswordInputInvalid.value,\n            \"place-holder\": 'Введите пароль',\n            type: \"password\"\n          }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"]),\n          _createVNode(BaseInput, {\n            modelValue: secondPasswordInput.value,\n            \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((secondPasswordInput).value = $event)),\n            class: \"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\",\n            \"mark-as-invalid-input\": isPasswordInputInvalid.value,\n            \"place-holder\": 'Подтвердите пароль',\n            type: \"password\"\n          }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"])\n        ]),\n        _createVNode(BaseButton, {\n          class: \"m-radius-circle h__fill\",\n          \"button-type\": 2,\n          variant: 'filled',\n          onClick: registrationButtonAction\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\" Зарегистрировать \")\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createVNode(_component_router_link, { to: \"/login\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Войти \")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_router_link, { to: \"/restore\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Вспомнить пароль \")\n            ]),\n            _: 1\n          })\n        ])\n      ]),\n      _: 1\n    }),\n    _createVNode(EmailVerificationModal, {\n      \"is-visible\": emailVerificationIsVisible.value,\n      \"current-email\": emailInput.value,\n      \"user-token\": _unref(authTempToken),\n      \"onOn:close\": _cache[4] || (_cache[4] = ($event: any) => {emailVerificationIsVisible.value = false;})\n    }, null, 8, [\"is-visible\", \"current-email\", \"user-token\"])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"registration-view__main\">\r\n    <BaseBackground\r\n      :type=\"2\"\r\n      class=\"registration-view__container\"\r\n    >\r\n      <p class=\"title-large\">\r\n        Регистрация\r\n      </p>\r\n\r\n      <div class=\"registration-view__input-container\">\r\n        <base-input\r\n          v-model=\"nicknameInput\"\r\n          :mark-as-invalid-input=\"isNicknameInputInvalid\"\r\n          class=\"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\"\r\n          :place-holder=\"'Придумайте никнейм'\"\r\n        />\r\n        <base-input\r\n          v-model=\"emailInput\"\r\n          class=\"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\"\r\n          :mark-as-invalid-input=\"isEmailInputInvalid\"\r\n          :place-holder=\"'Введите email'\"\r\n          type=\"email\"\r\n        />\r\n        <base-input\r\n          v-model=\"firstPasswordInput\"\r\n          class=\"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\"\r\n          :mark-as-invalid-input=\"isPasswordInputInvalid\"\r\n          :place-holder=\"'Введите пароль'\"\r\n          type=\"password\"\r\n        />\r\n        <base-input\r\n          v-model=\"secondPasswordInput\"\r\n          class=\"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\"\r\n          :mark-as-invalid-input=\"isPasswordInputInvalid\"\r\n          :place-holder=\"'Подтвердите пароль'\"\r\n          type=\"password\"\r\n        />\r\n      </div>\r\n\r\n      <base-button\r\n        class=\"m-radius-circle h__fill\"\r\n        :button-type=\"2\"\r\n        :variant=\"'filled'\"\r\n        @click=\"registrationButtonAction\"\r\n      >\r\n        Зарегистрировать\r\n      </base-button>\r\n\r\n      <div class=\"registration-view__links\">\r\n        <router-link to=\"/login\">\r\n          Войти\r\n        </router-link>\r\n        <router-link to=\"/restore\">\r\n          Вспомнить пароль\r\n        </router-link>\r\n      </div>\r\n    </BaseBackground>\r\n    <email-verification-modal\r\n      :is-visible=\"emailVerificationIsVisible\"\r\n      :current-email=\"emailInput\"\r\n      :user-token=\"authTempToken\"\r\n      @on:close=\"emailVerificationIsVisible = false;\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {inject, ref} from \"vue\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\nimport EmailVerificationModal from \"@/components/Modal/EmailVerificationModal.vue\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\nconst userApi = inject<UserApi>('user-api');\r\nconst eventStore = ClientEventStore();\r\nconst router = useRouter();\r\n\r\nconst isNicknameInputInvalid = ref<boolean>(false);\r\nconst nicknameInput = ref<string>(undefined);\r\n\r\nconst isEmailInputInvalid = ref<boolean>(false);\r\nconst emailInput = ref<string>(undefined);\r\n\r\nconst isPasswordInputInvalid = ref<boolean>(false);\r\nconst firstPasswordInput = ref<string>(null);\r\nconst secondPasswordInput = ref<string>(null);\r\n\r\nconst emailVerificationIsVisible = ref<boolean>(false);\r\nlet authTempToken = ref<string|null>(null);\r\n\r\nasync function registrationButtonAction() {\r\n  if (!StringExtensions.isNullOrEmpty(firstPasswordInput.value)) {\r\n    if (firstPasswordInput.value.length < 10) {\r\n      eventStore.push('Ошибка! Длина пароля должна быть НЕ меньше 10 символов.', EventTypes.Error);\r\n      isPasswordInputInvalid.value = true;\r\n    }\r\n    else if (firstPasswordInput.value != secondPasswordInput.value) {\r\n      eventStore.push('Ошибка! Введенные пароли не совпадают.', EventTypes.Error);\r\n      isPasswordInputInvalid.value = true;\r\n    } else {\r\n      isPasswordInputInvalid.value = false;\r\n    }\r\n  } else {\r\n    eventStore.push('Ошибка! Не заполнены обязательные поля.', EventTypes.Error);\r\n    isPasswordInputInvalid.value = true;\r\n  }\r\n\r\n  if (!StringExtensions.validateEmail(emailInput.value)) {\r\n    isEmailInputInvalid.value = true;\r\n    eventStore.push('Ошибка! Не верный формат почты.', EventTypes.Error);\r\n  } else {\r\n    isEmailInputInvalid.value = false;\r\n  }\r\n\r\n  if (StringExtensions.isNullOrEmpty(nicknameInput.value)) {\r\n    isNicknameInputInvalid.value = true;\r\n    eventStore.push('Ошибка! Не заполнены обязательные поля.', EventTypes.Error);\r\n  } else {\r\n    if (nicknameInput.value.length < 5 && nicknameInput.value.length > 15) {\r\n      isNicknameInputInvalid.value = true;\r\n      eventStore.push('Ошибка! Длина никнейма должна быть от 5 до 15 символов.', EventTypes.Error);\r\n    } else if (!StringExtensions.validateAlphanumeric(nicknameInput.value)) {\r\n      isNicknameInputInvalid.value = true;\r\n      eventStore.push('Ошибка! Никнейм должен содержать только английские буквы и цифры.', EventTypes.Error);\r\n    }\r\n    else {\r\n      isNicknameInputInvalid.value = false;\r\n    }\r\n  }\r\n\r\n  if (isNicknameInputInvalid.value || isEmailInputInvalid.value || isPasswordInputInvalid.value) {\r\n    return;\r\n  }\r\n\r\n  const regResponse = (await userApi.registration(\r\n    nicknameInput.value,\r\n    emailInput.value,\r\n    firstPasswordInput.value))\r\n      .onBusinessError(error => eventStore.push(error.Message, EventTypes.Error as typeof EventTypes))\r\n      .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes));\r\n\r\n  if (regResponse.error) {\r\n    return;\r\n  }\r\n\r\n  authTempToken.value = regResponse.data.Token;\r\n  (await userApi.sendMailVerifyCode(authTempToken.value))\r\n    .onBusinessError(error => eventStore.push(error.Message, EventTypes.Error as typeof EventTypes))\r\n    .onException(() => eventStore.push('Не удалось отправить код! Попробуйте еще раз!', EventTypes.Error as typeof EventTypes));\r\n\r\n  emailVerificationIsVisible.value = true;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.registration-view {\r\n  &__memorize {\r\n    display: flex;\r\n    width: 100%;\r\n  }\r\n\r\n  &__memorize-label {\r\n    margin-left: 4px;\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    text-align: left;\r\n    letter-spacing: 0.02em;\r\n    cursor: pointer;\r\n    -webkit-user-select: none;\r\n  }\r\n\r\n  &__line-breaker {\r\n    width: 100%;\r\n    height: 1px;\r\n    background: #969BAB;\r\n  }\r\n\r\n  &__logo {\r\n    height: 30px;\r\n  }\r\n\r\n  &__links {\r\n    display: flex;\r\n    flex-direction: row;\r\n    font-size: 12px;\r\n    gap: 16px;\r\n\r\n    & a {\r\n      color: var(--font-gray);\r\n      text-decoration: underline;\r\n\r\n      &:hover {\r\n        cursor: pointer;\r\n        color: #6686B3;\r\n      }\r\n    }\r\n  }\r\n\r\n  &__input {\r\n    border: solid 1px #969BAB;\r\n    border-radius: 6px;\r\n    padding: 10px;\r\n    height: 40px;\r\n    width: 100%;\r\n\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n    line-height: 15px;\r\n    letter-spacing: 0.04em;\r\n    color: #474A57;\r\n\r\n    &:focus-visible {\r\n      outline: var(--primary) auto 1px;;\r\n    }\r\n  }\r\n\r\n  &__main {\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    margin-top: 26px;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  &__container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 25px;\r\n    height: fit-content;\r\n    width: 420px;\r\n    padding: 40px;\r\n  }\r\n\r\n  &__input-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    gap: 10px;\r\n  }\r\n}\r\n\r\n</style>","import script from \"./RegistrationView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./RegistrationView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./RegistrationView.vue?vue&type=style&index=0&id=c90e91be&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c90e91be\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-29c64d45\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"path\", {\n  style: {\"fill\":\"var(--active-fill)\",\"stroke\":\"var(--active-stroke)\"},\n  d: \"M4.63685 13.4289L11.4583 19.5166C11.6553 19.6924 11.7538 19.7803 11.8658 19.8115C11.9536 19.836 12.0464 19.836 12.1342 19.8115C12.2462 19.7803 12.3447 19.6924 12.5417 19.5166L19.3632 13.4289C21.397 11.6139 21.6409 8.51923 19.9166 6.40794L19.7466 6.19973C17.7516 3.75702 13.902 4.18079 12.4862 6.99897C12.2853 7.39874 11.7147 7.39873 11.5138 6.99897C10.098 4.18079 6.24835 3.75702 4.25339 6.19973L4.08335 6.40794C2.35906 8.51924 2.60303 11.6139 4.63685 13.4289Z\",\n  \"stroke-width\": \"2\"\n}, null, -1))\nconst _hoisted_2 = [\n  _hoisted_1\n]\n\nimport {ref, watch} from \"vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'HeartSVG',\n  props: {\r\n  isSelected: {type: Boolean, required: true}\r\n},\n  setup(__props) {\n\r\nconst props = __props\r\n\r\nconst localSelected = ref(props.isSelected);\r\n\r\nwatch(() => props.isSelected, (newValue) => {\r\n  console.log('it changed!')\r\n  localSelected.value = newValue;\r\n})\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    fill: \"none\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    class: _normalizeClass(localSelected.value ? 'selected' : 'not-selected')\n  }, _hoisted_2, 2))\n}\n}\n\n})","<template>\r\n  <svg\r\n    fill=\"none\"\r\n    height=\"24\"\r\n    viewBox=\"0 0 24 24\"\r\n    width=\"24\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    :class=\"localSelected ? 'selected' : 'not-selected'\"\r\n  >\r\n    <path\r\n      style=\"fill:var(--active-fill); stroke:var(--active-stroke);\"\r\n      d=\"M4.63685 13.4289L11.4583 19.5166C11.6553 19.6924 11.7538 19.7803 11.8658 19.8115C11.9536 19.836 12.0464 19.836 12.1342 19.8115C12.2462 19.7803 12.3447 19.6924 12.5417 19.5166L19.3632 13.4289C21.397 11.6139 21.6409 8.51923 19.9166 6.40794L19.7466 6.19973C17.7516 3.75702 13.902 4.18079 12.4862 6.99897C12.2853 7.39874 11.7147 7.39873 11.5138 6.99897C10.098 4.18079 6.24835 3.75702 4.25339 6.19973L4.08335 6.40794C2.35906 8.51924 2.60303 11.6139 4.63685 13.4289Z\"\r\n      stroke-width=\"2\"\r\n    />\r\n  </svg>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {ref, watch} from \"vue\";\r\n\r\nconst props = defineProps({\r\n  isSelected: {type: Boolean, required: true}\r\n})\r\n\r\nconst localSelected = ref(props.isSelected);\r\n\r\nwatch(() => props.isSelected, (newValue) => {\r\n  console.log('it changed!')\r\n  localSelected.value = newValue;\r\n})\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.not-selected {\r\n  path {\r\n    --active-stroke: #577399;\r\n    --active-fill: #fff;\r\n    transition: fill 0.25s, stroke 0.25s;\r\n\r\n    &:hover {\r\n      --active-stroke: var(--secondary);\r\n      --active-fill: white;\r\n    }\r\n  }\r\n}\r\n\r\n.selected {\r\n  path {\r\n    transition: fill 0.25s, stroke 0.25s;\r\n    --active-stroke: var(--secondary);\r\n    --active-fill: var(--secondary);\r\n  }\r\n}\r\n</style>","import script from \"./HeartSVG.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./HeartSVG.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./HeartSVG.vue?vue&type=style&index=0&id=29c64d45&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-29c64d45\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createVNode as _createVNode, unref as _unref, vShow as _vShow, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, withCtx as _withCtx, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1876a32e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"content-details__title-main\" }\nconst _hoisted_2 = { class: \"content-details__title-primary\" }\nconst _hoisted_3 = { class: \"headline-medium content-details__title\" }\nconst _hoisted_4 = { class: \"title-small content-details__title\" }\nconst _hoisted_5 = { class: \"row row-dynamic gap-8\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"content-details__splitter\" }, null, -1))\nconst _hoisted_7 = { class: \"content-details__description\" }\nconst _hoisted_8 = { class: \"row row-dynamic gap-8\" }\n\nimport moment from 'moment'\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport HeartSVG from \"@/components/Icons/HeartSVG.vue\";\r\nimport {inject, onMounted, PropType, ref, watch} from 'vue';\r\nimport {V1GetFullContentResponse} from \"@/api/Responses/V1GetFullContentResponse\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport {mapContentStatusToRuStr} from \"@/api/Enums/ContentStatus\";\r\nimport {mapContentTypeToRuStr} from \"@/api/Enums/ContentType\";\r\nimport {FavoriteApi} from \"@/api/FavoriteApi\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport {FavoriteStatus} from \"@/models/FavoriteStatuses\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TheaterDetails',\n  props: {\r\n  details: {type: Object as PropType<V1GetFullContentResponse>, required: true},\r\n  isFavorite: {type: Boolean, required: true, default: false}\r\n},\n  emits: [\"on:clickHeart\"],\n  setup(__props, { emit: __emit }) {\n\r\nconst user = userStore();\r\nconst favoritesApi = inject<FavoriteApi>('favorite-api');\r\n\r\nconst props = __props;\r\n\r\nconst emits = __emit\r\n\r\nlet isInFavorite = ref<boolean>(props.isFavorite);\r\nwatch(() => props.isFavorite, (newValue) => isInFavorite.value = newValue);\r\n\r\nconst otherTitles = (details: V1GetFullContentResponse) : string => {\r\n  let otherTitleStr = \"\";\r\n  if (details.Content.EngTitle) {\r\n    otherTitleStr += details.Content.EngTitle;\r\n  }\r\n  if (details.Content.OriginTitle) {\r\n    if (otherTitleStr === \"\") {\r\n      otherTitleStr += details.Content.OriginTitle;\r\n    } else {\r\n      otherTitleStr += \" / \" + details.Content.OriginTitle;\r\n    }\r\n  }\r\n\r\n  return otherTitleStr;\r\n}\r\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(BaseBackground, {\n    type: 2,\n    class: \"material content-details__details\"\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createElementVNode(\"h1\", _hoisted_3, _toDisplayString(__props.details.Content.Title), 1),\n          _createVNode(HeartSVG, {\n            \"is-selected\": __props.isFavorite,\n            class: \"content-details__icon-style\",\n            onClick: _cache[0] || (_cache[0] = ($event: any) => (emits('on:clickHeart')))\n          }, null, 8, [\"is-selected\"])\n        ]),\n        _createElementVNode(\"h2\", _hoisted_4, _toDisplayString(otherTitles(__props.details)), 1),\n        _createElementVNode(\"div\", _hoisted_5, [\n          _withDirectives(_createVNode(FilterChips, {\n            class: \"m3-bg-2\",\n            style: {\"color\":\"var(--primary40)\"},\n            text: (_unref(mapContentTypeToRuStr)(__props.details.Content.Type)).toString()\n          }, null, 8, [\"text\"]), [\n            [_vShow, __props.details.Content.Type]\n          ]),\n          _withDirectives(_createVNode(FilterChips, {\n            class: \"m3-bg-2\",\n            style: {\"color\":\"var(--primary40)\"},\n            text: (_unref(mapContentStatusToRuStr)(__props.details.Content.Status)).toString()\n          }, null, 8, [\"text\"]), [\n            [_vShow, __props.details.Content.Status]\n          ]),\n          _withDirectives(_createVNode(FilterChips, {\n            class: \"m3-bg-2\",\n            style: {\"color\":\"var(--primary40)\"},\n            text: _unref(moment)(new Date(__props.details.Content.ReleasedAt)).format('YYYY')\n          }, null, 8, [\"text\"]), [\n            [_vShow, __props.details.Content.ReleasedAt]\n          ]),\n          _withDirectives(_createVNode(FilterChips, {\n            class: \"m3-bg-2\",\n            style: {\"color\":\"var(--primary40)\"},\n            text: __props.details.Content.Country.toString()\n          }, null, 8, [\"text\"]), [\n            [_vShow, __props.details.Content.Country !== undefined]\n          ]),\n          _withDirectives(_createVNode(FilterChips, {\n            class: \"m3-bg-2\",\n            style: {\"color\":\"var(--primary40)\"},\n            text: __props.details.Content.MinAgeLimit.toString()+'+'\n          }, null, 8, [\"text\"]), [\n            [_vShow, __props.details.Content.MinAgeLimit > 0]\n          ])\n        ])\n      ]),\n      _hoisted_6,\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"p\", _hoisted_7, _toDisplayString(__props.details.Content.Description), 1)\n      ]),\n      _withDirectives(_createElementVNode(\"div\", _hoisted_8, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.details.Genres, (genre) => {\n          return (_openBlock(), _createBlock(FilterChips, {\n            key: genre,\n            class: \"m3-bg-2\",\n            style: {\"color\":\"var(--primary40)\"},\n            text: genre.Name\n          }, null, 8, [\"text\"]))\n        }), 128))\n      ], 512), [\n        [_vShow, __props.details.Genres?.length > 0]\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n  <BaseBackground :type=\"2\" class=\"material content-details__details\">\r\n    <div class=\"content-details__title-main\">\r\n      <div class=\"content-details__title-primary\">\r\n        <h1 class=\"headline-medium content-details__title\">\r\n          {{ details.Content.Title }}\r\n        </h1>\r\n        <HeartSVG\r\n          :is-selected=\"isFavorite\"\r\n          class=\"content-details__icon-style\"\r\n          @click=\"emits('on:clickHeart')\"\r\n        />\r\n      </div>\r\n\r\n      <h2 class=\"title-small content-details__title\">\r\n        {{ otherTitles(details) }}\r\n      </h2>\r\n\r\n      <div class=\"row row-dynamic gap-8\">\r\n        <filter-chips\r\n          v-show=\"details.Content.Type\"\r\n          class=\"m3-bg-2\"\r\n          style=\"color: var(--primary40)\"\r\n          :text=\"(mapContentTypeToRuStr(details.Content.Type)).toString()\"\r\n        />\r\n        <filter-chips\r\n          v-show=\"details.Content.Status\"\r\n          class=\"m3-bg-2\"\r\n          style=\"color: var(--primary40)\"\r\n          :text=\"(mapContentStatusToRuStr(details.Content.Status)).toString()\"\r\n        />\r\n        <filter-chips\r\n          v-show=\"details.Content.ReleasedAt\"\r\n          class=\"m3-bg-2\"\r\n          style=\"color: var(--primary40)\"\r\n          :text=\"moment(new Date(details.Content.ReleasedAt)).format('YYYY')\"\r\n        />\r\n        <filter-chips\r\n          v-show=\"details.Content.Country !== undefined\"\r\n          class=\"m3-bg-2\"\r\n          style=\"color: var(--primary40)\"\r\n          :text=\"details.Content.Country.toString()\"\r\n        />\r\n        <filter-chips\r\n          v-show=\"details.Content.MinAgeLimit > 0\"\r\n          class=\"m3-bg-2\"\r\n          style=\"color: var(--primary40)\"\r\n          :text=\"details.Content.MinAgeLimit.toString()+'+'\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"content-details__splitter\" />\r\n    <div>\r\n      <p class=\"content-details__description\">\r\n        {{ details.Content.Description }}\r\n      </p>\r\n    </div>\r\n    <div\r\n      v-show=\"details.Genres?.length > 0\"\r\n      class=\"row row-dynamic gap-8\"\r\n    >\r\n      <filter-chips\r\n        v-for=\"genre in details.Genres\"\r\n        :key=\"genre\"\r\n        class=\"m3-bg-2\"\r\n        style=\"color: var(--primary40)\"\r\n        :text=\"genre.Name\"\r\n      />\r\n    </div>\r\n  </BaseBackground>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport moment from 'moment'\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport HeartSVG from \"@/components/Icons/HeartSVG.vue\";\r\nimport {defineEmits, inject, onMounted, PropType, ref, watch} from 'vue';\r\nimport {V1GetFullContentResponse} from \"@/api/Responses/V1GetFullContentResponse\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport {mapContentStatusToRuStr} from \"@/api/Enums/ContentStatus\";\r\nimport {mapContentTypeToRuStr} from \"@/api/Enums/ContentType\";\r\nimport {FavoriteApi} from \"@/api/FavoriteApi\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport {FavoriteStatus} from \"@/models/FavoriteStatuses\";\r\n\r\nconst user = userStore();\r\nconst favoritesApi = inject<FavoriteApi>('favorite-api');\r\n\r\nconst props = defineProps({\r\n  details: {type: Object as PropType<V1GetFullContentResponse>, required: true},\r\n  isFavorite: {type: Boolean, required: true, default: false}\r\n});\r\n\r\nconst emits = defineEmits<{\r\n  (emitName: 'on:clickHeart') : void\r\n}>()\r\n\r\nlet isInFavorite = ref<boolean>(props.isFavorite);\r\nwatch(() => props.isFavorite, (newValue) => isInFavorite.value = newValue);\r\n\r\nconst otherTitles = (details: V1GetFullContentResponse) : string => {\r\n  let otherTitleStr = \"\";\r\n  if (details.Content.EngTitle) {\r\n    otherTitleStr += details.Content.EngTitle;\r\n  }\r\n  if (details.Content.OriginTitle) {\r\n    if (otherTitleStr === \"\") {\r\n      otherTitleStr += details.Content.OriginTitle;\r\n    } else {\r\n      otherTitleStr += \" / \" + details.Content.OriginTitle;\r\n    }\r\n  }\r\n\r\n  return otherTitleStr;\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.content-details {\r\n  &__description {\r\n    white-space: pre-wrap;\r\n    word-wrap: break-word;\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n    text-align: justify;\r\n    letter-spacing: 0.04em;\r\n    margin: 0;\r\n  }\r\n\r\n  &__title {\r\n    text-align: left;\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n\r\n  &__title-primary {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 8px;\r\n    align-items: center;\r\n  }\r\n\r\n  &__main {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 20px;\r\n    width: 100%;\r\n    padding: 20px 0;\r\n  }\r\n\r\n  &__details {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 16px;\r\n    width: 100%;\r\n    padding: 20px;\r\n  }\r\n\r\n  &__title-main {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 4px;\r\n    width: 100%;\r\n  }\r\n\r\n  &__icon-style {\r\n    height: 24px;\r\n    width: 24px;\r\n\r\n    min-height: 24px;\r\n    min-width: 24px;\r\n\r\n    color: var(--primary);\r\n    &:hover {\r\n      cursor: pointer;\r\n      color: var(--secondary);\r\n    }\r\n  }\r\n\r\n  &__splitter {\r\n    height: 2px;\r\n    width: 100%;\r\n    border: 1px solid #EEEFF4;\r\n  }\r\n\r\n  &__tags-main {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  &__tags-column {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    gap: 10px;\r\n  }\r\n\r\n  &__tag {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 10px;\r\n  }\r\n\r\n\r\n}\r\n</style>","import script from \"./TheaterDetails.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TheaterDetails.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TheaterDetails.vue?vue&type=style&index=0&id=1876a32e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1876a32e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0038e469\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = [\"src\"]\n\nimport {inject} from 'vue';\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport {ImageService} from \"@/api/ImageService\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TheaterAvatar',\n  props: {\r\n  imageId: {type: Number, required: true},\r\n  contentId: {type: Number, required: true}\r\n},\n  setup(__props) {\n\r\nconst imageService: ImageService = inject<ImageService>(\"image-service\");\r\n\r\nconst props = __props\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(BaseBackground, {\n    class: \"image-column__main m-radius-2\",\n    type: 2\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", null, [\n        _createElementVNode(\"img\", {\n          class: \"image-column__image\",\n          src: _unref(imageService).getImageLink(__props.imageId, __props.contentId),\n          alt: \"Изображение\",\n          onError: _cache[0] || (_cache[0] = ($event: any) => ($event.target.src = require('@/assets/images/DefaultImage.png')))\n        }, null, 40, _hoisted_1)\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n  <BaseBackground\r\n    class=\"image-column__main m-radius-2\"\r\n    :type=\"2\"\r\n  >\r\n    <div>\r\n      <img\r\n        class=\"image-column__image\"\r\n        :src=\"imageService.getImageLink(imageId, contentId)\"\r\n        alt=\"Изображение\"\r\n        @error=\"$event.target.src = require('@/assets/images/DefaultImage.png')\"\r\n      >\r\n    </div>\r\n  </BaseBackground>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {defineProps, inject} from 'vue';\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport {ImageService} from \"@/api/ImageService\";\r\n\r\nconst imageService: ImageService = inject<ImageService>(\"image-service\");\r\n\r\nconst props = defineProps({\r\n  imageId: {type: Number, required: true},\r\n  contentId: {type: Number, required: true}\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.image-column {\r\n  &__main {\r\n    overflow: hidden;\r\n  }\r\n\r\n  &__image {\r\n    display: flex;\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n\r\n  &__start-watching {\r\n    color: white;\r\n  }\r\n}\r\n</style>","import script from \"./TheaterAvatar.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TheaterAvatar.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TheaterAvatar.vue?vue&type=style&index=0&id=0038e469&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0038e469\"]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"20\"\r\n    height=\"20\"\r\n    viewBox=\"0 0 24 24\"\r\n  >\r\n    <path\r\n      fill=\"currentColor\"\r\n      d=\"m12 17.27l4.15 2.51c.76.46 1.69-.22 1.49-1.08l-1.1-4.72l3.67-3.18c.67-.58.31-1.68-.57-1.75l-4.83-.41l-1.89-4.46c-.34-.81-1.5-.81-1.84 0L9.19 8.63l-4.83.41c-.88.07-1.24 1.17-.57 1.75l3.67 3.18l-1.1 4.72c-.2.86.73 1.54 1.49 1.08z\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./Star.vue?vue&type=template&id=3d1b4f75\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {V1GetByEpisodeResponseEpisode, V1GetByEpisodeResponseTranslator} from \"@/api/Responses/V1GetByEpisodeResponse\";\r\n\r\nexport const ALL_FILTER = \"Все\";\r\n\r\nexport type Translation = {\r\n    EpisodeId: number,\r\n    Number: number,\r\n    Title: string,\r\n    Views: number,\r\n    Stars: number,\r\n    HasTranslations: boolean\r\n}\r\n\r\nexport enum Order {\r\n    ByNumber = 'По возрастанию',\r\n    ByNumberDescending = 'По убыванию',\r\n    ByViews = 'По просмотрам',\r\n    ByStars = 'По оценке'\r\n}\r\n\r\nexport enum EpisodeOrderType {\r\n    ByNumber = 'ByNumber',\r\n    ByNumberDescending = 'ByNumberDescending',\r\n    ByStars = 'ByStars',\r\n    ByViews = 'ByViews'\r\n}\r\n\r\nexport function mapToEpisodeOrderType(value: Order) {\r\n    if (value === Order.ByNumber) {\r\n        return EpisodeOrderType.ByNumber;\r\n    } else if (value === Order.ByNumberDescending) {\r\n        return EpisodeOrderType.ByNumberDescending;\r\n    } else if (value === Order.ByViews) {\r\n        return EpisodeOrderType.ByViews;\r\n    } else if (value === Order.ByStars) {\r\n        return EpisodeOrderType.ByStars;\r\n    }\r\n    return undefined;\r\n}\r\n\r\nexport type Translator = {\r\n    TranslatorId: number,\r\n    Name: string,\r\n}\r\n\r\nexport function mapToEpisodes(data: V1GetByEpisodeResponseEpisode[]) : Translation[] {\r\n    return data\r\n        .map(episode =>({\r\n            EpisodeId: episode.Id,\r\n            Number: episode.Number,\r\n            Title: episode.Title,\r\n            Views: episode.Views,\r\n            Stars: episode.Stars,\r\n            HasTranslations: episode.Translations ? (episode.Translations.length > 0) : false\r\n        }));\r\n}\r\n\r\nexport function mapToTranslators(\r\n    data: V1GetByEpisodeResponseTranslator[],\r\n    unknownTranslatorName: string = \"Неизвестный переводчик\")\r\n    : Translator[] {\r\n    return data.map(translator => ({\r\n       TranslatorId: translator.Id,\r\n       Name: translator.Name === null ? unknownTranslatorName : translator.Name\r\n    }));\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createVNode as _createVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vShow as _vShow, withDirectives as _withDirectives, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-49f03947\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"main__header-box col-gap8 row-gap4 dynamic main__margins\" }\nconst _hoisted_2 = { class: \"main__title-box\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"title-large\" }, \" Эпизоды \", -1))\nconst _hoisted_4 = { class: \"title-large\" }\nconst _hoisted_5 = { class: \"row col-gap16 row-gap8 dynamic\" }\nconst _hoisted_6 = { class: \"main__episodes-box\" }\nconst _hoisted_7 = { class: \"box__inline main__episode-box\" }\nconst _hoisted_8 = { class: \"body-large box__inline main__episode-attribute\" }\nconst _hoisted_9 = { class: \"box__inline main__episode-attribute\" }\nconst _hoisted_10 = {\n  key: 0,\n  class: \"body-large box__inline main__episode-tag\"\n}\nconst _hoisted_11 = {\n  key: 1,\n  class: \"box__inline main__episode-tag\"\n}\n\nimport {computed, PropType, ref, watch} from 'vue';\r\nimport Star from \"@/components/Icons/MaterialIcons/Star.vue\";\r\nimport Eye from \"@/components/Icons/MaterialIcons/Eye.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport {\r\n  ALL_FILTER,\r\n  Order,\r\n  Translation,\r\n  Translator\r\n} from \"@/components/UseReadyComponents/EpisodesList/TranslationsListViewModel\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TranslationsListComponentV2',\n  props: {\r\n  contentId: {type: Number, required: true},\r\n  episodes: {type: Object as PropType<Translation[]>, required: true},\r\n  episodesTotalCount: { type: Number, required: true, default: 0},\r\n  translators: {type: Object as PropType<Translator[]>, required: true},\r\n  selectedTranslatorId: {type: Number, required: false, default: null},\r\n  sortBy: {type: String as PropType<typeof Order>, required: false, default: Order.ByNumber},\r\n  limit: {type: Number, required: false, default: 10},\r\n  offset: { type: Number, required: false, default: 0},\r\n},\n  emits: [\"sort-by:update\", \"translator:update\"],\n  setup(__props, { emit: __emit }) {\n\r\nconst emits = __emit;\r\n\r\nconst props = __props;\r\n\r\nconst episodesRef = ref<Translation[]>(props.episodes);\r\nconst translatorFilter = ref<string>();\r\nconst orderByFilter = ref<typeof Order>();\r\n\r\nwatch(() => props.episodes, (newValue: Translation[]) => {\r\n  episodesRef.value = newValue;\r\n})\r\n\r\nconst selectableTranslators = computed((): string[] => {\r\n  let result = [ALL_FILTER];\r\n  result = [...result, ...props.translators.map(x => x.Name).sort()];\r\n  return result;\r\n});\r\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"material m-radius-2 m3-bg-1 main__box\", {\r\n      'material m3-bg-1 main__box-with-paging': __props.episodes.length < __props.offset\r\n    }])\n  }, [\n    _createElementVNode(\"div\", _hoisted_1, [\n      _createElementVNode(\"div\", _hoisted_2, [\n        _hoisted_3,\n        _createElementVNode(\"h4\", _hoisted_4, _toDisplayString(__props.offset) + \" - \" + _toDisplayString(__props.offset + __props.episodes.length) + \" / \" + _toDisplayString(__props.episodes.length), 1)\n      ]),\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createVNode(BaseSelector, {\n          modelValue: translatorFilter.value,\n          \"onUpdate:modelValue\": [\n            _cache[0] || (_cache[0] = ($event: any) => ((translatorFilter).value = $event)),\n            _cache[1] || (_cache[1] = (value) => { emits('translator:update', value) })\n          ],\n          class: \"main__filter-button m-radius-1 m3-bg-3\",\n          title: 'Переводчик',\n          \"selectable-values\": selectableTranslators.value\n        }, null, 8, [\"modelValue\", \"selectable-values\"]),\n        _createVNode(BaseSelector, {\n          modelValue: orderByFilter.value,\n          \"onUpdate:modelValue\": [\n            _cache[2] || (_cache[2] = ($event: any) => ((orderByFilter).value = $event)),\n            _cache[3] || (_cache[3] = (value) => { emits('sort-by:update', value) })\n          ],\n          class: \"main__filter-button m-radius-1 m3-bg-3\",\n          title: 'Сортировка',\n          \"selectable-values\": [_unref(Order).ByNumber, _unref(Order).ByNumberDescending, _unref(Order).ByStars, _unref(Order).ByViews]\n        }, null, 8, [\"modelValue\", \"selectable-values\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(episodesRef.value, (episodeTranslation) => {\n        return (_openBlock(), _createBlock(_component_router_link, {\n          key: episodeTranslation,\n          to: { name: 'episode', params: { content: __props.contentId, episode: episodeTranslation.EpisodeId }}\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_7, [\n              _createElementVNode(\"div\", _hoisted_8, _toDisplayString(episodeTranslation.Number) + \" cерия\" + _toDisplayString(episodeTranslation.Title ? \": \"+episodeTranslation.Title : \"\"), 1),\n              _createElementVNode(\"div\", _hoisted_9, [\n                _withDirectives(_createVNode(FilterChips, {\n                  class: \"m-border\",\n                  text: 'Нет перевода'\n                }, null, 512), [\n                  [_vShow, !episodeTranslation.HasTranslations]\n                ]),\n                (episodeTranslation.Stars > 0)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [\n                      _createVNode(Star),\n                      _createTextVNode(\" \" + _toDisplayString(episodeTranslation.Stars), 1)\n                    ]))\n                  : _createCommentVNode(\"\", true),\n                (episodeTranslation.Views > 0)\n                  ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n                      _createVNode(Eye),\n                      _createTextVNode(\" \" + _toDisplayString(episodeTranslation.Views), 1)\n                    ]))\n                  : _createCommentVNode(\"\", true)\n              ])\n            ])\n          ]),\n          _: 2\n        }, 1032, [\"to\"]))\n      }), 128))\n    ])\n  ], 2)), [\n    [_vShow, __props.episodes.length > 0]\n  ])\n}\n}\n\n})","<template>\r\n  <div\r\n    v-show=\"episodes.length > 0\"\r\n    class=\"material m-radius-2 m3-bg-1 main__box\"\r\n    :class=\"{\r\n      'material m3-bg-1 main__box-with-paging': episodes.length < offset\r\n    }\"\r\n  >\r\n    <div class=\"main__header-box col-gap8 row-gap4 dynamic main__margins\">\r\n      <div class=\"main__title-box\">\r\n        <h3 class=\"title-large\">\r\n          Эпизоды\r\n        </h3>\r\n        <h4 class=\"title-large\">\r\n          {{ offset }} - {{ offset + episodes.length }} / {{ episodes.length }}\r\n        </h4>\r\n      </div>\r\n      <div class=\"row col-gap16 row-gap8 dynamic\">\r\n        <base-selector\r\n          v-model=\"translatorFilter\"\r\n          class=\"main__filter-button m-radius-1 m3-bg-3\"\r\n          :title=\"'Переводчик'\"\r\n          :selectable-values=\"selectableTranslators\"\r\n          @update:modelValue=\"(value) => { emits('translator:update', value) }\"\r\n        />\r\n        <base-selector\r\n          v-model=\"orderByFilter\"\r\n          class=\"main__filter-button m-radius-1 m3-bg-3\"\r\n          :title=\"'Сортировка'\"\r\n          :selectable-values=\"[Order.ByNumber, Order.ByNumberDescending, Order.ByStars, Order.ByViews]\"\r\n          @update:modelValue=\"(value) => { emits('sort-by:update', value) }\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"main__episodes-box\">\r\n      <template\r\n        v-for=\"episodeTranslation in episodesRef\"\r\n        :key=\"episodeTranslation\"\r\n      >\r\n        <router-link :to=\"{ name: 'episode', params: { content: contentId, episode: episodeTranslation.EpisodeId }}\">\r\n          <div class=\"box__inline main__episode-box\">\r\n            <div class=\"body-large box__inline main__episode-attribute\">\r\n              {{ episodeTranslation.Number }} cерия{{ episodeTranslation.Title ? \": \"+episodeTranslation.Title : \"\" }}\r\n            </div>\r\n            <div class=\"box__inline main__episode-attribute\">\r\n              <filter-chips\r\n                v-show=\"!episodeTranslation.HasTranslations\"\r\n                class=\"m-border\"\r\n                :text=\"'Нет перевода'\"\r\n              />\r\n              <div v-if=\"episodeTranslation.Stars > 0\" class=\"body-large box__inline main__episode-tag\">\r\n                <Star />\r\n                {{ episodeTranslation.Stars }}\r\n              </div>\r\n              <div v-if=\"episodeTranslation.Views > 0\" class=\"box__inline main__episode-tag\">\r\n                <Eye />\r\n                {{ episodeTranslation.Views }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </router-link>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport {computed, PropType, ref, watch} from 'vue';\r\nimport Star from \"@/components/Icons/MaterialIcons/Star.vue\";\r\nimport Eye from \"@/components/Icons/MaterialIcons/Eye.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport {\r\n  ALL_FILTER,\r\n  Order,\r\n  Translation,\r\n  Translator\r\n} from \"@/components/UseReadyComponents/EpisodesList/TranslationsListViewModel\";\r\n\r\nconst emits = defineEmits<{\r\n  (name: 'sort-by:update', value: typeof Order) : void,\r\n  (name: 'translator:update', value: string) : void\r\n}>();\r\n\r\nconst props = defineProps({\r\n  contentId: {type: Number, required: true},\r\n  episodes: {type: Object as PropType<Translation[]>, required: true},\r\n  episodesTotalCount: { type: Number, required: true, default: 0},\r\n  translators: {type: Object as PropType<Translator[]>, required: true},\r\n  selectedTranslatorId: {type: Number, required: false, default: null},\r\n  sortBy: {type: String as PropType<typeof Order>, required: false, default: Order.ByNumber},\r\n  limit: {type: Number, required: false, default: 10},\r\n  offset: { type: Number, required: false, default: 0},\r\n});\r\n\r\nconst episodesRef = ref<Translation[]>(props.episodes);\r\nconst translatorFilter = ref<string>();\r\nconst orderByFilter = ref<typeof Order>();\r\n\r\nwatch(() => props.episodes, (newValue: Translation[]) => {\r\n  episodesRef.value = newValue;\r\n})\r\n\r\nconst selectableTranslators = computed((): string[] => {\r\n  let result = [ALL_FILTER];\r\n  result = [...result, ...props.translators.map(x => x.Name).sort()];\r\n  return result;\r\n});\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main {\r\n  &__episodes-box {\r\n    border-top: 1px solid #EEEFF4;\r\n    padding: 12px 0;\r\n  }\r\n\r\n  &__episode-attribute {\r\n    display: grid;\r\n    width: 100%;\r\n    height: fit-content;\r\n    align-content: center;\r\n    justify-content: start;\r\n\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    gap: 16px;\r\n\r\n    color: var(--primary40);\r\n  }\r\n\r\n  &__episode-tag {\r\n    display: grid;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 8px;\r\n\r\n    background: rgba(82, 90, 146, 0.08);\r\n\r\n    border-radius: 100px;\r\n    padding: 6px 12px;\r\n  }\r\n\r\n  &__box {\r\n    display: grid;\r\n    height: fit-content;\r\n    grid-template-rows: max-content 1fr;\r\n    align-items: center;\r\n    padding-top: 8px;\r\n    padding-bottom: 8px;\r\n\r\n    &-with-paging {\r\n      grid-template-rows: 64px 1fr 64px;\r\n    }\r\n  }\r\n\r\n  &__filter-button {\r\n    height: 32px;\r\n    width: fit-content;\r\n\r\n    &:hover {\r\n      background: var(--surface-container-highest90);\r\n    }\r\n  }\r\n\r\n  &__episode-box {\r\n    display: grid;\r\n    grid-template-columns: 1fr auto;\r\n    align-items: center;\r\n    width: 100%;\r\n    gap: 24px;\r\n    padding: 8px 26px;\r\n\r\n    &:hover {\r\n      color: var(--on-secondary-container-light);\r\n      background: color-mix(in srgb, var(--primary40) 8%, transparent);;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n\r\n  &__header-box {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    gap: 8px;\r\n\r\n    padding-top: 8px;\r\n    padding-bottom: 16px;\r\n  }\r\n\r\n  &__title-box {\r\n    display: grid;\r\n    grid-auto-flow: column;\r\n    grid-auto-columns: max-content;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 24px;\r\n  }\r\n\r\n  &__title {\r\n  }\r\n\r\n  &__margins {\r\n    margin: 0 26px;\r\n  }\r\n}\r\n</style>","import script from \"./TranslationsListComponentV2.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TranslationsListComponentV2.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TranslationsListComponentV2.vue?vue&type=style&index=0&id=49f03947&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-49f03947\"]])\n\nexport default __exports__","import {EpisodeOrderType} from \"@/components/UseReadyComponents/EpisodesList/TranslationsListViewModel\";\r\n\r\nexport class V1GetByEpisodeRequest {\r\n    constructor(\r\n        public ContentId: number,\r\n        public EpisodeId: number | null = null,\r\n        public TranslatorId: number | null = null,\r\n        public OrderBy: typeof EpisodeOrderType | null = null\r\n    ) {\r\n    }\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vShow as _vShow, withDirectives as _withDirectives, normalizeClass as _normalizeClass, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-284814e5\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"material theater__main\" }\nconst _hoisted_2 = { class: \"column gap-16\" }\nconst _hoisted_3 = { class: \"label-large theater__tag-name\" }\nconst _hoisted_4 = { class: \"theater__tag-value\" }\nconst _hoisted_5 = { class: \"theater__body\" }\n\nimport {useRoute} from 'vue-router'\r\nimport TheaterDetails from \"@/components/Theater/TheaterDetails.vue\";\r\nimport {inject, onMounted, ref, watch} from \"vue\";\r\nimport TheaterAvatar from \"@/components/Theater/TheaterAvatar.vue\";\r\nimport {V1GetFullContentEpisode, V1GetFullContentResponse} from \"@/api/Responses/V1GetFullContentResponse\";\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport moment from \"moment/moment\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport TranslationsListComponentV2 from \"@/components/UseReadyComponents/EpisodesList/TranslationsListComponentV2.vue\";\r\nimport {\r\n  ALL_FILTER,\r\n  mapToEpisodeOrderType, mapToEpisodes, mapToTranslators,\r\n  Order, Translation\r\n} from \"@/components/UseReadyComponents/EpisodesList/TranslationsListViewModel\";\r\n\r\nimport {\r\n  V1GetByEpisodeResponse\r\n} from \"@/api/Responses/V1GetByEpisodeResponse\";\r\nimport {V1GetByEpisodeRequest} from \"@/api/Requests/V1GetByEpisodeRequest\";\r\nimport {TranslationService} from \"@/api/TranslationService\";\r\nimport {Favorite, FavoriteApi} from \"@/api/FavoriteApi\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\nimport {FavoriteStatus, FavoriteStatuses, getFavoritesStatusKeyByValue} from \"@/models/FavoriteStatuses\";\r\nimport {userStore} from \"@/store/UserStore\";\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TheaterView',\n  setup(__props) {\n\r\nconst months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n\r\nconst user = userStore();\r\nconst route = useRoute();\r\nconst contentId = ref(+route.params.id);\r\nconst contentService: ContentService = inject(\"content-service\");\r\nconst translationService: TranslationService = inject('translation-service');\r\nconst favoritesApi: FavoriteApi = inject('favorite-api');\r\n\r\nlet startWatchEpisodeId = ref<number>();\r\nconst isDataReady = ref(false);\r\nconst details = ref<V1GetFullContentResponse>(null);\r\nconst tags = ref<Map<string, string | number>>();\r\n\r\nlet episodeTranslations = ref<V1GetByEpisodeResponse>(null);\r\nlet episodes: Translation[] = [];\r\nconst episodesListParams = {\r\n  translator: ref<string>(),\r\n  sortBy: ref<string>(Order.ByNumber)\r\n};\r\nconst isInFavorites = ref<boolean>(false);\r\nconst userFavoriteStatus = ref<FavoriteStatuses | null>(\"Добавить в избранное\");\r\n\r\nonMounted(async() => {\r\n  isDataReady.value = false;\r\n  details.value = await contentService.V1GetById(contentId.value, 0);\r\n  await contentService.incrementViews(details.value.Content.Id);\r\n  tags.value = getTagsFromDetails(details.value);\r\n  startWatchEpisodeId.value = getFirstEpisodeIdOrDefault(details.value.Episodes);\r\n  await updateEpisodesList();\r\n  await loadUserFavorites();\r\n  isDataReady.value = true;\r\n});\r\n\r\nasync function heartOnClick() {\r\n  if (isInFavorites.value) {\r\n    await favoritesApi.setStatus(contentId.value, null);\r\n    isInFavorites.value = false;\r\n    userFavoriteStatus.value = \"Добавить в избранное\"\r\n    return;\r\n  }\r\n\r\n  await favoritesApi.setStatus(contentId.value, FavoriteStatus.Stash);\r\n  userFavoriteStatus.value = FavoriteStatuses.Stash;\r\n  isInFavorites.value = true;\r\n}\r\n\r\nasync function addToFavorites(favoriteStatusStr: string) {\r\n  const favoriteStatus = getFavoritesStatusKeyByValue(favoriteStatusStr) as FavoriteStatus;\r\n  await favoritesApi.setStatus(contentId.value, favoriteStatus);\r\n\r\n  isInFavorites.value = true;\r\n}\r\n\r\nasync function updateEpisodesList() {\r\n  let translatorId = null\r\n  if (episodesListParams.translator.value) {\r\n    if (episodesListParams.translator.value === ALL_FILTER) {\r\n      translatorId = null;\r\n    } else {\r\n      const translator = episodeTranslations.value.Translators.find(x => x.Name === episodesListParams.translator.value);\r\n      translatorId = translator.Id;\r\n    }\r\n  }\r\n\r\n  const request = new V1GetByEpisodeRequest(\r\n    contentId.value,\r\n    null,\r\n    translatorId,\r\n    mapToEpisodeOrderType(episodesListParams.sortBy.value as Order)\r\n  );\r\n\r\n  episodeTranslations.value = await translationService.V1GetByEpisodeAsync(request);\r\n  episodes = mapToEpisodes(episodeTranslations.value.Episodes);\r\n}\r\n\r\nfunction getFirstEpisodeIdOrDefault(episodes: V1GetFullContentEpisode[]) {\r\n  // Значение по умолчанию приводит к скрытию кнопки \"Начать просмотр\"\r\n  const defaultValue = -1;\r\n  return !episodes || episodes.length <= 0 ? defaultValue : episodes[0].Id;\r\n}\r\n\r\nasync function loadUserFavorites() {\r\n  if (userStore().loggedIn) {\r\n    const favorites = (await favoritesApi.query(contentId.value))\r\n\r\n    if (favorites.data && favorites.data.Favorites.length === 1) {\r\n      const userContentFavorite = favorites.data.Favorites[0];\r\n\r\n      isInFavorites.value = userContentFavorite.Status !== null;\r\n      userFavoriteStatus.value = FavoriteStatuses[userContentFavorite.Status as keyof typeof FavoriteStatuses];\r\n    } else {\r\n      isInFavorites.value = false;\r\n    }\r\n  }\r\n}\r\n\r\nfunction getTagsFromDetails(details: V1GetFullContentResponse) : Map<string, string | number> {\r\n  if (details == null) {\r\n    return new Map<string, string | number>();\r\n  }\r\n\r\n  const hoursStr = Math.floor(details.Content.Duration / 60) > 0\r\n    ? `${Math.floor(details.Content.Duration / 60)} ч`\r\n    : \"\"\r\n\r\n  const minStr = details.Content.Duration % 60 > 0 ? `${details.Content.Duration % 60} мин` : '';\r\n  const formattedDuration = `${hoursStr} ${minStr}`;\r\n\r\n  const resultMap = new Map<string, string | number>();\r\n\r\n  resultMap.set(\"Серий\", details.Content.OutSeries + \"/\" + details.Content.PlannedSeries);\r\n  if (details.Content.Views > 0) {\r\n    resultMap.set(\"Просмотров\", details.Content.Views);\r\n  }\r\n  if (details.Content.Duration) {\r\n    resultMap.set(\"Длительность\", formattedDuration);\r\n  }\r\n  const updatedAtDate = moment(new Date(details.Content.LastUpdateAt));\r\n  resultMap.set(\"Обновлено\", updatedAtDate.day() + ` ${months[updatedAtDate.month() - 1]} ` + updatedAtDate.format(`YYYY в HH:MM`));\r\n  const createdAtDate = moment(new Date(details.Content.CreatedAt));\r\n  resultMap.set(\"Создано\", createdAtDate.day() + ` ${months[createdAtDate.month() - 1]} ` + createdAtDate.format(`YYYY в HH:MM`));\r\n\r\n  return resultMap;\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (isDataReady.value && details.value)\n        ? (_openBlock(), _createBlock(TheaterAvatar, {\n            key: 0,\n            \"image-id\": details.value.Content.ImageId,\n            \"content-id\": details.value.Content.Id,\n            \"user-info\": details.value.UserInfo\n          }, null, 8, [\"image-id\", \"content-id\", \"user-info\"]))\n        : _createCommentVNode(\"\", true),\n      (isDataReady.value && details.value)\n        ? _withDirectives((_openBlock(), _createBlock(BaseButton, {\n            key: 1,\n            class: \"m-radius-circle\",\n            variant: 'filled'\n          }, {\n            default: _withCtx(() => [\n              _createVNode(_component_router_link, {\n                class: \"body-medium\",\n                to: {\r\n            name: 'episode',\r\n            params: {\r\n              content: details.value.Content.Id,\r\n              episode: _unref(startWatchEpisodeId)\r\n            }}\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Начать просмотр \")\n                ]),\n                _: 1\n              }, 8, [\"to\"])\n            ]),\n            _: 1\n          }, 512)), [\n            [_vShow, _unref(startWatchEpisodeId) !== -1]\n          ])\n        : _createCommentVNode(\"\", true),\n      _withDirectives(_createVNode(BaseSelector, {\n        modelValue: userFavoriteStatus.value,\n        \"onUpdate:modelValue\": [\n          _cache[0] || (_cache[0] = ($event: any) => ((userFavoriteStatus).value = $event)),\n          _cache[1] || (_cache[1] = async (value) => await addToFavorites(value))\n        ],\n        \"menu-alignment\": _unref(MenuAlignment).Left,\n        \"selectable-values\": [\r\n          _unref(FavoriteStatuses).Loved,\r\n          _unref(FavoriteStatuses).Planned,\r\n          _unref(FavoriteStatuses).Watching,\r\n          _unref(FavoriteStatuses).Paused,\r\n          _unref(FavoriteStatuses).Finished,\r\n          _unref(FavoriteStatuses).Dropped,\r\n        ],\n        class: _normalizeClass([\"m3-bg-1 fit-content m-border m-border-hover m-border-active m-radius-circle\", {'theater__favorite-active': userFavoriteStatus.value !== 'Добавить в избранное'}])\n      }, null, 8, [\"modelValue\", \"menu-alignment\", \"selectable-values\", \"class\"]), [\n        [_vShow, _unref(user).loggedIn]\n      ]),\n      _createVNode(BaseBackground, {\n        class: \"theater__short-box column gap-8\",\n        type: 2\n      }, {\n        default: _withCtx(() => [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(tags.value, ([key, value], index) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n              key: index,\n              class: \"row space-between\"\n            }, [\n              _createElementVNode(\"p\", _hoisted_3, _toDisplayString(key), 1),\n              _createElementVNode(\"p\", _hoisted_4, _toDisplayString(value), 1)\n            ]))\n          }), 128))\n        ]),\n        _: 1\n      }),\n      _createVNode(BaseButton, {\n        class: \"theater__edit m-border m-radius-circle\",\n        variant: 'outline'\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_router_link, {\n            class: \"body-medium\",\n            to: {name: 'edit-episode', params: {content: +_unref(route).params.id} }\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Добавить серию \")\n            ]),\n            _: 1\n          }, 8, [\"to\"])\n        ]),\n        _: 1\n      }),\n      _createVNode(BaseButton, {\n        class: \"theater__edit m-border m-radius-circle\",\n        variant: 'outline'\n      }, {\n        default: _withCtx(() => [\n          _createVNode(_component_router_link, {\n            class: \"body-medium\",\n            to: {name: 'edit-content', params: {content: +_unref(route).params.id}}\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Редактировать \")\n            ]),\n            _: 1\n          }, 8, [\"to\"])\n        ]),\n        _: 1\n      })\n    ]),\n    _createElementVNode(\"div\", _hoisted_5, [\n      (isDataReady.value)\n        ? (_openBlock(), _createBlock(TheaterDetails, {\n            key: 0,\n            details: details.value,\n            \"is-favorite\": isInFavorites.value,\n            \"onOn:clickHeart\": heartOnClick\n          }, null, 8, [\"details\", \"is-favorite\"]))\n        : _createCommentVNode(\"\", true),\n      (isDataReady.value)\n        ? (_openBlock(), _createBlock(TranslationsListComponentV2, {\n            key: 1,\n            translators: _unref(mapToTranslators)(_unref(episodeTranslations).Translators),\n            \"episodes-total-count\": 0,\n            episodes: _unref(episodes),\n            \"content-id\": contentId.value,\n            \"onTranslator:update\": _cache[2] || (_cache[2] = (value) => {\r\n          episodesListParams.translator.value = value;\r\n          updateEpisodesList();\r\n        }),\n            \"onSortBy:update\": _cache[3] || (_cache[3] = (value) => {\r\n          episodesListParams.sortBy.value = value;\r\n          updateEpisodesList();\r\n        })\n          }, null, 8, [\"translators\", \"episodes\", \"content-id\"]))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"material theater__main\">\r\n    <div class=\"column gap-16\">\r\n      <TheaterAvatar\r\n        v-if=\"isDataReady && details\"\r\n        :image-id=\"details.Content.ImageId\"\r\n        :content-id=\"details.Content.Id\"\r\n        :user-info=\"details.UserInfo\"\r\n      />\r\n\r\n      <base-button\r\n        v-show=\"startWatchEpisodeId !== -1\"\r\n        v-if=\"isDataReady && details\"\r\n        class=\"m-radius-circle\"\r\n        :variant=\"'filled'\"\r\n      >\r\n        <router-link\r\n          class=\"body-medium\"\r\n          :to=\"{\r\n            name: 'episode',\r\n            params: {\r\n              content: details.Content.Id,\r\n              episode: startWatchEpisodeId\r\n            }}\"\r\n        >\r\n          Начать просмотр\r\n        </router-link>\r\n      </base-button>\r\n\r\n      <base-selector\r\n        v-show=\"user.loggedIn\"\r\n        v-model=\"userFavoriteStatus\"\r\n        :menu-alignment=\"MenuAlignment.Left\"\r\n        :selectable-values=\"[\r\n          FavoriteStatuses.Loved,\r\n          FavoriteStatuses.Planned,\r\n          FavoriteStatuses.Watching,\r\n          FavoriteStatuses.Paused,\r\n          FavoriteStatuses.Finished,\r\n          FavoriteStatuses.Dropped,\r\n        ]\"\r\n        class=\"m3-bg-1 fit-content m-border m-border-hover m-border-active m-radius-circle\"\r\n        :class=\"{'theater__favorite-active': userFavoriteStatus !== 'Добавить в избранное'}\"\r\n        @update:model-value=\"async (value) => await addToFavorites(value)\"\r\n      />\r\n\r\n      <base-background class=\"theater__short-box column gap-8\" :type=\"2\">\r\n        <template\r\n          v-for=\"([key, value], index) in tags\"\r\n          :key=\"index\"\r\n        >\r\n          <div class=\"row space-between\">\r\n            <p class=\"label-large theater__tag-name\">\r\n              {{ key }}\r\n            </p>\r\n            <p class=\" theater__tag-value\">\r\n              {{ value }}\r\n            </p>\r\n          </div>\r\n        </template>\r\n      </base-background>\r\n\r\n      <base-button\r\n        class=\"theater__edit m-border m-radius-circle\"\r\n        :variant=\"'outline'\"\r\n      >\r\n        <router-link class=\"body-medium\" :to=\"{name: 'edit-episode', params: {content: +route.params.id} }\">\r\n          Добавить серию\r\n        </router-link>\r\n      </base-button>\r\n\r\n      <base-button\r\n        class=\"theater__edit m-border m-radius-circle\"\r\n        :variant=\"'outline'\"\r\n      >\r\n        <router-link class=\"body-medium\" :to=\"{name: 'edit-content', params: {content: +route.params.id}}\">\r\n          Редактировать\r\n        </router-link>\r\n      </base-button>\r\n    </div>\r\n\r\n    <div class=\"theater__body\">\r\n      <TheaterDetails\r\n        v-if=\"isDataReady\"\r\n        :details=\"details\"\r\n        :is-favorite=\"isInFavorites\"\r\n        @on:click-heart=\"heartOnClick\"\r\n      />\r\n      <translations-list-component-v2\r\n        v-if=\"isDataReady\"\r\n        :translators=\"mapToTranslators(episodeTranslations.Translators)\"\r\n        :episodes-total-count=\"0\"\r\n        :episodes=\"episodes\"\r\n        :content-id=\"contentId\"\r\n        @translator:update=\"(value) => {\r\n          episodesListParams.translator.value = value;\r\n          updateEpisodesList();\r\n        }\"\r\n        @sort-by:update=\"(value) => {\r\n          episodesListParams.sortBy.value = value;\r\n          updateEpisodesList();\r\n        }\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {useRoute} from 'vue-router'\r\nimport TheaterDetails from \"@/components/Theater/TheaterDetails.vue\";\r\nimport {inject, onMounted, ref, watch} from \"vue\";\r\nimport TheaterAvatar from \"@/components/Theater/TheaterAvatar.vue\";\r\nimport {V1GetFullContentEpisode, V1GetFullContentResponse} from \"@/api/Responses/V1GetFullContentResponse\";\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport moment from \"moment/moment\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport TranslationsListComponentV2 from \"@/components/UseReadyComponents/EpisodesList/TranslationsListComponentV2.vue\";\r\nimport {\r\n  ALL_FILTER,\r\n  mapToEpisodeOrderType, mapToEpisodes, mapToTranslators,\r\n  Order, Translation\r\n} from \"@/components/UseReadyComponents/EpisodesList/TranslationsListViewModel\";\r\n\r\nimport {\r\n  V1GetByEpisodeResponse\r\n} from \"@/api/Responses/V1GetByEpisodeResponse\";\r\nimport {V1GetByEpisodeRequest} from \"@/api/Requests/V1GetByEpisodeRequest\";\r\nimport {TranslationService} from \"@/api/TranslationService\";\r\nimport {Favorite, FavoriteApi} from \"@/api/FavoriteApi\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\nimport {FavoriteStatus, FavoriteStatuses, getFavoritesStatusKeyByValue} from \"@/models/FavoriteStatuses\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nconst months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n\r\nconst user = userStore();\r\nconst route = useRoute();\r\nconst contentId = ref(+route.params.id);\r\nconst contentService: ContentService = inject(\"content-service\");\r\nconst translationService: TranslationService = inject('translation-service');\r\nconst favoritesApi: FavoriteApi = inject('favorite-api');\r\n\r\nlet startWatchEpisodeId = ref<number>();\r\nconst isDataReady = ref(false);\r\nconst details = ref<V1GetFullContentResponse>(null);\r\nconst tags = ref<Map<string, string | number>>();\r\n\r\nlet episodeTranslations = ref<V1GetByEpisodeResponse>(null);\r\nlet episodes: Translation[] = [];\r\nconst episodesListParams = {\r\n  translator: ref<string>(),\r\n  sortBy: ref<string>(Order.ByNumber)\r\n};\r\nconst isInFavorites = ref<boolean>(false);\r\nconst userFavoriteStatus = ref<FavoriteStatuses | null>(\"Добавить в избранное\");\r\n\r\nonMounted(async() => {\r\n  isDataReady.value = false;\r\n  details.value = await contentService.V1GetById(contentId.value, 0);\r\n  await contentService.incrementViews(details.value.Content.Id);\r\n  tags.value = getTagsFromDetails(details.value);\r\n  startWatchEpisodeId.value = getFirstEpisodeIdOrDefault(details.value.Episodes);\r\n  await updateEpisodesList();\r\n  await loadUserFavorites();\r\n  isDataReady.value = true;\r\n});\r\n\r\nasync function heartOnClick() {\r\n  if (isInFavorites.value) {\r\n    await favoritesApi.setStatus(contentId.value, null);\r\n    isInFavorites.value = false;\r\n    userFavoriteStatus.value = \"Добавить в избранное\"\r\n    return;\r\n  }\r\n\r\n  await favoritesApi.setStatus(contentId.value, FavoriteStatus.Stash);\r\n  userFavoriteStatus.value = FavoriteStatuses.Stash;\r\n  isInFavorites.value = true;\r\n}\r\n\r\nasync function addToFavorites(favoriteStatusStr: string) {\r\n  const favoriteStatus = getFavoritesStatusKeyByValue(favoriteStatusStr) as FavoriteStatus;\r\n  await favoritesApi.setStatus(contentId.value, favoriteStatus);\r\n\r\n  isInFavorites.value = true;\r\n}\r\n\r\nasync function updateEpisodesList() {\r\n  let translatorId = null\r\n  if (episodesListParams.translator.value) {\r\n    if (episodesListParams.translator.value === ALL_FILTER) {\r\n      translatorId = null;\r\n    } else {\r\n      const translator = episodeTranslations.value.Translators.find(x => x.Name === episodesListParams.translator.value);\r\n      translatorId = translator.Id;\r\n    }\r\n  }\r\n\r\n  const request = new V1GetByEpisodeRequest(\r\n    contentId.value,\r\n    null,\r\n    translatorId,\r\n    mapToEpisodeOrderType(episodesListParams.sortBy.value as Order)\r\n  );\r\n\r\n  episodeTranslations.value = await translationService.V1GetByEpisodeAsync(request);\r\n  episodes = mapToEpisodes(episodeTranslations.value.Episodes);\r\n}\r\n\r\nfunction getFirstEpisodeIdOrDefault(episodes: V1GetFullContentEpisode[]) {\r\n  // Значение по умолчанию приводит к скрытию кнопки \"Начать просмотр\"\r\n  const defaultValue = -1;\r\n  return !episodes || episodes.length <= 0 ? defaultValue : episodes[0].Id;\r\n}\r\n\r\nasync function loadUserFavorites() {\r\n  if (userStore().loggedIn) {\r\n    const favorites = (await favoritesApi.query(contentId.value))\r\n\r\n    if (favorites.data && favorites.data.Favorites.length === 1) {\r\n      const userContentFavorite = favorites.data.Favorites[0];\r\n\r\n      isInFavorites.value = userContentFavorite.Status !== null;\r\n      userFavoriteStatus.value = FavoriteStatuses[userContentFavorite.Status as keyof typeof FavoriteStatuses];\r\n    } else {\r\n      isInFavorites.value = false;\r\n    }\r\n  }\r\n}\r\n\r\nfunction getTagsFromDetails(details: V1GetFullContentResponse) : Map<string, string | number> {\r\n  if (details == null) {\r\n    return new Map<string, string | number>();\r\n  }\r\n\r\n  const hoursStr = Math.floor(details.Content.Duration / 60) > 0\r\n    ? `${Math.floor(details.Content.Duration / 60)} ч`\r\n    : \"\"\r\n\r\n  const minStr = details.Content.Duration % 60 > 0 ? `${details.Content.Duration % 60} мин` : '';\r\n  const formattedDuration = `${hoursStr} ${minStr}`;\r\n\r\n  const resultMap = new Map<string, string | number>();\r\n\r\n  resultMap.set(\"Серий\", details.Content.OutSeries + \"/\" + details.Content.PlannedSeries);\r\n  if (details.Content.Views > 0) {\r\n    resultMap.set(\"Просмотров\", details.Content.Views);\r\n  }\r\n  if (details.Content.Duration) {\r\n    resultMap.set(\"Длительность\", formattedDuration);\r\n  }\r\n  const updatedAtDate = moment(new Date(details.Content.LastUpdateAt));\r\n  resultMap.set(\"Обновлено\", updatedAtDate.day() + ` ${months[updatedAtDate.month() - 1]} ` + updatedAtDate.format(`YYYY в HH:MM`));\r\n  const createdAtDate = moment(new Date(details.Content.CreatedAt));\r\n  resultMap.set(\"Создано\", createdAtDate.day() + ` ${months[createdAtDate.month() - 1]} ` + createdAtDate.format(`YYYY в HH:MM`));\r\n\r\n  return resultMap;\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.theater {\r\n  @media (min-width: 0px) {\r\n    &__main {\r\n      display: grid;\r\n      margin: 20px 0;\r\n    }\r\n  }\r\n  @media (min-width: 720px) {\r\n    &__main {\r\n      display: grid;\r\n      grid-template-columns: 255px 1fr;\r\n      gap: 20px;\r\n      margin: 20px 0;\r\n    }\r\n  }\r\n\r\n  &__favorite-active {\r\n    border: 1px solid var(--primary40);\r\n  }\r\n\r\n  &__body {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 16px;\r\n  }\r\n\r\n  &__edit {\r\n    display: flex;\r\n    justify-content: center;\r\n\r\n    & a {\r\n      color: var(--primary40);\r\n    }\r\n  }\r\n\r\n  &__tag-name {\r\n    display: flex;\r\n    color: #969BAB;\r\n    margin: 0;\r\n  }\r\n\r\n  &__tag-value {\r\n    margin: 0;\r\n  }\r\n\r\n  &__short-box {\r\n    display: grid;\r\n    padding: 16px;\r\n  }\r\n}\r\n</style>","import script from \"./TheaterView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TheaterView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TheaterView.vue?vue&type=style&index=0&id=284814e5&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-284814e5\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '@/assets/images/Logo.svg'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0e95f74a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"restore-password__main\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  class: \"restore-password__logo\",\n  src: _imports_0,\n  alt: \"Логотип\"\n}, null, -1))\nconst _hoisted_3 = {\n  key: 0,\n  class: \"column gap-8 restore-password__input-container\"\n}\nconst _hoisted_4 = {\n  key: 1,\n  class: \"column gap-8 restore-password__input-container\"\n}\nconst _hoisted_5 = { class: \"restore-password__help label-medium m3-bg-2 m-radius-1\" }\nconst _hoisted_6 = {\n  key: 2,\n  class: \"column gap-8 restore-password__input-container\"\n}\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", { class: \"restore-password__help label-medium m3-bg-2 m-radius-1\" }, \" Введите новый пароль \", -1))\nconst _hoisted_8 = { class: \"restore-password__links\" }\n\nimport {inject, ref} from \"vue\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'RestorePasswordView',\n  setup(__props) {\n\r\nconst PasswordResetScope = {\r\n  'EmailSend': 1,\r\n  'EmailCode': 2,\r\n  'PasswordInputs': 3\r\n} as const;\r\n\r\nconst router = useRouter()\r\nconst userApi = inject<UserApi>('user-api');\r\nconst eventStore = ClientEventStore();\r\n\r\nconst passwordResetScope = ref<typeof PasswordResetScope>(PasswordResetScope.EmailSend as typeof PasswordResetScope);\r\nconst emailInput = ref();\r\nconst isEmailInputInvalid = ref(false);\r\n\r\nconst codeInput = ref<number>();\r\nconst isCodeInputInvalid = ref(false);\r\n\r\nconst passwordInput = ref<string>();\r\nconst passwordInputV2 = ref<string>();\r\nconst isPasswordInputInvalid = ref(false);\r\nconst isPasswordInputV2Invalid = ref(false);\r\n\r\nlet passwordResetTemporaryToken: string | undefined;\r\n\r\nasync function sendPasswordResetCode() {\r\n  if (StringExtensions.isNullOrEmpty(emailInput.value)) {\r\n    eventStore.push('Ошибка! Заполните обязательное поле.', EventTypes.Error as typeof EventTypes);\r\n    isEmailInputInvalid.value = true;\r\n    return;\r\n  } else if (!StringExtensions.validateEmail(emailInput.value)) {\r\n    eventStore.push('Ошибка! Не корректный формат почты.', EventTypes.Error as typeof EventTypes);\r\n    isEmailInputInvalid.value = true;\r\n    return;\r\n  } else {\r\n    isEmailInputInvalid.value = false;\r\n  }\r\n\r\n  const response = (await userApi.sendPasswordResetCode(emailInput.value))\r\n    .onException(() => eventStore.push('Ошибка! Не корректный формат почты.', EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError((error) => eventStore.push(error.Message, EventTypes.Error as typeof EventTypes));\r\n\r\n  if (response.error) {\r\n    return;\r\n  }\r\n\r\n  passwordResetScope.value = PasswordResetScope.EmailCode as typeof PasswordResetScope;\r\n}\r\n\r\nasync function verifyPasswordResetCodeClick() {\r\n  if (codeInput.value === null || codeInput.value === 0) {\r\n    eventStore.push('Ошибка! Заполните обязательное поле.', EventTypes.Error as typeof EventTypes);\r\n    isCodeInputInvalid.value = true;\r\n    return;\r\n  } else {\r\n    isCodeInputInvalid.value = false;\r\n  }\r\n\r\n  try {\r\n    const response = await userApi.verifyPasswordResetCode(emailInput.value, codeInput.value);\r\n    if (userApi.isErrorDetails(response)) {\r\n      eventStore.push(response.ErrorCode + '\\n' + response.Message, EventTypes.Error as typeof EventTypes);\r\n      return;\r\n    }\r\n    passwordResetTemporaryToken = response.data.Token;\r\n    passwordResetScope.value = PasswordResetScope.PasswordInputs as typeof PasswordResetScope;\r\n    return;\r\n  } catch (exception) {\r\n    eventStore.push('Ошибка! Не корректный формат почты.', EventTypes.Error as typeof EventTypes);\r\n    return;\r\n  }\r\n}\r\n\r\nasync function resetPasswordClick() {\r\n  if (StringExtensions.isNullOrEmpty(passwordInput.value)) {\r\n    eventStore.push('Ошибка! Заполните обязательные поля.', EventTypes.Error as typeof EventTypes);\r\n    isPasswordInputInvalid.value = true;\r\n    return;\r\n  } else {\r\n    isPasswordInputInvalid.value = false;\r\n  }\r\n\r\n  if (StringExtensions.isNullOrEmpty(passwordInputV2.value)) {\r\n    eventStore.push('Ошибка! Заполните обязательные поля.', EventTypes.Error as typeof EventTypes);\r\n    isPasswordInputV2Invalid.value = true;\r\n    return;\r\n  } else {\r\n    isPasswordInputV2Invalid.value = false;\r\n  }\r\n\r\n  if (passwordInput.value !== passwordInputV2.value) {\r\n    eventStore.push('Ошибка! Пароли не совпадают.', EventTypes.Error as typeof EventTypes);\r\n    isPasswordInputV2Invalid.value = true;\r\n    isPasswordInputInvalid.value = true;\r\n    return\r\n  } else {\r\n    isPasswordInputV2Invalid.value = false;\r\n  }\r\n\r\n  try {\r\n    await userApi.resetPassword(emailInput.value, passwordInput.value, passwordResetTemporaryToken);\r\n    eventStore.push('Отлично! Пароль успешно сброшен.', EventTypes.Success as typeof EventTypes);\r\n    await router.push('/login');\r\n    return;\r\n  } catch (exception) {\r\n    eventStore.push(exception, EventTypes.Error as typeof EventTypes);\r\n    return;\r\n  }\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(BaseBackground, {\n      type: 2,\n      class: \"restore-password__container\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_router_link, { to: \"/\" }, {\n          default: _withCtx(() => [\n            _hoisted_2\n          ]),\n          _: 1\n        }),\n        (passwordResetScope.value === PasswordResetScope.EmailSend)\n          ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n              _createVNode(BaseInput, {\n                modelValue: emailInput.value,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((emailInput).value = $event)),\n                class: \"row m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\",\n                \"mark-as-invalid-input\": isEmailInputInvalid.value,\n                \"place-holder\": 'Введите почту',\n                type: \"text\"\n              }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"]),\n              _createVNode(BaseButton, {\n                class: \"m-radius-circle\",\n                \"button-type\": 2,\n                variant: 'filled',\n                onClick: _withModifiers(sendPasswordResetCode, [\"stop\"])\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Отправить \")\n                ]),\n                _: 1\n              })\n            ]))\n          : (passwordResetScope.value === PasswordResetScope.EmailCode)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                _createElementVNode(\"span\", _hoisted_5, \" Отправили код на \" + _toDisplayString(emailInput.value), 1),\n                _createVNode(BaseInput, {\n                  modelValue: codeInput.value,\n                  \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((codeInput).value = $event)),\n                  class: \"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\",\n                  \"mark-as-invalid-input\": isCodeInputInvalid.value,\n                  \"place-holder\": 'Введите код',\n                  type: \"number\"\n                }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"]),\n                _createVNode(BaseButton, {\n                  class: \"m-radius-circle\",\n                  \"button-type\": 2,\n                  variant: 'filled',\n                  onClick: _withModifiers(verifyPasswordResetCodeClick, [\"stop\"])\n                }, {\n                  default: _withCtx(() => [\n                    _createTextVNode(\" Восстановить \")\n                  ]),\n                  _: 1\n                })\n              ]))\n            : (passwordResetScope.value === PasswordResetScope.PasswordInputs)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                  _hoisted_7,\n                  _createVNode(BaseInput, {\n                    modelValue: passwordInput.value,\n                    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((passwordInput).value = $event)),\n                    class: \"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\",\n                    \"mark-as-invalid-input\": isPasswordInputInvalid.value,\n                    \"place-holder\": 'Введите пароль',\n                    type: \"password\"\n                  }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"]),\n                  _createVNode(BaseInput, {\n                    modelValue: passwordInputV2.value,\n                    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((passwordInputV2).value = $event)),\n                    class: \"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\",\n                    \"mark-as-invalid-input\": isPasswordInputV2Invalid.value,\n                    \"place-holder\": 'Подтвердите пароль',\n                    type: \"password\"\n                  }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"]),\n                  _createVNode(BaseButton, {\n                    class: \"m-radius-circle\",\n                    \"button-type\": 2,\n                    variant: 'filled',\n                    onClick: _withModifiers(resetPasswordClick, [\"stop\"])\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" Сменить пароль \")\n                    ]),\n                    _: 1\n                  })\n                ]))\n              : _createCommentVNode(\"\", true),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createVNode(_component_router_link, { to: \"/login\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Войти \")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_router_link, { to: \"/restore\" }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Зарегистрироваться \")\n            ]),\n            _: 1\n          })\n        ])\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"restore-password__main\">\r\n    <BaseBackground :type=\"2\" class=\"restore-password__container\">\r\n      <router-link to=\"/\">\r\n        <img\r\n          class=\"restore-password__logo\" src=\"@/assets/images/Logo.svg\"\r\n          alt=\"Логотип\"\r\n        >\r\n      </router-link>\r\n\r\n      <div\r\n        v-if=\"passwordResetScope === PasswordResetScope.EmailSend\"\r\n        class=\"column gap-8 restore-password__input-container\"\r\n      >\r\n        <base-input\r\n          v-model=\"emailInput\"\r\n          class=\"row m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\"\r\n          :mark-as-invalid-input=\"isEmailInputInvalid\"\r\n          :place-holder=\"'Введите почту'\"\r\n          type=\"text\"\r\n        />\r\n        <base-button\r\n          class=\"m-radius-circle\"\r\n          :button-type=\"2\"\r\n          :variant=\"'filled'\"\r\n          @click.stop=\"sendPasswordResetCode\"\r\n        >\r\n          Отправить\r\n        </base-button>\r\n      </div>\r\n\r\n      <div\r\n        v-else-if=\"passwordResetScope === PasswordResetScope.EmailCode\"\r\n        class=\"column gap-8 restore-password__input-container\"\r\n      >\r\n        <span class=\"restore-password__help label-medium m3-bg-2 m-radius-1\">\r\n          Отправили код на {{ emailInput }}\r\n        </span>\r\n        <base-input\r\n          v-model=\"codeInput\"\r\n          class=\"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\"\r\n          :mark-as-invalid-input=\"isCodeInputInvalid\"\r\n          :place-holder=\"'Введите код'\"\r\n          type=\"number\"\r\n        />\r\n\r\n        <base-button\r\n          class=\"m-radius-circle\"\r\n          :button-type=\"2\"\r\n          :variant=\"'filled'\"\r\n          @click.stop=\"verifyPasswordResetCodeClick\"\r\n        >\r\n          Восстановить\r\n        </base-button>\r\n      </div>\r\n\r\n      <div\r\n        v-else-if=\"passwordResetScope === PasswordResetScope.PasswordInputs\"\r\n        class=\"column gap-8 restore-password__input-container\"\r\n      >\r\n        <span class=\"restore-password__help label-medium m3-bg-2 m-radius-1\">\r\n          Введите новый пароль\r\n        </span>\r\n        <base-input\r\n          v-model=\"passwordInput\"\r\n          class=\"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\"\r\n          :mark-as-invalid-input=\"isPasswordInputInvalid\"\r\n          :place-holder=\"'Введите пароль'\"\r\n          type=\"password\"\r\n        />\r\n        <base-input\r\n          v-model=\"passwordInputV2\"\r\n          class=\"m-radius-1 m3-bg-2 m-border m-border-hover m-border-active\"\r\n          :mark-as-invalid-input=\"isPasswordInputV2Invalid\"\r\n          :place-holder=\"'Подтвердите пароль'\"\r\n          type=\"password\"\r\n        />\r\n        <base-button\r\n          class=\"m-radius-circle\"\r\n          :button-type=\"2\"\r\n          :variant=\"'filled'\"\r\n          @click.stop=\"resetPasswordClick\"\r\n        >\r\n          Сменить пароль\r\n        </base-button>\r\n      </div>\r\n\r\n      <div class=\"restore-password__links\">\r\n        <router-link to=\"/login\">\r\n          Войти\r\n        </router-link>\r\n        <router-link to=\"/restore\">\r\n          Зарегистрироваться\r\n        </router-link>\r\n      </div>\r\n    </BaseBackground>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport {inject, ref} from \"vue\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\nconst PasswordResetScope = {\r\n  'EmailSend': 1,\r\n  'EmailCode': 2,\r\n  'PasswordInputs': 3\r\n} as const;\r\n\r\nconst router = useRouter()\r\nconst userApi = inject<UserApi>('user-api');\r\nconst eventStore = ClientEventStore();\r\n\r\nconst passwordResetScope = ref<typeof PasswordResetScope>(PasswordResetScope.EmailSend as typeof PasswordResetScope);\r\nconst emailInput = ref();\r\nconst isEmailInputInvalid = ref(false);\r\n\r\nconst codeInput = ref<number>();\r\nconst isCodeInputInvalid = ref(false);\r\n\r\nconst passwordInput = ref<string>();\r\nconst passwordInputV2 = ref<string>();\r\nconst isPasswordInputInvalid = ref(false);\r\nconst isPasswordInputV2Invalid = ref(false);\r\n\r\nlet passwordResetTemporaryToken: string | undefined;\r\n\r\nasync function sendPasswordResetCode() {\r\n  if (StringExtensions.isNullOrEmpty(emailInput.value)) {\r\n    eventStore.push('Ошибка! Заполните обязательное поле.', EventTypes.Error as typeof EventTypes);\r\n    isEmailInputInvalid.value = true;\r\n    return;\r\n  } else if (!StringExtensions.validateEmail(emailInput.value)) {\r\n    eventStore.push('Ошибка! Не корректный формат почты.', EventTypes.Error as typeof EventTypes);\r\n    isEmailInputInvalid.value = true;\r\n    return;\r\n  } else {\r\n    isEmailInputInvalid.value = false;\r\n  }\r\n\r\n  const response = (await userApi.sendPasswordResetCode(emailInput.value))\r\n    .onException(() => eventStore.push('Ошибка! Не корректный формат почты.', EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError((error) => eventStore.push(error.Message, EventTypes.Error as typeof EventTypes));\r\n\r\n  if (response.error) {\r\n    return;\r\n  }\r\n\r\n  passwordResetScope.value = PasswordResetScope.EmailCode as typeof PasswordResetScope;\r\n}\r\n\r\nasync function verifyPasswordResetCodeClick() {\r\n  if (codeInput.value === null || codeInput.value === 0) {\r\n    eventStore.push('Ошибка! Заполните обязательное поле.', EventTypes.Error as typeof EventTypes);\r\n    isCodeInputInvalid.value = true;\r\n    return;\r\n  } else {\r\n    isCodeInputInvalid.value = false;\r\n  }\r\n\r\n  try {\r\n    const response = await userApi.verifyPasswordResetCode(emailInput.value, codeInput.value);\r\n    if (userApi.isErrorDetails(response)) {\r\n      eventStore.push(response.ErrorCode + '\\n' + response.Message, EventTypes.Error as typeof EventTypes);\r\n      return;\r\n    }\r\n    passwordResetTemporaryToken = response.data.Token;\r\n    passwordResetScope.value = PasswordResetScope.PasswordInputs as typeof PasswordResetScope;\r\n    return;\r\n  } catch (exception) {\r\n    eventStore.push('Ошибка! Не корректный формат почты.', EventTypes.Error as typeof EventTypes);\r\n    return;\r\n  }\r\n}\r\n\r\nasync function resetPasswordClick() {\r\n  if (StringExtensions.isNullOrEmpty(passwordInput.value)) {\r\n    eventStore.push('Ошибка! Заполните обязательные поля.', EventTypes.Error as typeof EventTypes);\r\n    isPasswordInputInvalid.value = true;\r\n    return;\r\n  } else {\r\n    isPasswordInputInvalid.value = false;\r\n  }\r\n\r\n  if (StringExtensions.isNullOrEmpty(passwordInputV2.value)) {\r\n    eventStore.push('Ошибка! Заполните обязательные поля.', EventTypes.Error as typeof EventTypes);\r\n    isPasswordInputV2Invalid.value = true;\r\n    return;\r\n  } else {\r\n    isPasswordInputV2Invalid.value = false;\r\n  }\r\n\r\n  if (passwordInput.value !== passwordInputV2.value) {\r\n    eventStore.push('Ошибка! Пароли не совпадают.', EventTypes.Error as typeof EventTypes);\r\n    isPasswordInputV2Invalid.value = true;\r\n    isPasswordInputInvalid.value = true;\r\n    return\r\n  } else {\r\n    isPasswordInputV2Invalid.value = false;\r\n  }\r\n\r\n  try {\r\n    await userApi.resetPassword(emailInput.value, passwordInput.value, passwordResetTemporaryToken);\r\n    eventStore.push('Отлично! Пароль успешно сброшен.', EventTypes.Success as typeof EventTypes);\r\n    await router.push('/login');\r\n    return;\r\n  } catch (exception) {\r\n    eventStore.push(exception, EventTypes.Error as typeof EventTypes);\r\n    return;\r\n  }\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.restore-password {\r\n  &__help {\r\n    color: var(--on-surfacer);\r\n    padding: 8px 16px 8px 16px;\r\n    background: var(--surface-container-low96);\r\n    border: 1px solid var(--surface-container-highest90);\r\n    text-align: start;\r\n  }\r\n  &__memorize {\r\n    display: flex;\r\n    width: 100%;\r\n  }\r\n  &__memorize-label {\r\n    margin-left: 4px;\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    text-align: left;\r\n    letter-spacing: 0.02em;\r\n    cursor: pointer;\r\n    -webkit-user-select: none;\r\n  }\r\n\r\n  &__line-breaker {\r\n    width: 100%;\r\n    height: 1px;\r\n    background: #969BAB;\r\n  }\r\n\r\n  &__logo {\r\n    height: 40px;\r\n  }\r\n\r\n  &__links {\r\n    display: flex;\r\n    flex-direction: row;\r\n    font-size: 12px;\r\n    gap: 16px;\r\n\r\n    & a {\r\n      color: var(--font-gray);\r\n      text-decoration: underline;\r\n\r\n      &:hover {\r\n        cursor: pointer;\r\n        color: #6686B3;\r\n      }\r\n    }\r\n  }\r\n\r\n  &__input {\r\n    border: solid 1px #969BAB;\r\n    border-radius: 6px;\r\n    padding: 10px;\r\n    height: 40px;\r\n    width: 100%;\r\n\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n    line-height: 15px;\r\n    letter-spacing: 0.04em;\r\n    color: #474A57;\r\n\r\n    &:focus-visible {\r\n      outline: var(--primary) auto 1px;;\r\n    }\r\n  }\r\n\r\n  &__main {\r\n    height: 100%;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  &__container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    gap: 15px;\r\n    height: fit-content;\r\n    width: 420px;\r\n    padding: 60px;\r\n  }\r\n\r\n  &__input-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    gap: 10px;\r\n  }\r\n}\r\n</style>","import script from \"./RestorePasswordView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RestorePasswordView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./RestorePasswordView.vue?vue&type=style&index=0&id=0e95f74a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0e95f74a\"]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"24\" height=\"24\"\r\n    viewBox=\"0 0 24 24\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M9 19L10.41 17.59L5.83 13H22V11H5.83L10.42 6.41L9 5L2 12L9 19Z\" fill=\"currentColor\" />\r\n  </svg>\r\n</template>","import { render } from \"./NavLeftArrowIcon.vue?vue&type=template&id=3e490f00\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"24\" height=\"24\"\r\n    viewBox=\"0 0 24 24\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M15 5L13.59 6.41L18.17 11H2V13H18.17L13.58 17.59L15 19L22 12L15 5Z\" fill=\"currentColor\" />\r\n  </svg>\r\n</template>","import { render } from \"./NavRightArrowIcon.vue?vue&type=template&id=27e10019\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, vShow as _vShow, createVNode as _createVNode, withDirectives as _withDirectives, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-61de73ec\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"material episode__body-box gap-16\" }\nconst _hoisted_2 = { class: \"episode__title-main\" }\nconst _hoisted_3 = {\n  class: \"headline-medium episode__title\",\n  style: {\"color\":\"var(--primary40)\"}\n}\nconst _hoisted_4 = { key: 1 }\nconst _hoisted_5 = { class: \"title-medium episode__title\" }\nconst _hoisted_6 = { class: \"episode__title-secondary dynamic\" }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"episode__video-main\"\n}\nconst _hoisted_8 = [\"src\"]\nconst _hoisted_9 = {\n  key: 1,\n  class: \"episode__video-unavailable m-border m-radius-16 v__center h__center m3-bg-5\"\n}\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"title-large\" }, \" Видео сейчас не доступно \", -1))\nconst _hoisted_11 = [\n  _hoisted_10\n]\nconst _hoisted_12 = { class: \"row gap-16\" }\nconst _hoisted_13 = { class: \"title-medium row gap-8\" }\nconst _hoisted_14 = { class: \"headline-small\" }\nconst _hoisted_15 = { class: \"title-medium row gap-8\" }\nconst _hoisted_16 = { class: \"headline-small\" }\n\nimport {inject, onMounted, ref, watch} from \"vue\";\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport {V1GetFullContentEpisode} from \"@/api/Responses/V1GetFullContentResponse\";\r\nimport {TranslationService} from \"@/api/TranslationService\"\r\nimport {useRoute} from \"vue-router\";\r\nimport moment from \"moment/moment\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport {V1GetByEpisodeRequest} from \"@/api/Requests/V1GetByEpisodeRequest\";\r\nimport {\r\n  V1GetByEpisodeResponse,\r\n  V1GetByEpisodeResponseEpisode,\r\n  V1GetByEpisodeResponseTranslation\r\n} from \"@/api/Responses/V1GetByEpisodeResponse\";\r\nimport {V1GetByQueryResponseContent} from \"@/api/Requests/V1GetByQueryResponse\";\r\nimport {V1GetByQueryRequest, V1GetByQuerySearchFilters} from \"@/api/Requests/V1GetByQueryRequest\";\r\nimport {ContentSelectedInfo} from \"@/api/Enums/ContentSelectedInfo\";\r\nimport {EpisodeService} from \"@/api/EpisodeService\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport {mapContentTypeToRuStr} from \"@/api/Enums/ContentType\";\r\nimport {mapContentStatusToRuStr} from \"@/api/Enums/ContentStatus\";\r\nimport TranslationsListComponentV2 from \"@/components/UseReadyComponents/EpisodesList/TranslationsListComponentV2.vue\";\r\nimport {\r\n  ALL_FILTER,\r\n  EpisodeOrderType,\r\n  mapToEpisodeOrderType,\r\n  mapToEpisodes,\r\n  mapToTranslators,\r\n  Order,\r\n  Translation\r\n} from \"@/components/UseReadyComponents/EpisodesList/TranslationsListViewModel\";\r\nimport NavLeftArrowIcon from \"@/components/Icons/MaterialIcons/NavLeftArrowIcon.vue\";\r\nimport NavRightArrowIcon from \"@/components/Icons/MaterialIcons/NavRightArrowIcon.vue\";\r\n\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EpisodeView',\n  setup(__props) {\n\r\nconst route = useRoute();\r\nlet episodeId = route.params.episode as number;\r\nlet contentId = route.params.content as number;\r\n\r\nconsole.log(\"EPISODE: \" + episodeId + \"\\nCONTENT: \" + contentId);\r\n\r\nlet translationId = +route.params.translation > 0 ? (+route.params.translation) : 1;\r\n\r\nconst contentService: ContentService = inject('content-service');\r\nconst translationService: TranslationService = inject('translation-service');\r\nconst episodeService: EpisodeService = inject('episode-service');\r\n\r\nconst dataIsReady = ref<boolean>(false);\r\nconst content = ref<V1GetByQueryResponseContent>(null);\r\nconst translations = ref<V1GetByEpisodeResponse>(null);\r\nconst previousEpisode = ref<V1GetFullContentEpisode | null>(null);\r\nconst currentEpisode = ref<V1GetFullContentEpisode>(null);\r\nconst nextEpisode = ref<V1GetFullContentEpisode | null>(null);\r\nconst selectedTranslation = ref<V1GetByEpisodeResponseTranslation>(null);\r\nconst isSelectedVideoLinkValid = ref<boolean>(false);\r\n\r\nlet episodes: Translation[] = [];\r\nconst episodesListParams = {\r\n  translator: ref<string>(),\r\n  sortBy: ref<string>(Order.ByNumber)\r\n};\r\n\r\nonMounted(async() => {\r\n  await SetContents()\r\n  await updateEpisodesList();\r\n});\r\n\r\nasync function updateEpisodesList() {\r\n  let translatorId = null\r\n  if (episodesListParams.translator.value) {\r\n    if (episodesListParams.translator.value === ALL_FILTER) {\r\n      translatorId = null;\r\n    } else {\r\n      const translator = translations.value.Translators.find(x => x.Name === episodesListParams.translator.value);\r\n      translatorId = translator.Id;\r\n    }\r\n  }\r\n\r\n  console.log(episodesListParams.sortBy.value as Order);\r\n\r\n  const request = new V1GetByEpisodeRequest(\r\n    contentId,\r\n    null,\r\n    translatorId,\r\n    mapToEpisodeOrderType(episodesListParams.sortBy.value as Order)\r\n  );\r\n\r\n  translations.value = await translationService.V1GetByEpisodeAsync(request);\r\n  episodes = mapToEpisodes(translations.value.Episodes);\r\n}\r\n\r\nasync function SetContents() {\r\n  nextEpisode.value = null;\r\n  previousEpisode.value = null;\r\n  const request = new V1GetByQueryRequest();\r\n  const filters = new V1GetByQuerySearchFilters();\r\n  request.SelectedInfo = ContentSelectedInfo.Episodes;\r\n  filters.ContentIds = new Array<number>(contentId);\r\n  request.Filters = filters;\r\n\r\n  contentId = route.params.content as number;\r\n  episodeId = route.params.episode as number;\r\n  translationId = +route.params.translation > 0 ? (+route.params.translation) : 0;\r\n  dataIsReady.value = false;\r\n\r\n  const contentsResponse = await contentService.V1GetByQuery(request)\r\n  if (contentsResponse.Content.length !== 1) {\r\n    const error = new Error();\r\n    error.message = \"Content not found exception\";\r\n    throw error;\r\n  }\r\n\r\n  content.value = contentsResponse.Content.find(x => x.Content.Id == contentId);\r\n  const translationsRequest = new V1GetByEpisodeRequest(contentId, null, null, EpisodeOrderType.ByNumber);\r\n  translations.value = await translationService.V1GetByEpisodeAsync(translationsRequest);\r\n  currentEpisode.value = content.value.Episodes.find(value => value.Id == episodeId);\r\n  selectedTranslation.value = getCurrentEpisodeTranslation(translationId, translations.value.Episodes);\r\n\r\n  const orderedEpisodes = translations.value.Episodes.sort(value => value.Number);\r\n  for (let index = 0; index < orderedEpisodes.length; index++) {\r\n    const episode = orderedEpisodes[index];\r\n    if (episode.Number === currentEpisode.value.Number) {\r\n      if (index != 0) {\r\n        previousEpisode.value = orderedEpisodes[index - 1];\r\n      }\r\n\r\n      if (index != orderedEpisodes.length - 1) {\r\n        nextEpisode.value = orderedEpisodes[index + 1];\r\n      }\r\n    }\r\n  }\r\n\r\n  await validateVideoLink();\r\n  await episodeService.incrementViews(episodeId);\r\n  dataIsReady.value = true;\r\n}\r\n\r\nasync function validateVideoLink() {\r\n  if (selectedTranslation.value.Link) {\r\n    try {\r\n      console.log(selectedTranslation.value.Link);\r\n      await fetch(selectedTranslation.value.Link, { mode: 'no-cors'})\r\n        .then((resp) => {\r\n          let status = true;\r\n          if (!resp.ok || resp.status != 200) status = false;\r\n          if (resp.type == \"opaque\") status = true;\r\n\r\n          isSelectedVideoLinkValid.value = status;\r\n        });\r\n\r\n      console.log(\"Site status: \" + isSelectedVideoLinkValid.value);\r\n    }\r\n    catch (exception) {\r\n      console.log(exception);\r\n      isSelectedVideoLinkValid.value = false;\r\n    }\r\n  }\r\n}\r\n\r\nfunction getCurrentEpisodeTranslation(\r\n  pathTranslationId: number,\r\n  episodesWithTranslations: V1GetByEpisodeResponseEpisode[]) : V1GetByEpisodeResponseTranslation {\r\n\r\n  if (episodesWithTranslations.length === 0) {\r\n    throw new Error(\"Translations not found! (1)\")\r\n  }\r\n\r\n  const episode = episodesWithTranslations.find(episode => episode.Id == episodeId);\r\n  if (episode.Translations.length === 0) {\r\n    throw new Error(\"Translations not found! (2)\")\r\n  }\r\n\r\n  if (pathTranslationId > 0) {\r\n    const selectedTranslator = episode.Translations.find(translation => translation.Id === pathTranslationId);\r\n    if (selectedTranslator != undefined) {\r\n      return selectedTranslator;\r\n    }\r\n  }\r\n\r\n  // as default;\r\n  return episode.Translations[0];\r\n}\r\n\r\nwatch(() => route.params.episode, async () => {\r\n  if (!route.params.episode) {\r\n    return;\r\n  }\r\n\r\n  await SetContents();\r\n})\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (dataIsReady.value)\n      ? (_openBlock(), _createBlock(BaseBackground, {\n          key: 0,\n          type: 2,\n          class: \"episode__main\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_2, [\n              (content.value)\n                ? (_openBlock(), _createBlock(_component_router_link, {\n                    key: 0,\n                    to: { name: 'theater', params: { id: _unref(contentId) }}\n                  }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"p\", _hoisted_3, _toDisplayString(content.value.Content.Title), 1)\n                    ]),\n                    _: 1\n                  }, 8, [\"to\"]))\n                : _createCommentVNode(\"\", true),\n              (currentEpisode.value)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n                    _createElementVNode(\"p\", _hoisted_5, _toDisplayString(\"Серия \" + currentEpisode.value.Number) + _toDisplayString(currentEpisode.value.Title ? (': ' + currentEpisode.value.Title) : \"\"), 1)\n                  ]))\n                : _createCommentVNode(\"\", true),\n              _createElementVNode(\"div\", _hoisted_6, [\n                _withDirectives(_createVNode(FilterChips, {\n                  class: \"m3-bg-2\",\n                  style: {\"color\":\"var(--primary40)\"},\n                  text: (_unref(mapContentTypeToRuStr)(content.value.Content.Type)).toString()\n                }, null, 8, [\"text\"]), [\n                  [_vShow, content.value.Content.Type]\n                ]),\n                _withDirectives(_createVNode(FilterChips, {\n                  class: \"m3-bg-2\",\n                  style: {\"color\":\"var(--primary40)\"},\n                  text: (_unref(mapContentStatusToRuStr)(content.value.Content.Status)).toString()\n                }, null, 8, [\"text\"]), [\n                  [_vShow, content.value.Content.Status]\n                ]),\n                _withDirectives(_createVNode(FilterChips, {\n                  class: \"m3-bg-2\",\n                  style: {\"color\":\"var(--primary40)\"},\n                  text: _unref(moment)(new Date(content.value.Content.ReleasedAt)).format('YYYY')\n                }, null, 8, [\"text\"]), [\n                  [_vShow, content.value.Content.ReleasedAt]\n                ]),\n                _withDirectives(_createVNode(FilterChips, {\n                  class: \"m3-bg-2\",\n                  style: {\"color\":\"var(--primary40)\"},\n                  text: content.value.Content.Country.toString()\n                }, null, 8, [\"text\"]), [\n                  [_vShow, content.value.Content.Country !== undefined]\n                ]),\n                _withDirectives(_createVNode(FilterChips, {\n                  class: \"m3-bg-2\",\n                  style: {\"color\":\"var(--primary40)\"},\n                  text: content.value.Content.MinAgeLimit.toString()+'+'\n                }, null, 8, [\"text\"]), [\n                  [_vShow, content.value.Content.MinAgeLimit > 0]\n                ]),\n                _withDirectives(_createVNode(FilterChips, {\n                  class: \"m3-bg-2\",\n                  style: {\"color\":\"var(--primary40)\"},\n                  text: content.value.Genres[0]?.Name\n                }, null, 8, [\"text\"]), [\n                  [_vShow, content.value.Genres?.length > 0]\n                ])\n              ])\n            ]),\n            (selectedTranslation.value)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                  (isSelectedVideoLinkValid.value)\n                    ? (_openBlock(), _createElementBlock(\"iframe\", {\n                        key: 0,\n                        class: \"episode__player\",\n                        src: selectedTranslation.value.Link,\n                        frameborder: \"0\",\n                        allow: \"autoplay; encrypted-media; fullscreen; picture-in-picture\",\n                        allowfullscreen: \"\"\n                      }, null, 8, _hoisted_8))\n                    : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _hoisted_11))\n                ]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        }))\n      : _createCommentVNode(\"\", true),\n    _withDirectives(_createElementVNode(\"div\", _hoisted_12, [\n      (previousEpisode.value)\n        ? (_openBlock(), _createBlock(_component_router_link, {\n            key: 0,\n            class: \"episode__move-button m-radius-16 column gap-8\",\n            to: {\r\n          name: 'episode',\r\n          params: {\r\n            content: _unref(contentId),\r\n            episode: previousEpisode.value.Id\r\n          }}\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_13, [\n                _createVNode(NavLeftArrowIcon),\n                _createTextVNode(\" Предыдущий эпизод \")\n              ]),\n              _createElementVNode(\"div\", _hoisted_14, \" Серия \" + _toDisplayString(previousEpisode.value.Number) + _toDisplayString((previousEpisode.value.Title ? \": \" + previousEpisode.value.Title : \"\")), 1)\n            ]),\n            _: 1\n          }, 8, [\"to\"]))\n        : _createCommentVNode(\"\", true),\n      (nextEpisode.value)\n        ? (_openBlock(), _createBlock(_component_router_link, {\n            key: 1,\n            class: \"episode__move-button m-radius-16 column gap-8\",\n            to: {\r\n          name: 'episode',\r\n          params: {\r\n            content: _unref(contentId),\r\n            episode: nextEpisode.value.Id\r\n          }}\n          }, {\n            default: _withCtx(() => [\n              _createElementVNode(\"div\", _hoisted_15, [\n                _createTextVNode(\" Следующий эпизод \"),\n                _createVNode(NavRightArrowIcon)\n              ]),\n              _createElementVNode(\"div\", _hoisted_16, \" Серия \" + _toDisplayString(nextEpisode.value.Number) + _toDisplayString((nextEpisode.value.Title ? \": \" + nextEpisode.value.Title : \"\")), 1)\n            ]),\n            _: 1\n          }, 8, [\"to\"]))\n        : _createCommentVNode(\"\", true)\n    ], 512), [\n      [_vShow, previousEpisode.value || nextEpisode.value]\n    ]),\n    (dataIsReady.value)\n      ? (_openBlock(), _createBlock(TranslationsListComponentV2, {\n          key: 1,\n          \"content-id\": _unref(contentId),\n          episodes: _unref(episodes),\n          \"episodes-total-count\": 0,\n          translators: _unref(mapToTranslators)(translations.value?.Translators ?? []),\n          \"selected-translator-id\": _unref(translationId),\n          \"onSortBy:update\": _cache[0] || (_cache[0] = (value) => {\r\n        episodesListParams.sortBy.value = value;\r\n        updateEpisodesList();\r\n      }),\n          \"onTranslator:update\": _cache[1] || (_cache[1] = (value) => {\r\n        episodesListParams.translator.value = value;\r\n        updateEpisodesList();\r\n      })\n        }, null, 8, [\"content-id\", \"episodes\", \"translators\", \"selected-translator-id\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"material episode__body-box gap-16\">\r\n    <BaseBackground\r\n      v-if=\"dataIsReady\"\r\n      :type=\"2\"\r\n      class=\"episode__main\"\r\n    >\r\n      <div class=\"episode__title-main\">\r\n        <router-link v-if=\"content\" :to=\"{ name: 'theater', params: { id: contentId }}\">\r\n          <p class=\"headline-medium episode__title\" style=\"color: var(--primary40)\">\r\n            {{ content.Content.Title }}\r\n          </p>\r\n        </router-link>\r\n\r\n        <div v-if=\"currentEpisode\">\r\n          <p class=\"title-medium episode__title\">\r\n            {{ \"Серия \" + currentEpisode.Number }}{{ currentEpisode.Title ? (': ' + currentEpisode.Title) : \"\" }}\r\n          </p>\r\n        </div>\r\n\r\n        <div class=\"episode__title-secondary dynamic\">\r\n          <filter-chips\r\n            v-show=\"content.Content.Type\"\r\n            class=\"m3-bg-2\"\r\n            style=\"color: var(--primary40)\"\r\n            :text=\"(mapContentTypeToRuStr(content.Content.Type)).toString()\"\r\n          />\r\n          <filter-chips\r\n            v-show=\"content.Content.Status\"\r\n            class=\"m3-bg-2\"\r\n            style=\"color: var(--primary40)\"\r\n            :text=\"(mapContentStatusToRuStr(content.Content.Status)).toString()\"\r\n          />\r\n          <filter-chips\r\n            v-show=\"content.Content.ReleasedAt\"\r\n            class=\"m3-bg-2\"\r\n            style=\"color: var(--primary40)\"\r\n            :text=\"moment(new Date(content.Content.ReleasedAt)).format('YYYY')\"\r\n          />\r\n          <filter-chips\r\n            v-show=\"content.Content.Country !== undefined\"\r\n            class=\"m3-bg-2\"\r\n            style=\"color: var(--primary40)\"\r\n            :text=\"content.Content.Country.toString()\"\r\n          />\r\n          <filter-chips\r\n            v-show=\"content.Content.MinAgeLimit > 0\"\r\n            class=\"m3-bg-2\"\r\n            style=\"color: var(--primary40)\"\r\n            :text=\"content.Content.MinAgeLimit.toString()+'+'\"\r\n          />\r\n          <filter-chips\r\n            v-show=\"content.Genres?.length > 0\"\r\n            class=\"m3-bg-2\"\r\n            style=\"color: var(--primary40)\"\r\n            :text=\"content.Genres[0]?.Name\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div v-if=\"selectedTranslation\" class=\"episode__video-main\">\r\n        <iframe\r\n          v-if=\"isSelectedVideoLinkValid\"\r\n          class=\"episode__player\"\r\n          :src=\"selectedTranslation.Link\"\r\n          frameborder=\"0\"\r\n          allow=\"autoplay; encrypted-media; fullscreen; picture-in-picture\"\r\n          allowfullscreen\r\n        />\r\n        <div v-else class=\"episode__video-unavailable m-border m-radius-16 v__center h__center m3-bg-5\">\r\n          <p class=\"title-large\">\r\n            Видео сейчас не доступно\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </BaseBackground>\r\n\r\n    <div v-show=\"previousEpisode || nextEpisode\" class=\"row gap-16\">\r\n      <router-link\r\n        v-if=\"previousEpisode\"\r\n        class=\"episode__move-button m-radius-16 column gap-8\"\r\n        :to=\"{\r\n          name: 'episode',\r\n          params: {\r\n            content: contentId,\r\n            episode: previousEpisode.Id\r\n          }}\"\r\n      >\r\n        <div class=\"title-medium row gap-8\">\r\n          <nav-left-arrow-icon />\r\n          Предыдущий эпизод\r\n        </div>\r\n        <div class=\"headline-small\">\r\n          Серия {{ previousEpisode.Number }}{{ (previousEpisode.Title ? \": \" + previousEpisode.Title : \"\") }}\r\n        </div>\r\n      </router-link>\r\n\r\n      <router-link\r\n        v-if=\"nextEpisode\"\r\n        class=\"episode__move-button m-radius-16 column gap-8\"\r\n        :to=\"{\r\n          name: 'episode',\r\n          params: {\r\n            content: contentId,\r\n            episode: nextEpisode.Id\r\n          }}\"\r\n      >\r\n        <div class=\"title-medium row gap-8\">\r\n          Следующий эпизод\r\n          <nav-right-arrow-icon />\r\n        </div>\r\n        <div class=\"headline-small\">\r\n          Серия {{ nextEpisode.Number }}{{ (nextEpisode.Title ? \": \" + nextEpisode.Title : \"\") }}\r\n        </div>\r\n      </router-link>\r\n    </div>\r\n\r\n    <translations-list-component-v2\r\n      v-if=\"dataIsReady\"\r\n      :content-id=\"contentId\"\r\n      :episodes=\"episodes\"\r\n      :episodes-total-count=\"0\"\r\n      :translators=\"mapToTranslators(translations?.Translators ?? [])\"\r\n      :selected-translator-id=\"translationId\"\r\n      @sort-by:update=\"(value) => {\r\n        episodesListParams.sortBy.value = value;\r\n        updateEpisodesList();\r\n      }\"\r\n      @translator:update=\"(value) => {\r\n        episodesListParams.translator.value = value;\r\n        updateEpisodesList();\r\n      }\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {inject, onMounted, ref, watch} from \"vue\";\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport {V1GetFullContentEpisode} from \"@/api/Responses/V1GetFullContentResponse\";\r\nimport {TranslationService} from \"@/api/TranslationService\"\r\nimport {useRoute} from \"vue-router\";\r\nimport moment from \"moment/moment\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport {V1GetByEpisodeRequest} from \"@/api/Requests/V1GetByEpisodeRequest\";\r\nimport {\r\n  V1GetByEpisodeResponse,\r\n  V1GetByEpisodeResponseEpisode,\r\n  V1GetByEpisodeResponseTranslation\r\n} from \"@/api/Responses/V1GetByEpisodeResponse\";\r\nimport {V1GetByQueryResponseContent} from \"@/api/Requests/V1GetByQueryResponse\";\r\nimport {V1GetByQueryRequest, V1GetByQuerySearchFilters} from \"@/api/Requests/V1GetByQueryRequest\";\r\nimport {ContentSelectedInfo} from \"@/api/Enums/ContentSelectedInfo\";\r\nimport {EpisodeService} from \"@/api/EpisodeService\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport {mapContentTypeToRuStr} from \"@/api/Enums/ContentType\";\r\nimport {mapContentStatusToRuStr} from \"@/api/Enums/ContentStatus\";\r\nimport TranslationsListComponentV2 from \"@/components/UseReadyComponents/EpisodesList/TranslationsListComponentV2.vue\";\r\nimport {\r\n  ALL_FILTER,\r\n  EpisodeOrderType,\r\n  mapToEpisodeOrderType,\r\n  mapToEpisodes,\r\n  mapToTranslators,\r\n  Order,\r\n  Translation\r\n} from \"@/components/UseReadyComponents/EpisodesList/TranslationsListViewModel\";\r\nimport NavLeftArrowIcon from \"@/components/Icons/MaterialIcons/NavLeftArrowIcon.vue\";\r\nimport NavRightArrowIcon from \"@/components/Icons/MaterialIcons/NavRightArrowIcon.vue\";\r\n\r\n\r\nconst route = useRoute();\r\nlet episodeId = route.params.episode as number;\r\nlet contentId = route.params.content as number;\r\n\r\nconsole.log(\"EPISODE: \" + episodeId + \"\\nCONTENT: \" + contentId);\r\n\r\nlet translationId = +route.params.translation > 0 ? (+route.params.translation) : 1;\r\n\r\nconst contentService: ContentService = inject('content-service');\r\nconst translationService: TranslationService = inject('translation-service');\r\nconst episodeService: EpisodeService = inject('episode-service');\r\n\r\nconst dataIsReady = ref<boolean>(false);\r\nconst content = ref<V1GetByQueryResponseContent>(null);\r\nconst translations = ref<V1GetByEpisodeResponse>(null);\r\nconst previousEpisode = ref<V1GetFullContentEpisode | null>(null);\r\nconst currentEpisode = ref<V1GetFullContentEpisode>(null);\r\nconst nextEpisode = ref<V1GetFullContentEpisode | null>(null);\r\nconst selectedTranslation = ref<V1GetByEpisodeResponseTranslation>(null);\r\nconst isSelectedVideoLinkValid = ref<boolean>(false);\r\n\r\nlet episodes: Translation[] = [];\r\nconst episodesListParams = {\r\n  translator: ref<string>(),\r\n  sortBy: ref<string>(Order.ByNumber)\r\n};\r\n\r\nonMounted(async() => {\r\n  await SetContents()\r\n  await updateEpisodesList();\r\n});\r\n\r\nasync function updateEpisodesList() {\r\n  let translatorId = null\r\n  if (episodesListParams.translator.value) {\r\n    if (episodesListParams.translator.value === ALL_FILTER) {\r\n      translatorId = null;\r\n    } else {\r\n      const translator = translations.value.Translators.find(x => x.Name === episodesListParams.translator.value);\r\n      translatorId = translator.Id;\r\n    }\r\n  }\r\n\r\n  console.log(episodesListParams.sortBy.value as Order);\r\n\r\n  const request = new V1GetByEpisodeRequest(\r\n    contentId,\r\n    null,\r\n    translatorId,\r\n    mapToEpisodeOrderType(episodesListParams.sortBy.value as Order)\r\n  );\r\n\r\n  translations.value = await translationService.V1GetByEpisodeAsync(request);\r\n  episodes = mapToEpisodes(translations.value.Episodes);\r\n}\r\n\r\nasync function SetContents() {\r\n  nextEpisode.value = null;\r\n  previousEpisode.value = null;\r\n  const request = new V1GetByQueryRequest();\r\n  const filters = new V1GetByQuerySearchFilters();\r\n  request.SelectedInfo = ContentSelectedInfo.Episodes;\r\n  filters.ContentIds = new Array<number>(contentId);\r\n  request.Filters = filters;\r\n\r\n  contentId = route.params.content as number;\r\n  episodeId = route.params.episode as number;\r\n  translationId = +route.params.translation > 0 ? (+route.params.translation) : 0;\r\n  dataIsReady.value = false;\r\n\r\n  const contentsResponse = await contentService.V1GetByQuery(request)\r\n  if (contentsResponse.Content.length !== 1) {\r\n    const error = new Error();\r\n    error.message = \"Content not found exception\";\r\n    throw error;\r\n  }\r\n\r\n  content.value = contentsResponse.Content.find(x => x.Content.Id == contentId);\r\n  const translationsRequest = new V1GetByEpisodeRequest(contentId, null, null, EpisodeOrderType.ByNumber);\r\n  translations.value = await translationService.V1GetByEpisodeAsync(translationsRequest);\r\n  currentEpisode.value = content.value.Episodes.find(value => value.Id == episodeId);\r\n  selectedTranslation.value = getCurrentEpisodeTranslation(translationId, translations.value.Episodes);\r\n\r\n  const orderedEpisodes = translations.value.Episodes.sort(value => value.Number);\r\n  for (let index = 0; index < orderedEpisodes.length; index++) {\r\n    const episode = orderedEpisodes[index];\r\n    if (episode.Number === currentEpisode.value.Number) {\r\n      if (index != 0) {\r\n        previousEpisode.value = orderedEpisodes[index - 1];\r\n      }\r\n\r\n      if (index != orderedEpisodes.length - 1) {\r\n        nextEpisode.value = orderedEpisodes[index + 1];\r\n      }\r\n    }\r\n  }\r\n\r\n  await validateVideoLink();\r\n  await episodeService.incrementViews(episodeId);\r\n  dataIsReady.value = true;\r\n}\r\n\r\nasync function validateVideoLink() {\r\n  if (selectedTranslation.value.Link) {\r\n    try {\r\n      console.log(selectedTranslation.value.Link);\r\n      await fetch(selectedTranslation.value.Link, { mode: 'no-cors'})\r\n        .then((resp) => {\r\n          let status = true;\r\n          if (!resp.ok || resp.status != 200) status = false;\r\n          if (resp.type == \"opaque\") status = true;\r\n\r\n          isSelectedVideoLinkValid.value = status;\r\n        });\r\n\r\n      console.log(\"Site status: \" + isSelectedVideoLinkValid.value);\r\n    }\r\n    catch (exception) {\r\n      console.log(exception);\r\n      isSelectedVideoLinkValid.value = false;\r\n    }\r\n  }\r\n}\r\n\r\nfunction getCurrentEpisodeTranslation(\r\n  pathTranslationId: number,\r\n  episodesWithTranslations: V1GetByEpisodeResponseEpisode[]) : V1GetByEpisodeResponseTranslation {\r\n\r\n  if (episodesWithTranslations.length === 0) {\r\n    throw new Error(\"Translations not found! (1)\")\r\n  }\r\n\r\n  const episode = episodesWithTranslations.find(episode => episode.Id == episodeId);\r\n  if (episode.Translations.length === 0) {\r\n    throw new Error(\"Translations not found! (2)\")\r\n  }\r\n\r\n  if (pathTranslationId > 0) {\r\n    const selectedTranslator = episode.Translations.find(translation => translation.Id === pathTranslationId);\r\n    if (selectedTranslator != undefined) {\r\n      return selectedTranslator;\r\n    }\r\n  }\r\n\r\n  // as default;\r\n  return episode.Translations[0];\r\n}\r\n\r\nwatch(() => route.params.episode, async () => {\r\n  if (!route.params.episode) {\r\n    return;\r\n  }\r\n\r\n  await SetContents();\r\n})\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.episode {\r\n  &__move-button {\r\n    background: white;\r\n    padding: 24px;\r\n    width: 100%;\r\n    text-align: start;\r\n    justify-content: center;\r\n    transition: background-color .3s cubic-bezier(.2,0,0,1);\r\n\r\n    &:hover {\r\n      color: var(--on-secondary-container-light);\r\n      background: var(--secondary-container-light);\r\n    }\r\n  }\r\n\r\n  &__video-unavailable {\r\n    display: flex;\r\n    padding: 20px;\r\n    margin: 16px;\r\n    width: 100%;\r\n  }\r\n\r\n  &__body-box {\r\n    display: grid;\r\n    grid-template-rows: max-content;\r\n    padding-bottom: 20px;\r\n    padding-top: 20px;\r\n  }\r\n\r\n  &__main {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    height: fit-content;\r\n    overflow: hidden;\r\n  }\r\n\r\n  &__title-main {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 8px;\r\n    width: 100%;\r\n    padding: 20px;\r\n  }\r\n\r\n  &__player-box {\r\n    border-top: 1px solid var(--font-gray-v2);\r\n  }\r\n\r\n  &__player {\r\n    width: 100%;\r\n    height: 607.5px;\r\n  }\r\n\r\n  &__title {\r\n    text-align: left;\r\n\r\n    padding: 0;\r\n    margin: 0;\r\n  }\r\n\r\n  &__icon-style {\r\n    color: var(--primary);\r\n\r\n    &:hover {\r\n      cursor: pointer;\r\n      color: var(--secondary);\r\n    }\r\n  }\r\n\r\n  &__title-secondary {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n    gap: 12px;\r\n    color: var(--font-gray-v4);\r\n    font-weight: 700;\r\n    font-size: 14px;\r\n\r\n    & p {\r\n      margin: 0;\r\n    }\r\n  }\r\n\r\n  &__title-rating {\r\n    background: var(--secondary);\r\n    color: #FFF;\r\n    padding: 4px;\r\n    border-radius: 4px;\r\n  }\r\n\r\n  &__video {\r\n    width: 100%;\r\n    height: 600px;\r\n  }\r\n\r\n  &__video-main {\r\n    display: flex;\r\n    width: 100%;\r\n    flex-direction: row;\r\n  }\r\n\r\n  &__video-translations {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n    width: 100%;\r\n    max-height: inherit;\r\n  }\r\n\r\n  &__video-tabs {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 2fr);\r\n    border-bottom: 1px solid var(--font-gray-v1);\r\n  }\r\n\r\n  &__video-translate {\r\n    font-weight: 500;\r\n    color: var(--font-gray);\r\n    text-align: start;\r\n    border-radius: 0;\r\n    padding-left: 20px;\r\n    padding-right: 20px;\r\n    transition: none;\r\n\r\n    &:hover {\r\n      background: var(--white);\r\n      text-decoration: underline;\r\n      color: var(--primary);\r\n      text-underline: var(--primary);\r\n      border: none;\r\n    }\r\n  }\r\n  \r\n  &__episodes {\r\n    display: grid;\r\n  }\r\n}\r\n\r\n</style>","import script from \"./EpisodeView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./EpisodeView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./EpisodeView.vue?vue&type=style&index=0&id=61de73ec&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-61de73ec\"]])\n\nexport default __exports__","export enum SettingsPageTypes {\r\n    Edits = 2,\r\n    CreateContent = 3,\r\n    CreateEpisode = 4,\r\n    EditContent = 5,\r\n    EditEpisode = 6,\r\n}","<template>\r\n  <svg\r\n    width=\"24\" height=\"24\"\r\n    viewBox=\"0 0 24 24\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M9.17 6L11.17 8H20V18H4V6H9.17ZM10 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6H12L10 4Z\" fill=\"currentColor\" />\r\n  </svg>\r\n</template>","import { render } from \"./FolderIcon.vue?vue&type=template&id=2d45bb93\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"24\" height=\"24\"\r\n    viewBox=\"0 0 24 24\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      d=\"M13 11H11V14H8V16H11V19H13V16H16V14H13V11ZM14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./AddNote.vue?vue&type=template&id=25578fee\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"24\" height=\"24\"\r\n    viewBox=\"0 0 24 24\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      d=\"M4 6H2V20C2 21.1 2.9 22 4 22H18V20H4V6ZM20 2H8C6.9 2 6 2.9 6 4V16C6 17.1 6.9 18 8 18H20C21.1 18 22 17.1 22 16V4C22 2.9 21.1 2 20 2ZM20 16H8V4H20V16ZM13 14H15V11H18V9H15V6H13V9H10V11H13V14Z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./AddLibraryIcon.vue?vue&type=template&id=0fea46ee\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, unref as _unref, vShow as _vShow, withDirectives as _withDirectives, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-5db863ca\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"material settings-nav__container\" }\nconst _hoisted_2 = { class: \"settings-nav__category\" }\nconst _hoisted_3 = { class: \"settings-nav__label row gap-12 padding-8\" }\nconst _hoisted_4 = { class: \"text__one-line\" }\n\nimport {SettingsPageTypes} from \"@/models/SettingsPageTypes\";\r\nimport {computed, onBeforeUnmount, onMounted, ref, watch} from \"vue\";\r\nimport MenuIcon from \"@/components/Icons/MenuIcon.vue\";\r\nimport FolderIcon from \"@/components/Icons/FolderIcon.vue\";\r\nimport AddNote from \"@/components/Icons/AddNote.vue\";\r\nimport AddLibraryIcon from \"@/components/Icons/AddLibraryIcon.vue\";\r\nimport IconButton from \"@/components/Base/Buttons/IconButton.vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SettingsNavigation',\n  props: {\r\n  current: {type: SettingsPageTypes, required: true}\r\n},\n  setup(__props) {\n\r\nconst props = __props;\r\n\r\nconst screenWidth = ref(window.innerWidth)\r\nconst refCurrent = ref<SettingsPageTypes>(props.current);\r\nconst isMobile = computed(() => screenWidth.value <= 720)\r\n\r\nwatch(() => props.current, (newValue) => {\r\n  refCurrent.value = newValue;\r\n});\r\n\r\nconst handleResize = () => {screenWidth.value = window.innerWidth}\r\n\r\nonMounted(() => {\r\n  window.addEventListener('resize', handleResize)\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  window.removeEventListener('resize', handleResize)\r\n})\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createVNode(MenuIcon)\n      ]),\n      _createVNode(_component_router_link, {\n        class: _normalizeClass([{'settings-nav__button-selected': refCurrent.value === _unref(SettingsPageTypes).Edits}, \"settings-nav__button m-radius-circle\"]),\n        to: \"/edit/list\"\n      }, {\n        default: _withCtx(() => [\n          _createVNode(FolderIcon),\n          _withDirectives(_createElementVNode(\"div\", _hoisted_4, \" Изменения \", 512), [\n            [_vShow, !isMobile.value]\n          ])\n        ]),\n        _: 1\n      }, 8, [\"class\"]),\n      _createVNode(_component_router_link, {\n        class: _normalizeClass([{'settings-nav__button-selected':\r\n          refCurrent.value === _unref(SettingsPageTypes).EditContent ||\r\n          refCurrent.value === _unref(SettingsPageTypes).CreateContent}, \"settings-nav__button m-radius-circle\"]),\n        to: {name: 'create-content'}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(AddNote),\n          _withDirectives(_createElementVNode(\"div\", null, \" Добавить контент \", 512), [\n            [_vShow, !isMobile.value]\n          ])\n        ]),\n        _: 1\n      }, 8, [\"class\"]),\n      _createVNode(_component_router_link, {\n        class: _normalizeClass([{'settings-nav__button-selected':\r\n          refCurrent.value === _unref(SettingsPageTypes).EditEpisode ||\r\n          refCurrent.value === _unref(SettingsPageTypes).CreateEpisode}, \"settings-nav__button m-radius-circle\"]),\n        to: {name: 'create-episode'}\n      }, {\n        default: _withCtx(() => [\n          _createVNode(AddLibraryIcon),\n          _withDirectives(_createElementVNode(\"div\", null, \" Добавить эпизод \", 512), [\n            [_vShow, !isMobile.value]\n          ])\n        ]),\n        _: 1\n      }, 8, [\"class\"])\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"material settings-nav__container\">\r\n    <div class=\"settings-nav__category\">\r\n      <div class=\"settings-nav__label row gap-12 padding-8\">\r\n        <menu-icon />\r\n      </div>\r\n\r\n      <router-link\r\n        :class=\"{'settings-nav__button-selected': refCurrent === SettingsPageTypes.Edits}\"\r\n        class=\"settings-nav__button m-radius-circle\"\r\n        to=\"/edit/list\"\r\n      >\r\n        <folder-icon />\r\n        <div v-show=\"!isMobile\" class=\"text__one-line\">\r\n          Изменения\r\n        </div>\r\n      </router-link>\r\n      <router-link\r\n        :class=\"{'settings-nav__button-selected':\r\n          refCurrent === SettingsPageTypes.EditContent ||\r\n          refCurrent === SettingsPageTypes.CreateContent}\"\r\n        class=\"settings-nav__button m-radius-circle\"\r\n        :to=\"{name: 'create-content'}\"\r\n      >\r\n        <add-note />\r\n        <div v-show=\"!isMobile\">\r\n          Добавить контент\r\n        </div>\r\n      </router-link>\r\n      <router-link\r\n        :class=\"{'settings-nav__button-selected':\r\n          refCurrent === SettingsPageTypes.EditEpisode ||\r\n          refCurrent === SettingsPageTypes.CreateEpisode}\"\r\n        class=\"settings-nav__button m-radius-circle\"\r\n        :to=\"{name: 'create-episode'}\"\r\n      >\r\n        <add-library-icon />\r\n        <div v-show=\"!isMobile\">\r\n          Добавить эпизод\r\n        </div>\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport {SettingsPageTypes} from \"@/models/SettingsPageTypes\";\r\nimport {computed, onBeforeUnmount, onMounted, ref, watch} from \"vue\";\r\nimport MenuIcon from \"@/components/Icons/MenuIcon.vue\";\r\nimport FolderIcon from \"@/components/Icons/FolderIcon.vue\";\r\nimport AddNote from \"@/components/Icons/AddNote.vue\";\r\nimport AddLibraryIcon from \"@/components/Icons/AddLibraryIcon.vue\";\r\nimport IconButton from \"@/components/Base/Buttons/IconButton.vue\";\r\n\r\nconst props = defineProps({\r\n  current: {type: SettingsPageTypes, required: true}\r\n});\r\n\r\nconst screenWidth = ref(window.innerWidth)\r\nconst refCurrent = ref<SettingsPageTypes>(props.current);\r\nconst isMobile = computed(() => screenWidth.value <= 720)\r\n\r\nwatch(() => props.current, (newValue) => {\r\n  refCurrent.value = newValue;\r\n});\r\n\r\nconst handleResize = () => {screenWidth.value = window.innerWidth}\r\n\r\nonMounted(() => {\r\n  window.addEventListener('resize', handleResize)\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  window.removeEventListener('resize', handleResize)\r\n})\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.settings-nav {\r\n  &__container {\r\n    display: grid;\r\n    grid-template-rows: min-content;\r\n    height: fit-content;\r\n    background: var(--surface-container-lowest100);\r\n    margin-top: 20px;\r\n    padding: 12px;\r\n    border-radius: 16px;\r\n  }\r\n\r\n  &__vertical-splitter {\r\n    width: 100%;\r\n    height: 1px;\r\n    background: var(--font-gray-v2);\r\n  }\r\n\r\n  &__label {\r\n    display: flex;\r\n    height: 56px;\r\n\r\n    text-align: start;\r\n    align-items: center;\r\n    padding-left: 16px;\r\n  }\r\n\r\n  &__category {\r\n    display: flex;\r\n    height: fit-content;\r\n    align-items: stretch;\r\n    text-align: start;\r\n  }\r\n\r\n  &__button {\r\n    display: flex;\r\n    height: 56px;\r\n\r\n    padding-left: 16px;\r\n    padding-right: 16px;\r\n    justify-content: start;\r\n    align-items: center;\r\n    gap: 12px;\r\n    transition: background-color 0.25s;\r\n\r\n    color: var(--on-surface-variant-light);\r\n\r\n    &-selected {\r\n      color: var(--on-secondary-container-light);\r\n      background: var(--secondary-container-light);\r\n    }\r\n\r\n    &:hover {\r\n      cursor: pointer;\r\n      color: var(--on-secondary-container-light);\r\n      background: var(--secondary-container-light);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  &__category-box {\r\n    display: grid;\r\n    padding-bottom: 10px;\r\n  }\r\n}\r\n</style>","import script from \"./SettingsNavigation.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SettingsNavigation.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SettingsNavigation.vue?vue&type=style&index=0&id=5db863ca&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5db863ca\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-2a9c0749\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"time-picker__box\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"time-picker__label\"\n}\n\nimport {ref, watch} from 'vue';\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TimePicker',\n  props: {\r\n  label: {type: String, required: false, default: null},\r\n  modelValue: {type: String, default: null}\r\n},\n  emits: [\"update:modelValue\"],\n  setup(__props, { emit: __emit }) {\n\r\nconst emits = __emit\r\n\r\nconst props = __props;\r\n\r\nfunction onChange(input: string) {\r\n  emits('update:modelValue', input);\r\n}\r\n\r\nconst refModel = ref<string>(props.modelValue);\r\n\r\nwatch(() => props.modelValue, (newValue) =>  {\r\n  refModel.value = newValue;\r\n})\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (__props.label)\n      ? (_openBlock(), _createElementBlock(\"label\", _hoisted_2, _toDisplayString(__props.label), 1))\n      : _createCommentVNode(\"\", true),\n    _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((refModel).value = $event)),\n      type: \"time\",\n      class: \"material time-picker\",\n      onInput: _cache[1] || (_cache[1] = ($event: any) => (onChange(refModel.value)))\n    }, null, 544), [\n      [_vModelText, refModel.value]\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"time-picker__box\">\r\n    <label v-if=\"label\" class=\"time-picker__label\">{{ label }}</label>\r\n    <input\r\n      v-model=\"refModel\"\r\n      type=\"time\"\r\n      class=\"material time-picker\"\r\n      @input=\"onChange(refModel)\"\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {defineEmits, defineProps, ref, watch} from 'vue';\r\n\r\nconst emits = defineEmits<{(emit: 'update:modelValue', value: string)}>()\r\n\r\nconst props = defineProps({\r\n  label: {type: String, required: false, default: null},\r\n  modelValue: {type: String, default: null}\r\n});\r\n\r\nfunction onChange(input: string) {\r\n  emits('update:modelValue', input);\r\n}\r\n\r\nconst refModel = ref<string>(props.modelValue);\r\n\r\nwatch(() => props.modelValue, (newValue) =>  {\r\n  refModel.value = newValue;\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.time-picker {\r\n  display: grid;\r\n  height: 48px;\r\n\r\n  padding: 6px 10px 6px 10px;\r\n\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  text-align: center;\r\n  justify-content: center;\r\n\r\n  background: none;\r\n  text-decoration: none;\r\n  border: none;\r\n  outline: none;\r\n  transition: outline-width 0.3s, outline-color 0.3s;\r\n\r\n  &::-webkit-calendar-picker-indicator {\r\n    display: none;\r\n  }\r\n\r\n  &__box {\r\n    display: grid;\r\n    position: relative;\r\n    height: 48px;\r\n    background: none;\r\n  }\r\n\r\n  &__label {\r\n    background: white;\r\n    position: absolute;\r\n    left: 12px;\r\n    top: -9px;\r\n    width: fit-content;\r\n\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 12px;\r\n    line-height: 16px;\r\n    padding-left: 4px;\r\n    padding-right: 4px;\r\n  }\r\n}\r\n</style>","import script from \"./TimePicker.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TimePicker.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TimePicker.vue?vue&type=style&index=0&id=2a9c0749&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2a9c0749\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1a605816\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"input__box\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"input__label\"\n}\n\nimport {ref, watch} from \"vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'DatePicker',\n  props: {\r\n  label: {type: String, required: false, default: null},\r\n  modelValue: {type: String, default: null},\r\n},\n  emits: [\"update:modelValue\"],\n  setup(__props, { emit: __emit }) {\n\r\nconst emits = __emit;\r\n\r\nconst props = __props;\r\n\r\nconst refModelValue = ref<string>(props.modelValue);\r\n\r\nfunction onInput(value: string) {\r\n  emits('update:modelValue', value);\r\n}\r\n\r\nwatch(() => props.modelValue, (newValue: string) => {\r\n  refModelValue.value = newValue;\r\n})\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (__props.label)\n      ? (_openBlock(), _createElementBlock(\"label\", _hoisted_2, _toDisplayString(__props.label), 1))\n      : _createCommentVNode(\"\", true),\n    _withDirectives(_createElementVNode(\"input\", {\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((refModelValue).value = $event)),\n      type: \"date\",\n      class: \"material input\",\n      onInput: _cache[1] || (_cache[1] = ($event: any) => (onInput($event.target.value)))\n    }, null, 544), [\n      [_vModelText, refModelValue.value]\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"input__box\">\r\n    <label v-if=\"label\" class=\"input__label\">{{ label }}</label>\r\n    <input\r\n      v-model=\"refModelValue\"\r\n      type=\"date\"\r\n      class=\"material input\"\r\n      @input=\"onInput($event.target.value)\"\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {ref, watch} from \"vue\";\r\n\r\nconst emits = defineEmits<{(emit: 'update:modelValue', value: string)}>();\r\n\r\nconst props = defineProps({\r\n  label: {type: String, required: false, default: null},\r\n  modelValue: {type: String, default: null},\r\n});\r\n\r\nconst refModelValue = ref<string>(props.modelValue);\r\n\r\nfunction onInput(value: string) {\r\n  emits('update:modelValue', value);\r\n}\r\n\r\nwatch(() => props.modelValue, (newValue: string) => {\r\n  refModelValue.value = newValue;\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.input {\r\n  display: grid;\r\n  height: 48px;\r\n\r\n  padding: 6px 10px 6px 10px;\r\n\r\n  font-style: normal;\r\n  font-weight: 400;\r\n  font-size: 16px;\r\n  line-height: 24px;\r\n  text-align: center;\r\n  justify-content: center;\r\n\r\n  background: none;\r\n  text-decoration: none;\r\n  border: none;\r\n  outline: none;\r\n  transition: outline-width 0.3s, outline-color 0.3s;\r\n\r\n  &:hover {\r\n    outline: none;\r\n  }\r\n\r\n  &:focus-within {\r\n    outline: none;\r\n  }\r\n\r\n  &::-webkit-calendar-picker-indicator {\r\n    display: none;\r\n  }\r\n\r\n  &__box {\r\n    display: grid;\r\n    position: relative;\r\n    height: 48px;\r\n  }\r\n\r\n  &__label {\r\n    background: white;\r\n    position: absolute;\r\n    left: 12px;\r\n    top: -9px;\r\n    width: fit-content;\r\n\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 12px;\r\n    line-height: 16px;\r\n    padding-left: 4px;\r\n    padding-right: 4px;\r\n  }\r\n}\r\n</style>","import script from \"./DatePicker.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./DatePicker.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./DatePicker.vue?vue&type=style&index=0&id=1a605816&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1a605816\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-49001d58\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  class: \"textarea__label\"\n}\nconst _hoisted_2 = [\"value\", \"placeholder\"]\n\n\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseTextArea',\n  props: {\r\n  label: {type: String, required: false, default: null},\r\n  modelValue: {type: String, default: \"\"},\r\n  markAsInvalidInput: {type: Boolean, default: false},\r\n  placeholder: {type: String, default: null}\r\n},\n  emits: ['update:modelValue'],\n  setup(__props) {\n\r\n\r\nconst props = __props;\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"textarea__box m-radius-1\", {'textarea__invalid-box': __props.markAsInvalidInput }])\n  }, [\n    (__props.label)\n      ? (_openBlock(), _createElementBlock(\"label\", _hoisted_1, _toDisplayString(__props.label), 1))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"textarea\", {\n      value: __props.modelValue,\n      class: \"textarea__text-area body-medium material textarea__text-area\",\n      placeholder: __props.placeholder,\n      onInput: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('update:modelValue', $event.target.value)))\n    }, null, 40, _hoisted_2)\n  ], 2))\n}\n}\n\n})","import script from \"./BaseTextArea.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./BaseTextArea.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./BaseTextArea.vue?vue&type=style&index=0&id=49001d58&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-49001d58\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <svg\r\n      width=\"24px\" height=\"24px\"\r\n      viewBox=\"0 0 24 24\" fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        opacity=\"0.1\" d=\"M3 12C3 4.5885 4.5885 3 12 3C19.4115 3 21 4.5885 21 12C21 19.4115 19.4115 21 12 21C4.5885 21 3 19.4115 3 12Z\"\r\n        fill=\"#323232\"\r\n      />\r\n      <path\r\n        d=\"M3 12C3 4.5885 4.5885 3 12 3C19.4115 3 21 4.5885 21 12C21 19.4115 19.4115 21 12 21C4.5885 21 3 19.4115 3 12Z\" stroke=\"#323232\"\r\n        stroke-width=\"2\"\r\n      />\r\n      <path\r\n        d=\"M12 8L12 16\" stroke=\"#323232\"\r\n        stroke-width=\"2\" stroke-linecap=\"round\"\r\n        stroke-linejoin=\"round\"\r\n      />\r\n      <path\r\n        d=\"M15 11L12.087 8.08704V8.08704C12.039 8.03897 11.961 8.03897 11.913 8.08704V8.08704L9 11\" stroke=\"#323232\"\r\n        stroke-width=\"2\" stroke-linecap=\"round\"\r\n        stroke-linejoin=\"round\"\r\n      />\r\n    </svg>\r\n  </div>\r\n</template>","import { render } from \"./UploadArrow.vue?vue&type=template&id=1ce07263\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"column image-input__box image-input v__center h__center\" }\n\nimport UploadArrow from \"@/components/Icons/UploadArrow.vue\";\r\nimport {ref} from \"vue\";\r\nimport {defineEmits} from \"vue/dist/vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'BaseImageInput',\n  emits: [\"on:update\"],\n  setup(__props, { emit: __emit }) {\n\r\nconst emits = __emit\r\n\r\nconst imageUrl = ref<string | null>(null)\r\n\r\nfunction onChange(event) {\r\n  imageUrl.value = URL.createObjectURL(event.target.files[0]);\r\n  emits(\"on:update\", event.target.files[0], imageUrl.value);\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"label\", _hoisted_1, [\n    _createVNode(UploadArrow),\n    _createElementVNode(\"input\", {\n      ref: \"image\",\n      type: \"file\",\n      accept: \".jpg, .jpeg, .png\",\n      alt: \"Выберите изображение\",\n      style: {\"display\":\"none\"},\n      onChange: onChange\n    }, null, 544),\n    _createTextVNode(\" Выберите изображение \")\n  ]))\n}\n}\n\n})","<template>\r\n  <label class=\"column image-input__box image-input v__center h__center\">\r\n    <UploadArrow />\r\n    <input\r\n      ref=\"image\"\r\n      type=\"file\"\r\n      accept=\".jpg, .jpeg, .png\"\r\n      alt=\"Выберите изображение\"\r\n      style=\"display:none;\"\r\n      @change=\"onChange\"\r\n    >\r\n    Выберите изображение\r\n  </label>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport UploadArrow from \"@/components/Icons/UploadArrow.vue\";\r\nimport {ref} from \"vue\";\r\nimport {defineEmits} from \"vue/dist/vue\";\r\n\r\nconst emits = defineEmits<{\r\n  (emitName: 'on:update', image: ArrayBufferLike, imageUrl: string) : void\r\n}>()\r\n\r\nconst imageUrl = ref<string | null>(null)\r\n\r\nfunction onChange(event) {\r\n  imageUrl.value = URL.createObjectURL(event.target.files[0]);\r\n  emits(\"on:update\", event.target.files[0], imageUrl.value);\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.image-input {\r\n  &__box {\r\n    padding: 20px;\r\n    border-radius: 6px;\r\n    transition: 0.25s;\r\n    // https://kovart.github.io/dashed-border-generator/\r\n    background-image: url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='6' ry='6' stroke='%23AAA' stroke-width='2' stroke-dasharray='10%2c 8' stroke-dashoffset='46' stroke-linecap='round'/%3e%3c/svg%3e\");\r\n  }\r\n  &:hover {\r\n    background-image: url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='6' ry='6' stroke='%23577399FF' stroke-width='2' stroke-dasharray='10%2c 8' stroke-dashoffset='46' stroke-linecap='round'/%3e%3c/svg%3e\");\r\n  }\r\n\r\n  &__image {\r\n    width: auto;\r\n    max-width: 100%;\r\n    height: auto;\r\n    border-radius: 6px;\r\n  }\r\n\r\n  &__image-container {\r\n    display: flex;\r\n    flex-direction: row;\r\n    width: 100%;\r\n    overflow: auto;\r\n    scrollbar-width: none;\r\n    justify-content: flex-start;\r\n  }\r\n}\r\n</style>","import script from \"./BaseImageInput.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BaseImageInput.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./BaseImageInput.vue?vue&type=style&index=0&id=2872e644&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vShow as _vShow, withDirectives as _withDirectives, createTextVNode as _createTextVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-02959223\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"content-edit__right-box m-radius-16\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"title-large content-edit__header\" }, \" Основная информация \", -1))\nconst _hoisted_3 = { class: \"content-edit__unit-box\" }\nconst _hoisted_4 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"content-edit__details\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Изображение \"),\n  /*#__PURE__*/_createElementVNode(\"label\", { class: \"body-medium\" }, \"Выберите изображение для главной страницы содержимого\")\n], -1))\nconst _hoisted_5 = { class: \"content-edit__images-box fit-content row gap-16\" }\nconst _hoisted_6 = [\"src\"]\nconst _hoisted_7 = [\"src\"]\nconst _hoisted_8 = { class: \"content-edit__unit-box\" }\nconst _hoisted_9 = { class: \"content-edit__box-activities-column\" }\nconst _hoisted_10 = { class: \"content-edit__box-activities row gap-16\" }\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Название* \", -1))\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Статус* \", -1))\nconst _hoisted_13 = { class: \"content-edit__buttons-rowed\" }\nconst _hoisted_14 = { class: \"content-edit__unit-box\" }\nconst _hoisted_15 = { class: \"content-edit__box-activities\" }\nconst _hoisted_16 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Страна* \", -1))\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", { class: \"body-large\" }, \" Тип дорамы* \", -1))\nconst _hoisted_18 = { class: \"content-edit__unit-box\" }\nconst _hoisted_19 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"content-edit__details\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Описание* \")\n], -1))\nconst _hoisted_20 = { class: \"content-edit__unit-box\" }\nconst _hoisted_21 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"content-edit__details\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Жанры \"),\n  /*#__PURE__*/_createElementVNode(\"label\", { class: \"body-medium\" }, [\n    /*#__PURE__*/_createTextVNode(\" * Подсказка: детектив, драма, триллер\"),\n    /*#__PURE__*/_createElementVNode(\"br\"),\n    /*#__PURE__*/_createTextVNode(\" * Вводите жанры через пробел \")\n  ])\n], -1))\nconst _hoisted_22 = { class: \"column gap-8\" }\nconst _hoisted_23 = { class: \"content-edit__genres-selected row gap-8\" }\nconst _hoisted_24 = { class: \"content-edit__unit-box\" }\nconst _hoisted_25 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"content-edit__box-activities\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Длительность эпизода \"),\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Дата релиза \")\n], -1))\nconst _hoisted_26 = { class: \"content-edit__box-activities\" }\nconst _hoisted_27 = { class: \"content-edit__unit-box\" }\nconst _hoisted_28 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"content-edit__box-activities\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Планируемое количество серий \"),\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Возрастное ограничение \")\n], -1))\nconst _hoisted_29 = { class: \"content-edit__box-activities\" }\nconst _hoisted_30 = { class: \"content-edit__buttons-box\" }\n\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport TimePicker from \"@/components/Base/TimePicker.vue\";\r\nimport YearPicker from \"@/components/Base/DatePicker.vue\";\r\nimport BaseTextArea from \"@/components/Base/BaseTextArea.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport {Country} from \"@/api/Enums/Country\";\r\nimport {ContentType} from \"@/api/Enums/ContentType\";\r\nimport BaseTextButton from \"@/components/Base/BaseTextButton.vue\";\r\nimport {computed, inject, onMounted, PropType, ref} from \"vue\";\r\nimport BaseImageInput from \"@/components/Base/BaseImageInput.vue\";\r\nimport {ImageService} from \"@/api/ImageService\";\r\nimport {ChangesHistoryService} from \"@/api/ChangesHistoryService\";\r\nimport {Linter} from \"eslint\";\r\nimport {V1ChangeableFields} from \"@/api/Requests/V1CreateContentRequest\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport AsyncSearchSelector from \"@/components/Base/Selector/AsyncSearchSelector.vue\";\r\nimport XIcon from \"@/components/Icons/xIcon.vue\";\r\nimport {GenreService} from \"@/api/GenreService\";\r\nimport {GenreQueryResponseGenre} from \"@/api/Responses/GenreQueryResponse\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {ContentStatus} from \"@/api/Enums/ContentStatus\";\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\nimport {userStore} from \"@/store/UserStore\";\r\n\r\nimport FlatConfigFileSpec = Linter.FlatConfigFileSpec;\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'ContentEditorComponent',\n  props: {\r\n  contentId: {type: Object as PropType<number | any>, required: false, default: undefined}\r\n},\n  setup(__props) {\n\r\nconst props = __props;\r\n\r\nconst showEngTitleInputField = ref<Boolean>(false);\r\nconst showOriginTitleInputField = ref<Boolean>(false);\r\n\r\nconst contentService = inject<ContentService>('content-service');\r\nconst imageService = inject<ImageService>('image-service');\r\nconst changesHistoryService = inject<ChangesHistoryService>('changes-history-service');\r\nconst genreService = inject<GenreService>('genre-service');\r\nconst currentUserStore = userStore();\r\nconst clientEventStore = ClientEventStore();\r\n\r\nlet currentImage: FlatConfigFileSpec | FlatConfigFileSpec[];\r\nlet currentImageUrl = ref<string>();\r\n\r\nconst imageId = ref<number | null>(null);\r\nconst imageUrl = ref<string | null>(null);\r\nconst title = ref<string | null>(null);\r\nconst engTitle = ref<string | null>(null);\r\nconst originalTitle = ref<string | null>(null);\r\nconst description = ref<string | null>(null);\r\nconst country = ref<typeof Country | null>(null);\r\nconst contentType = ref<typeof ContentType | null>(null);\r\nconst contentStatus = ref<typeof ContentStatus | null>(null);\r\nconst genres = ref<string[]>([]);\r\nconst duration = ref<string | null>(null);\r\nconst releasedAt = ref<string | null>(null);\r\nconst plannedSeries = ref<number | null>(null);\r\nconst minAge = ref<number | null>(null);\r\nconst channel = ref<string | null>(null);\r\n\r\nonMounted(async() => {\r\n  if (props.contentId && props.contentId > 0) {\r\n    const content = await contentService.V1GetById(props.contentId, 0);\r\n    imageUrl.value = imageService.getImageLink(content.Content.ImageId, content.Content.Id);\r\n    imageId.value = content.Content.ImageId;\r\n    title.value = content.Content.Title;\r\n    contentType.value = content.Content.Type;\r\n    contentStatus.value = content.Content.Status;\r\n    genres.value = content.Genres.map(x => x.Name);\r\n    country.value = content.Content.Country;\r\n    description.value = content.Content.Description;\r\n    duration.value = minTwoDigits(Math.trunc(content.Content.Duration / 60)) + \":\" + (content.Content.Duration % 60);\r\n    engTitle.value = content.Content.EngTitle;\r\n    minAge.value = content.Content.MinAgeLimit;\r\n    originalTitle.value = content.Content.OriginTitle;\r\n    plannedSeries.value = content.Content.PlannedSeries;\r\n    releasedAt.value = formatDate(content.Content.ReleasedAt);\r\n    channel.value = null;\r\n\r\n    showEngTitleInputField.value = (engTitle.value?.length ?? 0) > 0;\r\n    showOriginTitleInputField.value = (originalTitle?.value?.length ?? 0) > 0;\r\n  }\r\n});\r\nfunction formatDate(date) {\r\n  let d = new Date(date),\r\n    month = '' + (d.getMonth() + 1),\r\n    day = '' + d.getDate(),\r\n    year = d.getFullYear();\r\n    month = minTwoDigits(month);\r\n    day =  minTwoDigits(day);\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction minTwoDigits(n) {\r\n  return (n < 10 ? '0' : '') + n;\r\n}\r\n\r\nconst isMarkAsInvalidRequiredProperties = ref({\r\n  Title: false,\r\n  Description: false,\r\n  Country: false,\r\n  ContentType: false,\r\n  ContentStatus: false\r\n});\r\n\r\n//#region Genres\r\nconst genreInput = ref<string>('');\r\nconst genresQuery = ref<GenreQueryResponseGenre[]>([]);\r\nconst genreSelectableValues = computed(() => genresQuery.value.map(g => g.Name));\r\nconst isGenresMenuDropped = ref(false);\r\n\r\nasync function onChangeGenreInput(input: string, isSelected: boolean) {\r\n  if (!isSelected) {\r\n    if (StringExtensions.isNullOrEmpty(input)) {\r\n      isGenresMenuDropped.value = false;\r\n      return;\r\n    }\r\n\r\n    const genres = await genreService.Query({\r\n      Search: input,\r\n      GenreIds: undefined,\r\n      Names: undefined,\r\n      Limit: 5,\r\n      Offset: undefined\r\n    });\r\n\r\n    genreInput.value = input;\r\n    genresQuery.value = genres.Genres;\r\n    if (genresQuery.value.length > 0) {\r\n      isGenresMenuDropped.value = true;\r\n    }\r\n  } else {\r\n    const isAlreadySelected = genres.value.find(genreName => genreName === input);\r\n    if (!isAlreadySelected) {\r\n      genres.value.push(input);\r\n    }\r\n\r\n    genreInput.value = '';\r\n    genresQuery.value = [];\r\n  }\r\n}\r\n\r\nfunction deleteSelectedGenre(genreName: string) {\r\n  genres.value = genres.value.filter(genre => genre !== genreName);\r\n}\r\n//endregion\r\nconst durationInMinutes = (duration: string): number | null => {\r\n  if (!duration) {\r\n    return null;\r\n  }\r\n\r\n  const values = duration.split(':');\r\n  const hours: number = parseInt(values[0]);\r\n  const minutes: number = parseInt(values[1]);\r\n\r\n  return (hours * 60) + minutes;\r\n};\r\n\r\nasync function onClickInsertContent() {\r\n  const request: V1ChangeableFields = {\r\n    ImageId: imageId.value,\r\n    Channel: channel.value,\r\n    ContentStatus: contentStatus.value,\r\n    ContentType: contentType.value,\r\n    Country: country.value,\r\n    Description: description.value,\r\n    Duration:  durationInMinutes(duration.value),\r\n    EngTitle: engTitle.value,\r\n    Genres: genres.value,\r\n    MinAge: minAge.value,\r\n    OriginalTitle: originalTitle.value,\r\n    PlannedSeries: plannedSeries.value,\r\n    ReleasedAt: releasedAt.value,\r\n    Title: title.value\r\n  };\r\n\r\n  if (!IsAllRequiredPropertiesValid(request)) {\r\n    clientEventStore.push('Ошибка! Заполните обязательные поля.', EventTypes.Error)\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await changesHistoryService.createContentChange({\r\n      ChangeableFields: request,\r\n      ContentId: props.contentId > 0 ? props.contentId : 0,\r\n      CreatedBy: currentUserStore.loggedIn ? currentUserStore.userId : 0\r\n    });\r\n    if (currentImage != null) {\r\n      await imageService.insertImage(props.contentId ?? null, response.HistoryId, currentImage);\r\n    }\r\n\r\n    clientEventStore.push('Успех! Заявка на добавление изменений создано.', EventTypes.Success)\r\n  } catch (exception) {\r\n    clientEventStore.push('Ошибка! Неизвестная ошибка сервера.', EventTypes.Error);\r\n  }\r\n}\r\n\r\nasync function updateImage(image: FlatConfigFileSpec | FlatConfigFileSpec[], imageUrl: string) {\r\n  currentImage = image;\r\n  currentImageUrl.value = imageUrl;\r\n}\r\n\r\nfunction IsAllRequiredPropertiesValid(request: V1ChangeableFields): boolean {\r\n  const isValidString = (value: string) => value != null && value.trim() != \"\";\r\n\r\n  let isValid = true;\r\n  const markAsInvalid = isMarkAsInvalidRequiredProperties.value;\r\n  markAsInvalid.Title = !isValidString(request.Title);\r\n  markAsInvalid.Description = !isValidString(request.Description);\r\n  markAsInvalid.Country = request.Country === null || request.Country === Country.Null;\r\n  markAsInvalid.ContentType = request.ContentType === null;\r\n  markAsInvalid.ContentStatus = request.ContentStatus === null;\r\n\r\n  if (\r\n    markAsInvalid.Title ||\r\n    markAsInvalid.Description ||\r\n    markAsInvalid.Country ||\r\n    markAsInvalid.ContentType ||\r\n    markAsInvalid.ContentStatus\r\n  ) {\r\n    isValid = false;\r\n  }\r\n\r\n  return isValid;\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _hoisted_4,\n      _createElementVNode(\"div\", _hoisted_5, [\n        _createVNode(BaseImageInput, {\n          class: \"m3-bg-2 column h__center\",\n          \"onOn:update\": updateImage\n        }),\n        (_unref(currentImageUrl))\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              class: \"m-radius-8 m-border\",\n              style: {\"height\":\"300px\",\"width\":\"auto\",\"object-fit\":\"cover\"},\n              src: _unref(currentImageUrl),\n              alt: \"Выбранное изображение\"\n            }, null, 8, _hoisted_6))\n          : _createCommentVNode(\"\", true),\n        (imageUrl.value)\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 1,\n              class: \"m-radius-8 m-border\",\n              style: {\"height\":\"300px\",\"width\":\"auto\",\"object-fit\":\"cover\"},\n              src: imageUrl.value,\n              alt: \"Обложка контента\",\n              onError: _cache[0] || (_cache[0] = ($event: any) => ($event.target.src = require('@/assets/images/DefaultImage.png')))\n            }, null, 40, _hoisted_7))\n          : _createCommentVNode(\"\", true)\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_8, [\n      _createElementVNode(\"div\", _hoisted_9, [\n        _createElementVNode(\"div\", _hoisted_10, [\n          _hoisted_11,\n          _hoisted_12,\n          _createVNode(BaseInput, {\n            modelValue: title.value,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((title).value = $event)),\n            class: \"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\",\n            \"mark-as-invalid-input\": isMarkAsInvalidRequiredProperties.value.Title,\n            \"place-holder\": 'Введите русское название*'\n          }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"]),\n          _createVNode(BaseSelector, {\n            modelValue: contentStatus.value,\n            \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((contentStatus).value = $event)),\n            class: \"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\",\n            \"mark-as-invalid-input\": isMarkAsInvalidRequiredProperties.value.ContentStatus,\n            title: 'Выберите статус',\n            \"selectable-values\": [_unref(ContentStatus).Announced, _unref(ContentStatus).Ongoing, _unref(ContentStatus).Stopped, _unref(ContentStatus).Finished]\n          }, null, 8, [\"modelValue\", \"mark-as-invalid-input\", \"selectable-values\"])\n        ]),\n        _withDirectives(_createVNode(BaseInput, {\n          modelValue: engTitle.value,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((engTitle).value = $event)),\n          class: \"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\",\n          \"place-holder\": 'Введите английское название'\n        }, null, 8, [\"modelValue\"]), [\n          [_vShow, showEngTitleInputField.value]\n        ]),\n        _withDirectives(_createVNode(BaseInput, {\n          modelValue: originalTitle.value,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((originalTitle).value = $event)),\n          class: \"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\",\n          \"place-holder\": 'Введите оригинальное название'\n        }, null, 8, [\"modelValue\"]), [\n          [_vShow, showOriginTitleInputField.value]\n        ]),\n        _createElementVNode(\"div\", _hoisted_13, [\n          _withDirectives(_createVNode(BaseTextButton, {\n            class: \"material m-radius-circle content-edit__text-button\",\n            onClick: _cache[5] || (_cache[5] = () => showEngTitleInputField.value = !showEngTitleInputField.value)\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Добавить английское название \")\n            ]),\n            _: 1\n          }, 512), [\n            [_vShow, !showEngTitleInputField.value]\n          ]),\n          _withDirectives(_createVNode(BaseTextButton, {\n            class: \"material m-radius-circle content-edit__text-button\",\n            onClick: _cache[6] || (_cache[6] = () => showOriginTitleInputField.value = !showOriginTitleInputField.value)\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Добавить оригинальное название \")\n            ]),\n            _: 1\n          }, 512), [\n            [_vShow, !showOriginTitleInputField.value]\n          ])\n        ])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_14, [\n      _createElementVNode(\"div\", _hoisted_15, [\n        _hoisted_16,\n        _hoisted_17,\n        _createVNode(BaseSelector, {\n          modelValue: country.value,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((country).value = $event)),\n          class: \"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\",\n          \"mark-as-invalid-input\": isMarkAsInvalidRequiredProperties.value.Country,\n          title: 'Выберите страну',\n          \"selectable-values\": [_unref(Country).Japan, _unref(Country).China, _unref(Country).Korea]\n        }, null, 8, [\"modelValue\", \"mark-as-invalid-input\", \"selectable-values\"]),\n        _createVNode(BaseSelector, {\n          modelValue: contentType.value,\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((contentType).value = $event)),\n          class: \"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\",\n          \"mark-as-invalid-input\": isMarkAsInvalidRequiredProperties.value.ContentType,\n          title: 'Выберите тип',\n          \"selectable-values\": [_unref(ContentType).Serial, _unref(ContentType).Film, _unref(ContentType).Show, _unref(ContentType).Documentary]\n        }, null, 8, [\"modelValue\", \"mark-as-invalid-input\", \"selectable-values\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_18, [\n      _hoisted_19,\n      _createVNode(BaseTextArea, {\n        modelValue: description.value,\n        \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((description).value = $event)),\n        class: \"content-edit__description-input body-medium content-edit__bg m-radius-1 m-border m-border-hover m-border-active\",\n        placeholder: 'Введите описание',\n        \"mark-as-invalid-input\": isMarkAsInvalidRequiredProperties.value.Description\n      }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_20, [\n      _hoisted_21,\n      _withDirectives(_createElementVNode(\"div\", _hoisted_22, [\n        _createElementVNode(\"div\", _hoisted_23, [\n          (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(genres.value, (genreName) => {\n            return (_openBlock(), _createBlock(FilterChips, {\n              key: genreName,\n              class: \"m3-bg-3 m-border m-radius-circle\",\n              text: genreName,\n              \"enable-menu-icon\": true,\n              onClick: ($event: any) => (deleteSelectedGenre(genreName))\n            }, {\n              \"menu-icon\": _withCtx(() => [\n                _createVNode(XIcon)\n              ]),\n              _: 2\n            }, 1032, [\"text\", \"onClick\"]))\n          }), 128))\n        ])\n      ], 512), [\n        [_vShow, genres.value?.length > 0]\n      ]),\n      _createVNode(AsyncSearchSelector, {\n        class: \"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\",\n        placeholder: 'Введите имя жанра',\n        \"menu-alignment\": _unref(MenuAlignment).Left,\n        \"show-loop-icon\": false,\n        values: genreSelectableValues.value,\n        input: genreInput.value,\n        \"call-updater-delay\": 500,\n        \"is-dropped\": isGenresMenuDropped.value,\n        \"onChange:input\": onChangeGenreInput\n      }, null, 8, [\"menu-alignment\", \"values\", \"input\", \"is-dropped\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_24, [\n      _hoisted_25,\n      _createElementVNode(\"div\", _hoisted_26, [\n        _createVNode(TimePicker, {\n          modelValue: duration.value,\n          \"onUpdate:modelValue\": [\n            _cache[10] || (_cache[10] = ($event: any) => ((duration).value = $event)),\n            _cache[11] || (_cache[11] = (newValue) => duration.value = newValue)\n          ],\n          class: \"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\n        }, null, 8, [\"modelValue\"]),\n        _createVNode(YearPicker, {\n          modelValue: releasedAt.value,\n          \"onUpdate:modelValue\": [\n            _cache[12] || (_cache[12] = ($event: any) => ((releasedAt).value = $event)),\n            _cache[13] || (_cache[13] = (date) => console.log(date))\n          ],\n          class: \"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\n        }, null, 8, [\"modelValue\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_27, [\n      _hoisted_28,\n      _createElementVNode(\"div\", _hoisted_29, [\n        _createVNode(BaseInput, {\n          modelValue: plannedSeries.value,\n          \"onUpdate:modelValue\": _cache[14] || (_cache[14] = ($event: any) => ((plannedSeries).value = $event)),\n          type: \"number\",\n          \"place-holder\": \"Введите число\",\n          class: \"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\",\n          \"input-validator\": (input) => input >= 0\n        }, null, 8, [\"modelValue\", \"input-validator\"]),\n        _createVNode(BaseInput, {\n          modelValue: minAge.value,\n          \"onUpdate:modelValue\": _cache[15] || (_cache[15] = ($event: any) => ((minAge).value = $event)),\n          type: \"number\",\n          \"place-holder\": \"Введите число\",\n          class: \"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\",\n          \"input-validator\": (input) => input >= 0 && input <= 20\n        }, null, 8, [\"modelValue\", \"input-validator\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_30, [\n      _createVNode(BaseButton, {\n        class: \"material m-radius-circle\",\n        variant: 'filled',\n        onClick: onClickInsertContent\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Отправить \")\n        ]),\n        _: 1\n      }),\n      _createVNode(BaseButton, {\n        variant: 'outline',\n        class: \"material m-border m-radius-circle\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Сбросить \")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"content-edit__right-box m-radius-16\">\r\n    <h3 class=\"title-large content-edit__header\">\r\n      Основная информация\r\n    </h3>\r\n\r\n    <div class=\"content-edit__unit-box\">\r\n      <div class=\"content-edit__details\">\r\n        <p class=\"body-large\">\r\n          Изображение\r\n        </p>\r\n        <label class=\"body-medium\">Выберите изображение для главной страницы содержимого</label>\r\n      </div>\r\n      <div class=\"content-edit__images-box fit-content row gap-16\">\r\n        <BaseImageInput\r\n          class=\"m3-bg-2 column h__center\"\r\n          @on:update=\"updateImage\"\r\n        />\r\n        <img\r\n          v-if=\"currentImageUrl\"\r\n          class=\"m-radius-8 m-border\"\r\n          style=\"height: 300px; width: auto; object-fit: cover;\"\r\n          :src=\"currentImageUrl\"\r\n          alt=\"Выбранное изображение\"\r\n        >\r\n\r\n        <img\r\n          v-if=\"imageUrl\"\r\n          class=\"m-radius-8 m-border\"\r\n          style=\"height: 300px; width: auto; object-fit: cover;\"\r\n          :src=\"imageUrl\"\r\n          alt=\"Обложка контента\"\r\n          @error=\"$event.target.src = require('@/assets/images/DefaultImage.png')\"\r\n        >\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"content-edit__unit-box\">\r\n      <div class=\"content-edit__box-activities-column\">\r\n        <div class=\"content-edit__box-activities row gap-16\">\r\n          <p class=\"body-large\">\r\n            Название*\r\n          </p>\r\n          <p class=\"body-large\">\r\n            Статус*\r\n          </p>\r\n          <BaseInput\r\n            v-model=\"title\"\r\n            class=\"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n            :mark-as-invalid-input=\"isMarkAsInvalidRequiredProperties.Title\"\r\n            :place-holder=\"'Введите русское название*'\"\r\n          />\r\n          <BaseSelector\r\n            v-model=\"contentStatus\"\r\n            class=\"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n            :mark-as-invalid-input=\"isMarkAsInvalidRequiredProperties.ContentStatus\"\r\n            :title=\"'Выберите статус'\"\r\n            :selectable-values=\"[ContentStatus.Announced, ContentStatus.Ongoing, ContentStatus.Stopped, ContentStatus.Finished]\"\r\n          />\r\n        </div>\r\n\r\n        <BaseInput\r\n          v-show=\"showEngTitleInputField\"\r\n          v-model=\"engTitle\"\r\n          class=\"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          :place-holder=\"'Введите английское название'\"\r\n        />\r\n        <BaseInput\r\n          v-show=\"showOriginTitleInputField\"\r\n          v-model=\"originalTitle\"\r\n          class=\"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          :place-holder=\"'Введите оригинальное название'\"\r\n        />\r\n\r\n        <div class=\"content-edit__buttons-rowed\">\r\n          <BaseTextButton\r\n            v-show=\"!showEngTitleInputField\"\r\n            class=\"material m-radius-circle content-edit__text-button\"\r\n            @click=\"() => showEngTitleInputField = !showEngTitleInputField\"\r\n          >\r\n            Добавить английское название\r\n          </BaseTextButton>\r\n          <BaseTextButton\r\n            v-show=\"!showOriginTitleInputField\"\r\n            class=\"material m-radius-circle content-edit__text-button\"\r\n            @click=\"() => showOriginTitleInputField = !showOriginTitleInputField\"\r\n          >\r\n            Добавить оригинальное название\r\n          </BaseTextButton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"content-edit__unit-box\">\r\n      <div class=\"content-edit__box-activities\">\r\n        <p class=\"body-large\">\r\n          Страна*\r\n        </p>\r\n        <label class=\"body-large\">\r\n          Тип дорамы*\r\n        </label>\r\n        <BaseSelector\r\n          v-model=\"country\"\r\n          class=\"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          :mark-as-invalid-input=\"isMarkAsInvalidRequiredProperties.Country\"\r\n          :title=\"'Выберите страну'\"\r\n          :selectable-values=\"[Country.Japan, Country.China, Country.Korea]\"\r\n        />\r\n        <BaseSelector\r\n          v-model=\"contentType\"\r\n          class=\"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          :mark-as-invalid-input=\"isMarkAsInvalidRequiredProperties.ContentType\"\r\n          :title=\"'Выберите тип'\"\r\n          :selectable-values=\"[ContentType.Serial, ContentType.Film, ContentType.Show, ContentType.Documentary]\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"content-edit__unit-box\">\r\n      <div class=\"content-edit__details\">\r\n        <p class=\"body-large\">\r\n          Описание*\r\n        </p>\r\n      </div>\r\n      <base-text-area\r\n        v-model=\"description\"\r\n        class=\"content-edit__description-input body-medium content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n        :placeholder=\"'Введите описание'\"\r\n        :mark-as-invalid-input=\"isMarkAsInvalidRequiredProperties.Description\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"content-edit__unit-box\">\r\n      <div class=\"content-edit__details\">\r\n        <p class=\"body-large\">\r\n          Жанры\r\n        </p>\r\n        <label class=\"body-medium\">\r\n          * Подсказка: детектив, драма, триллер<br>\r\n          * Вводите жанры через пробел\r\n        </label>\r\n      </div>\r\n      <div v-show=\"genres?.length > 0\" class=\"column gap-8\">\r\n        <div class=\"content-edit__genres-selected row gap-8\">\r\n          <filter-chips\r\n            v-for=\"genreName in genres\" :key=\"genreName\"\r\n            class=\"m3-bg-3 m-border m-radius-circle\"\r\n            :text=\"genreName\"\r\n            :enable-menu-icon=\"true\"\r\n            @click=\"deleteSelectedGenre(genreName)\"\r\n          >\r\n            <template #menu-icon>\r\n              <x-icon />\r\n            </template>\r\n          </filter-chips>\r\n        </div>\r\n      </div>\r\n      <async-search-selector\r\n        class=\"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n        :placeholder=\"'Введите имя жанра'\"\r\n        :menu-alignment=\"MenuAlignment.Left\"\r\n        :show-loop-icon=\"false\"\r\n        :values=\"genreSelectableValues\"\r\n        :input=\"genreInput\"\r\n        :call-updater-delay=\"500\"\r\n        :is-dropped=\"isGenresMenuDropped\"\r\n        @change:input=\"onChangeGenreInput\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"content-edit__unit-box\">\r\n      <div class=\"content-edit__box-activities\">\r\n        <p class=\"body-large\">\r\n          Длительность эпизода\r\n        </p>\r\n        <p class=\"body-large\">\r\n          Дата релиза\r\n        </p>\r\n      </div>\r\n      <div class=\"content-edit__box-activities\">\r\n        <TimePicker\r\n          v-model=\"duration\"\r\n          class=\"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          @update:model-value=\"(newValue) => duration = newValue\"\r\n        />\r\n        <YearPicker\r\n          v-model=\"releasedAt\"\r\n          class=\"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          @update:model-value=\"(date) => console.log(date)\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"content-edit__unit-box\">\r\n      <div class=\"content-edit__box-activities\">\r\n        <p class=\"body-large\">\r\n          Планируемое количество серий\r\n        </p>\r\n        <p class=\"body-large\">\r\n          Возрастное ограничение\r\n        </p>\r\n      </div>\r\n      <div class=\"content-edit__box-activities\">\r\n        <BaseInput\r\n          v-model=\"plannedSeries\"\r\n          type=\"number\"\r\n          place-holder=\"Введите число\"\r\n          class=\"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          :input-validator=\"(input) => input >= 0\"\r\n        />\r\n        <BaseInput\r\n          v-model=\"minAge\"\r\n          type=\"number\"\r\n          place-holder=\"Введите число\"\r\n          class=\"content-edit__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          :input-validator=\"(input) => input >= 0 && input <= 20\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"content-edit__buttons-box\">\r\n      <base-button\r\n        class=\"material m-radius-circle\"\r\n        :variant=\"'filled'\"\r\n        @click=\"onClickInsertContent\"\r\n      >\r\n        Отправить\r\n      </base-button>\r\n      <base-button\r\n        :variant=\"'outline'\"\r\n        class=\"material m-border m-radius-circle\"\r\n      >\r\n        Сбросить\r\n      </base-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport TimePicker from \"@/components/Base/TimePicker.vue\";\r\nimport YearPicker from \"@/components/Base/DatePicker.vue\";\r\nimport BaseTextArea from \"@/components/Base/BaseTextArea.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport {Country} from \"@/api/Enums/Country\";\r\nimport {ContentType} from \"@/api/Enums/ContentType\";\r\nimport BaseTextButton from \"@/components/Base/BaseTextButton.vue\";\r\nimport {computed, inject, onMounted, PropType, ref} from \"vue\";\r\nimport BaseImageInput from \"@/components/Base/BaseImageInput.vue\";\r\nimport {ImageService} from \"@/api/ImageService\";\r\nimport {ChangesHistoryService} from \"@/api/ChangesHistoryService\";\r\nimport {Linter} from \"eslint\";\r\nimport FlatConfigFileSpec = Linter.FlatConfigFileSpec;\r\nimport {V1ChangeableFields} from \"@/api/Requests/V1CreateContentRequest\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport AsyncSearchSelector from \"@/components/Base/Selector/AsyncSearchSelector.vue\";\r\nimport XIcon from \"@/components/Icons/xIcon.vue\";\r\nimport {GenreService} from \"@/api/GenreService\";\r\nimport {GenreQueryResponseGenre} from \"@/api/Responses/GenreQueryResponse\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {ContentStatus} from \"@/api/Enums/ContentStatus\";\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\nimport {userStore} from \"@/store/UserStore\";\r\n\r\nconst props = defineProps({\r\n  contentId: {type: Object as PropType<number | any>, required: false, default: undefined}\r\n});\r\n\r\nconst showEngTitleInputField = ref<Boolean>(false);\r\nconst showOriginTitleInputField = ref<Boolean>(false);\r\n\r\nconst contentService = inject<ContentService>('content-service');\r\nconst imageService = inject<ImageService>('image-service');\r\nconst changesHistoryService = inject<ChangesHistoryService>('changes-history-service');\r\nconst genreService = inject<GenreService>('genre-service');\r\nconst currentUserStore = userStore();\r\nconst clientEventStore = ClientEventStore();\r\n\r\nlet currentImage: FlatConfigFileSpec | FlatConfigFileSpec[];\r\nlet currentImageUrl = ref<string>();\r\n\r\nconst imageId = ref<number | null>(null);\r\nconst imageUrl = ref<string | null>(null);\r\nconst title = ref<string | null>(null);\r\nconst engTitle = ref<string | null>(null);\r\nconst originalTitle = ref<string | null>(null);\r\nconst description = ref<string | null>(null);\r\nconst country = ref<typeof Country | null>(null);\r\nconst contentType = ref<typeof ContentType | null>(null);\r\nconst contentStatus = ref<typeof ContentStatus | null>(null);\r\nconst genres = ref<string[]>([]);\r\nconst duration = ref<string | null>(null);\r\nconst releasedAt = ref<string | null>(null);\r\nconst plannedSeries = ref<number | null>(null);\r\nconst minAge = ref<number | null>(null);\r\nconst channel = ref<string | null>(null);\r\n\r\nonMounted(async() => {\r\n  if (props.contentId && props.contentId > 0) {\r\n    const content = await contentService.V1GetById(props.contentId, 0);\r\n    imageUrl.value = imageService.getImageLink(content.Content.ImageId, content.Content.Id);\r\n    imageId.value = content.Content.ImageId;\r\n    title.value = content.Content.Title;\r\n    contentType.value = content.Content.Type;\r\n    contentStatus.value = content.Content.Status;\r\n    genres.value = content.Genres.map(x => x.Name);\r\n    country.value = content.Content.Country;\r\n    description.value = content.Content.Description;\r\n    duration.value = minTwoDigits(Math.trunc(content.Content.Duration / 60)) + \":\" + (content.Content.Duration % 60);\r\n    engTitle.value = content.Content.EngTitle;\r\n    minAge.value = content.Content.MinAgeLimit;\r\n    originalTitle.value = content.Content.OriginTitle;\r\n    plannedSeries.value = content.Content.PlannedSeries;\r\n    releasedAt.value = formatDate(content.Content.ReleasedAt);\r\n    channel.value = null;\r\n\r\n    showEngTitleInputField.value = (engTitle.value?.length ?? 0) > 0;\r\n    showOriginTitleInputField.value = (originalTitle?.value?.length ?? 0) > 0;\r\n  }\r\n});\r\nfunction formatDate(date) {\r\n  let d = new Date(date),\r\n    month = '' + (d.getMonth() + 1),\r\n    day = '' + d.getDate(),\r\n    year = d.getFullYear();\r\n    month = minTwoDigits(month);\r\n    day =  minTwoDigits(day);\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction minTwoDigits(n) {\r\n  return (n < 10 ? '0' : '') + n;\r\n}\r\n\r\nconst isMarkAsInvalidRequiredProperties = ref({\r\n  Title: false,\r\n  Description: false,\r\n  Country: false,\r\n  ContentType: false,\r\n  ContentStatus: false\r\n});\r\n\r\n//#region Genres\r\nconst genreInput = ref<string>('');\r\nconst genresQuery = ref<GenreQueryResponseGenre[]>([]);\r\nconst genreSelectableValues = computed(() => genresQuery.value.map(g => g.Name));\r\nconst isGenresMenuDropped = ref(false);\r\n\r\nasync function onChangeGenreInput(input: string, isSelected: boolean) {\r\n  if (!isSelected) {\r\n    if (StringExtensions.isNullOrEmpty(input)) {\r\n      isGenresMenuDropped.value = false;\r\n      return;\r\n    }\r\n\r\n    const genres = await genreService.Query({\r\n      Search: input,\r\n      GenreIds: undefined,\r\n      Names: undefined,\r\n      Limit: 5,\r\n      Offset: undefined\r\n    });\r\n\r\n    genreInput.value = input;\r\n    genresQuery.value = genres.Genres;\r\n    if (genresQuery.value.length > 0) {\r\n      isGenresMenuDropped.value = true;\r\n    }\r\n  } else {\r\n    const isAlreadySelected = genres.value.find(genreName => genreName === input);\r\n    if (!isAlreadySelected) {\r\n      genres.value.push(input);\r\n    }\r\n\r\n    genreInput.value = '';\r\n    genresQuery.value = [];\r\n  }\r\n}\r\n\r\nfunction deleteSelectedGenre(genreName: string) {\r\n  genres.value = genres.value.filter(genre => genre !== genreName);\r\n}\r\n//endregion\r\nconst durationInMinutes = (duration: string): number | null => {\r\n  if (!duration) {\r\n    return null;\r\n  }\r\n\r\n  const values = duration.split(':');\r\n  const hours: number = parseInt(values[0]);\r\n  const minutes: number = parseInt(values[1]);\r\n\r\n  return (hours * 60) + minutes;\r\n};\r\n\r\nasync function onClickInsertContent() {\r\n  const request: V1ChangeableFields = {\r\n    ImageId: imageId.value,\r\n    Channel: channel.value,\r\n    ContentStatus: contentStatus.value,\r\n    ContentType: contentType.value,\r\n    Country: country.value,\r\n    Description: description.value,\r\n    Duration:  durationInMinutes(duration.value),\r\n    EngTitle: engTitle.value,\r\n    Genres: genres.value,\r\n    MinAge: minAge.value,\r\n    OriginalTitle: originalTitle.value,\r\n    PlannedSeries: plannedSeries.value,\r\n    ReleasedAt: releasedAt.value,\r\n    Title: title.value\r\n  };\r\n\r\n  if (!IsAllRequiredPropertiesValid(request)) {\r\n    clientEventStore.push('Ошибка! Заполните обязательные поля.', EventTypes.Error)\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const response = await changesHistoryService.createContentChange({\r\n      ChangeableFields: request,\r\n      ContentId: props.contentId > 0 ? props.contentId : 0,\r\n      CreatedBy: currentUserStore.loggedIn ? currentUserStore.userId : 0\r\n    });\r\n    if (currentImage != null) {\r\n      await imageService.insertImage(props.contentId ?? null, response.HistoryId, currentImage);\r\n    }\r\n\r\n    clientEventStore.push('Успех! Заявка на добавление изменений создано.', EventTypes.Success)\r\n  } catch (exception) {\r\n    clientEventStore.push('Ошибка! Неизвестная ошибка сервера.', EventTypes.Error);\r\n  }\r\n}\r\n\r\nasync function updateImage(image: FlatConfigFileSpec | FlatConfigFileSpec[], imageUrl: string) {\r\n  currentImage = image;\r\n  currentImageUrl.value = imageUrl;\r\n}\r\n\r\nfunction IsAllRequiredPropertiesValid(request: V1ChangeableFields): boolean {\r\n  const isValidString = (value: string) => value != null && value.trim() != \"\";\r\n\r\n  let isValid = true;\r\n  const markAsInvalid = isMarkAsInvalidRequiredProperties.value;\r\n  markAsInvalid.Title = !isValidString(request.Title);\r\n  markAsInvalid.Description = !isValidString(request.Description);\r\n  markAsInvalid.Country = request.Country === null || request.Country === Country.Null;\r\n  markAsInvalid.ContentType = request.ContentType === null;\r\n  markAsInvalid.ContentStatus = request.ContentStatus === null;\r\n\r\n  if (\r\n    markAsInvalid.Title ||\r\n    markAsInvalid.Description ||\r\n    markAsInvalid.Country ||\r\n    markAsInvalid.ContentType ||\r\n    markAsInvalid.ContentStatus\r\n  ) {\r\n    isValid = false;\r\n  }\r\n\r\n  return isValid;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.content-edit {\r\n  &__images-box {\r\n    display: flex;\r\n    width: 100%;\r\n    height: 300px;\r\n    overflow: scroll;\r\n    scrollbar-width: none;\r\n  }\r\n\r\n  &__header {\r\n    text-align: start;\r\n  }\r\n\r\n  &__genres-selected {\r\n    flex-flow: wrap;\r\n  }\r\n\r\n  &__buttons-rowed {\r\n    display: flex;\r\n    height: fit-content;\r\n    gap: 8px;\r\n  }\r\n\r\n  &__bg {\r\n    background: var(--surface-container-default94);\r\n    transition:\r\n      background-color 0.2s,\r\n      border-top-color 0.15s,\r\n      border-bottom-color 0.15s,\r\n      border-right-color 0.15s,\r\n      border-left-color 0.15s;\r\n\r\n    &:hover {\r\n      background: var(--surface-container-high92);\r\n    }\r\n  }\r\n\r\n  &__page-header {\r\n    color: var(--dark-primary);\r\n  }\r\n\r\n  &__buttons-box {\r\n    display: grid;\r\n    grid-template-rows: 1fr;\r\n    grid-template-columns: min-content;\r\n    grid-auto-flow: column;\r\n    grid-gap: 20px;\r\n    justify-content: start;\r\n\r\n    & button {\r\n      width: fit-content;\r\n      padding-left: 26px;\r\n      padding-right: 26px;\r\n    }\r\n  }\r\n\r\n  &__box-activities {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    row-gap: 8px;\r\n    column-gap: 16px;\r\n    grid-auto-columns: 1fr;\r\n    grid-auto-flow: row;\r\n    text-align: start;\r\n  }\r\n\r\n  &__box-activities-column {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: fit-content(100%);\r\n    grid-gap: 8px;\r\n    grid-auto-columns: 1fr;\r\n    grid-auto-flow: row;\r\n  }\r\n\r\n  &__text-button {\r\n    width: fit-content;\r\n    color: var(--primary40);\r\n    padding: 10px 12px;\r\n\r\n    &:hover {\r\n      background: rgba(82, 90, 146, 0.08);\r\n    }\r\n  }\r\n\r\n  &__splitter {\r\n    width: 100%;\r\n    background: var(--font-gray-v2);\r\n    height: 100%;\r\n  }\r\n\r\n  &__box {\r\n    display: grid;\r\n    grid-template-columns: 250px 1px 1fr;\r\n    grid-template-rows: max-content;\r\n    height: fit-content;\r\n  }\r\n\r\n  &__right-box {\r\n    display: grid;\r\n    background: var(--primary98);\r\n    grid-template-rows: min-content;\r\n    grid-auto-rows: min-content;\r\n    padding: 20px;\r\n    gap: 26px;\r\n  }\r\n\r\n  &__unit-box {\r\n    display: grid;\r\n    height: fit-content;\r\n    grid-gap: 8px;\r\n  }\r\n\r\n  &__details {\r\n    display: grid;\r\n    justify-items: start;\r\n    grid-auto-rows: min-content;\r\n\r\n    text-align: start;\r\n    & * {\r\n      padding: 0;\r\n      margin: 0;\r\n    }\r\n  }\r\n\r\n  &__description-input {\r\n    resize: vertical;\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n</style>","import script from \"./ContentEditorComponent.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ContentEditorComponent.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./ContentEditorComponent.vue?vue&type=style&index=0&id=02959223&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-02959223\"]])\n\nexport default __exports__","export const TranslationType = {\r\n    Original: \"Original\",\r\n    Subtitles: \"Subtitles\",\r\n    AutoSubtitles: \"AutoSubtitles\",\r\n    VoiceActing: \"VoiceActing\",\r\n} as const;","export const Language = {\r\n    Korean: \"Korean\",\r\n    Chinese: \"Chinese\",\r\n    Japanese: \"Japanese\",\r\n    Russian: \"Russian\",\r\n    English: \"English\",\r\n} as const;\r\n\r\nexport const VideoQuality = {\r\n    '720p': 720,\r\n    '1080p': 1080,\r\n    '1440p': 1440,\r\n    '2160p': 2160,\r\n}","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7f0f78b2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"edit-episode__right-box m-radius-16\" }\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", { class: \"title-large edit-episode__page-header\" }, \" Основная информация \", -1))\nconst _hoisted_3 = { class: \"edit-episode__unit-box\" }\nconst _hoisted_4 = { class: \"edit-episode__box-activities\" }\nconst _hoisted_5 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Дорама* \", -1))\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Серия* \", -1))\nconst _hoisted_7 = { class: \"edit-episode__unit-box\" }\nconst _hoisted_8 = { class: \"edit-episode__box-activities\" }\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Язык перевода* \", -1))\nconst _hoisted_10 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Тип перевода* \", -1))\nconst _hoisted_11 = { class: \"edit-episode__unit-box\" }\nconst _hoisted_12 = { class: \"edit-episode__box-activities\" }\nconst _hoisted_13 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Переводчик \", -1))\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Качество видео \", -1))\nconst _hoisted_15 = { class: \"edit-episode__unit-box gap-8\" }\nconst _hoisted_16 = { class: \"column gap-8\" }\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"edit-episode__details\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-large\" }, \" Скрипт видео* \")\n], -1))\nconst _hoisted_18 = { class: \"edit-episode__video-box m3-bg-5 column gap-8 m-radius-1\" }\nconst _hoisted_19 = [\"src\"]\nconst _hoisted_20 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"edit-episode__video-recommendation m-border m-radius-1\" }, [\n  /*#__PURE__*/_createElementVNode(\"p\", null, \"Убедитесь, что видео показывается и корректно работает.\")\n], -1))\nconst _hoisted_21 = { class: \"edit-episode__buttons-box\" }\n\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport BaseTextArea from \"@/components/Base/BaseTextArea.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport {inject, onMounted, ref} from \"vue\";\r\nimport {TranslationType} from \"@/api/Enums/TranslationType\";\r\nimport {Language, VideoQuality} from \"@/api/Enums/Language\";\r\nimport {ChangesHistoryService} from \"@/api/ChangesHistoryService\";\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport AsyncSearchSelector from \"@/components/Base/Selector/AsyncSearchSelector.vue\";\r\nimport {EpisodeService, V1EpisodeQueryRequest} from \"@/api/EpisodeService\";\r\nimport {TranslatorService, V1TranslatorQueryResponseUnit} from \"@/api/TranslatorService\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\n\r\ntype UnitOfSelection = {\r\n  ContentId: number,\r\n  Title: string\r\n};\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EpisodeEditorComponent',\n  props: {\r\n  contentId: {type: Number, required: true, default: null},\r\n  episodeId: {type: Number, required: true, default: null}\r\n},\n  setup(__props) {\n\r\nconst props = __props;\r\n\r\nconst changesHistoryApi = inject<ChangesHistoryService>('changes-history-service');\r\nconst contentApi = inject<ContentService>(\"content-service\");\r\nconst episodesApi = inject<EpisodeService>('episode-service');\r\nconst translatorApi = inject<TranslatorService>('translator-service');\r\nconst clientEventStore = ClientEventStore();\r\n\r\nonMounted(async () => {\r\n  if (props.contentId) {\r\n    const contentInfo = await contentApi.V1GetById(props.contentId, 0);\r\n    searchContentListV2.value = [{ContentId: contentInfo.Content.Id, Title: contentInfo.Content.Title}];\r\n    contentSelectedTitle.value = contentInfo.Content.Title;\r\n    contentInput.value = contentInfo.Content.Title;\r\n  }\r\n\r\n  if (props.episodeId && props.contentId) {\r\n    const request = new V1EpisodeQueryRequest();\r\n    request.EpisodeIds = [props.episodeId];\r\n    request.ContentIds = [props.contentId];\r\n    request.Limit = 1;\r\n\r\n    const episodesQuery = await episodesApi.query(request);\r\n    if (episodesQuery?.length > 0) {\r\n      const episode = episodesQuery[0];\r\n      episodeSelectedTitle.value = episode.Title;\r\n      episodeSelectableValues.value = [episode.Title];\r\n    }\r\n  }\r\n});\r\n\r\n/* Дорама */\r\nlet searchContentListV2 = ref<UnitOfSelection[]>([]);\r\nconst contentIsInvalid = ref<boolean>(false);\r\nconst contentInput = ref<string>(\"\");\r\nconst contentSelectedTitle = ref<string>(\"\");\r\nconst isContentsMenuDropped = ref<boolean>(false);\r\n\r\n/* Серия */\r\nconst episodeSelectableValues = ref<string[]>([]);\r\nconst episodeIsInvalid = ref<boolean>(false);\r\nconst episodeSelectedTitle = ref<string>('');\r\n\r\n/* Переводчик */\r\nlet translatorsList: V1TranslatorQueryResponseUnit[] = [];\r\nconst translatorSelectableValues = ref<string[]>([]);\r\nconst translatorInput = ref<string>(\"\");\r\nconst translatorSelectedTitle = ref<string>(\"\");\r\nconst isTranslatorsMenuDropped = ref<boolean>(false);\r\n\r\n/* Тип перевода */\r\nconst translationType = ref<string>(\"\");\r\nconst translationTypeIsInvalid = ref<boolean>(false);\r\nconst translationTypeSelectableValues = [\r\n  TranslationType.Subtitles,\r\n  TranslationType.AutoSubtitles,\r\n  TranslationType.Original,\r\n  TranslationType.VoiceActing\r\n];\r\n\r\n/* Качество */\r\nconst quality = ref<string | null>();\r\n\r\n/* Язык */\r\nconst language = ref<string>();\r\nconst languageIsInvalid = ref<boolean>(false);\r\nconst languageSelectableValues = [Language.Russian, Language.English, Language.Korean, Language.Chinese, Language.Japanese];\r\n\r\n//#region Видео\r\nconst videoLink = ref<string>();\r\nconst userInputVideo = ref<string>(\"\");\r\nconst videoScriptIsInvalid = ref<boolean>(false);\r\n\r\nfunction getVideoLink() {\r\n  videoLink.value = getVideoLinkFromUserInput(userInputVideo.value);\r\n  if (videoLink.value) {\r\n    return;\r\n  }\r\n\r\n  videoScriptIsInvalid.value = true;\r\n  clientEventStore.push(\"Ошибка! Не удалось вывести видео.\", EventTypes.Error)\r\n}\r\n\r\nfunction getVideoLinkFromUserInput(userInputVideo: string) {\r\n  if (userInputVideo.startsWith(\"<iframe\") && userInputVideo.endsWith(\"</iframe>\")) {\r\n    const parser = new DOMParser();\r\n    const doc = parser.parseFromString(userInputVideo, 'text/html');\r\n\r\n    if (doc.documentElement.querySelector('parsererror')) {\r\n      return tryGetFirstLink(userInputVideo);\r\n    } else {\r\n      return doc.getElementsByTagName('iframe')[0].src;\r\n    }\r\n  } else {\r\n    console.log('link');\r\n    return tryGetFirstLink(userInputVideo);\r\n  }\r\n}\r\n\r\nfunction tryGetFirstLink(userInput) {\r\n  const res = userInput.match(/(http(s)?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\r\n  if (res !== null && res.length > 0) {\r\n    return res[0];\r\n  }\r\n\r\n  return null;\r\n}\r\n//endregion\r\nasync function onClickUpsertEpisode() {\r\n  const isValidString = (value: string) => value != null && value.trim() != \"\";\r\n\r\n  contentIsInvalid.value = !isValidString(contentSelectedTitle.value);\r\n  /* Эпизод валидный только если выбран контент и эпизод */\r\n  episodeIsInvalid.value = !isValidString(episodeSelectedTitle.value) || contentIsInvalid.value;\r\n  languageIsInvalid.value = !isValidString(language.value);\r\n  translationTypeIsInvalid.value = !isValidString(translationType.value);\r\n  videoScriptIsInvalid.value = !isValidString(videoLink.value);\r\n  if (!contentIsInvalid.value &&\r\n    !episodeIsInvalid.value &&\r\n    !translationTypeIsInvalid.value &&\r\n    !languageIsInvalid.value &&\r\n    !videoScriptIsInvalid.value) {\r\n\r\n    console.log(quality.value as VideoQuality as number);\r\n    const content = searchContentListV2.value.find(content => content.Title === contentSelectedTitle.value);\r\n    const episode = episodeSelectedTitle.value as number;\r\n    const languageType = language.value as typeof Language;\r\n    const translationTypeValue = translationType.value as typeof TranslationType;\r\n    const qualityNumber = quality.value ? (quality.value as VideoQuality) as number : null;\r\n\r\n    let translatorId: number | null = null;\r\n    if (translatorSelectedTitle.value) {\r\n      translatorId = translatorsList\r\n          .find(translator => translator.Name === translatorSelectedTitle.value)\r\n          ?.TranslatorId\r\n        ?? null;\r\n    }\r\n\r\n    // TODO: Если передали iframe а не ссылку на видео из src то нужно вытащить из него ссылку\r\n    const response = await changesHistoryApi.createEpisodeChange({\r\n      ChangeableFields: {\r\n        Number: episode,\r\n        VideoScript: videoLink.value,\r\n        Language: languageType,\r\n        TranslationType: translationTypeValue,\r\n        EpisodeId: null,\r\n        TranslatorId: translatorId,\r\n        TranslatorName: translatorInput.value,\r\n        Quality: qualityNumber,\r\n      },\r\n      ContentId: content.ContentId,\r\n      CreatedBy: 0\r\n    });\r\n\r\n    if (response.ok) {\r\n      clientEventStore.push(\"Успех! Данные отправлены. За их статусом можно следить на странице с обновлениями.\", EventTypes.Success)\r\n    } else {\r\n      clientEventStore.push(\"Ошибка! Что-то пошло не так в момент отправки данных, попробуйте еще раз через некоторое время.\", EventTypes.Error)\r\n    }\r\n    return;\r\n  } else {\r\n    clientEventStore.push(\"Ошибка! Заполните обязательные поля.\", EventTypes.Error)\r\n  }\r\n}\r\n\r\n/* Вызывается при изменении input дорамы */\r\nasync function onChangeContentInput(newInput: string, isSelected: boolean) {\r\n  isTranslatorsMenuDropped.value = false;\r\n  contentSelectedTitle.value = isSelected ? newInput : undefined;\r\n  if (newInput.length === 0) {\r\n    searchContentListV2.value = [];\r\n    isContentsMenuDropped.value = false;\r\n    return;\r\n  }\r\n\r\n  if (isSelected) {\r\n    const selectedContent = searchContentListV2.value.find(content => content.Title === newInput);\r\n    const episodesRequest = new V1EpisodeQueryRequest();\r\n    episodesRequest.ContentIds = [selectedContent.ContentId];\r\n    const episodes = await episodesApi.query(episodesRequest);\r\n\r\n    episodeSelectableValues.value = episodes.map(ep => ep.Number.toString());\r\n    return;\r\n  } else {\r\n    episodeSelectableValues.value = [];\r\n  }\r\n\r\n  const foundContents = (await contentApi.searchBy(newInput)).Units;\r\n  searchContentListV2.value = foundContents.map(content => ({Title: content.Title, ContentId: content.ContentId}));\r\n  if (searchContentListV2.value.length > 0) {\r\n    isContentsMenuDropped.value = true;\r\n  }\r\n}\r\n\r\nasync function onChangeTranslatorInput(newInput: string, isSelected: boolean) {\r\n  translatorInput.value = newInput;\r\n  translatorSelectedTitle.value = isSelected ? newInput : undefined;\r\n\r\n  if (newInput.length === 0) {\r\n    translatorsList = [];\r\n    isTranslatorsMenuDropped.value = false;\r\n    return;\r\n  }\r\n\r\n  const translatorsResponse = await translatorApi.query({\r\n    Limit: 7,\r\n    Offset: null,\r\n    Search: newInput,\r\n    TranslatorIds: null\r\n  });\r\n  translatorSelectableValues.value = translatorsResponse.Translators.map(x => x.Name);\r\n  translatorsList = translatorsResponse.Translators;\r\n\r\n  if (translatorSelectableValues.value.length > 0) {\r\n    isTranslatorsMenuDropped.value = true;\r\n  }\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", _hoisted_4, [\n        _hoisted_5,\n        _hoisted_6,\n        _createVNode(AsyncSearchSelector, {\n          input: contentInput.value,\n          class: \"edit-episode__bg m-radius-1 m-border m-border-hover m-border-active\",\n          placeholder: 'Выберите дораму',\n          values: _unref(searchContentListV2).map(x => x.Title),\n          \"is-invalid\": contentIsInvalid.value,\n          \"is-dropped\": isContentsMenuDropped.value,\n          \"call-updater-delay\": 500,\n          \"onChange:input\": onChangeContentInput\n        }, null, 8, [\"input\", \"values\", \"is-invalid\", \"is-dropped\"]),\n        _createVNode(BaseInput, {\n          modelValue: episodeSelectedTitle.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((episodeSelectedTitle).value = $event)),\n          class: \"edit-episode__bg m3-bg-1 m-radius-1 m-border m-border-hover m-border-active\",\n          \"mark-as-invalid-input\": episodeIsInvalid.value,\n          \"place-holder\": 'Выберите серию',\n          type: \"number\"\n        }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_7, [\n      _createElementVNode(\"div\", _hoisted_8, [\n        _hoisted_9,\n        _hoisted_10,\n        _createVNode(BaseSelector, {\n          modelValue: language.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((language).value = $event)),\n          class: \"edit-episode__bg m-radius-1 m-border m-border-hover m-border-active\",\n          title: 'Выберите язык',\n          \"mark-as-invalid-input\": languageIsInvalid.value,\n          \"selectable-values\": languageSelectableValues\n        }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"]),\n        _createVNode(BaseSelector, {\n          modelValue: translationType.value,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((translationType).value = $event)),\n          class: \"edit-episode__bg m-radius-1 m-border m-border-hover m-border-active\",\n          title: 'Выберите тип перевода',\n          \"is-disabled\": translatorSelectableValues.value === undefined,\n          \"mark-as-invalid-input\": translationTypeIsInvalid.value,\n          \"selectable-values\": translationTypeSelectableValues\n        }, null, 8, [\"modelValue\", \"is-disabled\", \"mark-as-invalid-input\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_11, [\n      _createElementVNode(\"div\", _hoisted_12, [\n        _hoisted_13,\n        _hoisted_14,\n        _createVNode(AsyncSearchSelector, {\n          modelValue: translatorSelectedTitle.value,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((translatorSelectedTitle).value = $event)),\n          class: \"edit-episode__bg m-radius-1 m-border m-border-hover m-border-active\",\n          placeholder: 'Выберите переводчика',\n          values: _unref(translatorsList).map(translator => translator.Name),\n          \"is-dropped\": isTranslatorsMenuDropped.value,\n          \"call-updater-delay\": 500,\n          \"onChange:input\": onChangeTranslatorInput\n        }, null, 8, [\"modelValue\", \"values\", \"is-dropped\"]),\n        _createVNode(BaseSelector, {\n          modelValue: quality.value,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((quality).value = $event)),\n          class: \"edit-episode__bg m-radius-1 m-border m-border-hover m-border-active\",\n          title: 'Выберите качество',\n          \"selectable-values\": [\r\n            _unref(VideoQuality)['720p'].toString(),\r\n            _unref(VideoQuality)['1080p'].toString(),\r\n            _unref(VideoQuality)['1440p'].toString(),\r\n            _unref(VideoQuality)['2160p'].toString()\r\n          ]\n        }, null, 8, [\"modelValue\", \"selectable-values\"])\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_15, [\n      _createElementVNode(\"div\", _hoisted_16, [\n        _hoisted_17,\n        _createVNode(BaseTextArea, {\n          modelValue: userInputVideo.value,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((userInputVideo).value = $event)),\n          class: \"edit-episode__video-input edit-episode__bg m-radius-1 m-border m-border-hover m-border-active\",\n          placeholder: 'Вставьте скрип-видео',\n          \"mark-as-invalid-input\": videoScriptIsInvalid.value\n        }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"]),\n        _createElementVNode(\"div\", _hoisted_18, [\n          _createElementVNode(\"iframe\", {\n            width: \"100%\",\n            height: \"100%\",\n            class: \"edit-episode__video m-radius-1\",\n            allowfullscreen: \"allowfullscreen\",\n            src: videoLink.value\n          }, null, 8, _hoisted_19),\n          _hoisted_20\n        ]),\n        _createVNode(BaseButton, {\n          variant: 'outline',\n          class: \"material m-border m-border-hover m-radius-1\",\n          onClick: getVideoLink\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\" Вывести видео \")\n          ]),\n          _: 1\n        })\n      ])\n    ]),\n    _createElementVNode(\"div\", _hoisted_21, [\n      _createVNode(BaseButton, {\n        class: \"m-radius-circle\",\n        variant: 'filled',\n        onClick: onClickUpsertEpisode\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Отправить \")\n        ]),\n        _: 1\n      }),\n      _createVNode(BaseButton, {\n        variant: 'outline',\n        class: \"m-border m-border-hover m-radius-circle\"\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Сбросить \")\n        ]),\n        _: 1\n      })\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"edit-episode__right-box m-radius-16\">\r\n    <h3 class=\"title-large edit-episode__page-header\">\r\n      Основная информация\r\n    </h3>\r\n\r\n    <div class=\"edit-episode__unit-box\">\r\n      <div class=\"edit-episode__box-activities\">\r\n        <p class=\"body-large\">\r\n          Дорама*\r\n        </p>\r\n        <p class=\"body-large\">\r\n          Серия*\r\n        </p>\r\n        <async-search-selector\r\n          :input=\"contentInput\"\r\n          class=\"edit-episode__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          :placeholder=\"'Выберите дораму'\"\r\n          :values=\"searchContentListV2.map(x => x.Title)\"\r\n          :is-invalid=\"contentIsInvalid\"\r\n          :is-dropped=\"isContentsMenuDropped\"\r\n          :call-updater-delay=\"500\"\r\n          @change:input=\"onChangeContentInput\"\r\n        />\r\n        <BaseInput\r\n          v-model=\"episodeSelectedTitle\"\r\n          class=\"edit-episode__bg m3-bg-1 m-radius-1 m-border m-border-hover m-border-active\"\r\n          :mark-as-invalid-input=\"episodeIsInvalid\"\r\n          :place-holder=\"'Выберите серию'\"\r\n          type=\"number\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"edit-episode__unit-box\">\r\n      <div class=\"edit-episode__box-activities\">\r\n        <p class=\"body-large\">\r\n          Язык перевода*\r\n        </p>\r\n\r\n        <p class=\"body-large\">\r\n          Тип перевода*\r\n        </p>\r\n        <BaseSelector\r\n          v-model=\"language\"\r\n          class=\"edit-episode__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          :title=\"'Выберите язык'\"\r\n          :mark-as-invalid-input=\"languageIsInvalid\"\r\n          :selectable-values=\"languageSelectableValues\"\r\n        />\r\n        <BaseSelector\r\n          v-model=\"translationType\"\r\n          class=\"edit-episode__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          :title=\"'Выберите тип перевода'\"\r\n          :is-disabled=\"translatorSelectableValues === undefined\"\r\n          :mark-as-invalid-input=\"translationTypeIsInvalid\"\r\n          :selectable-values=\"translationTypeSelectableValues\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"edit-episode__unit-box\">\r\n      <div class=\"edit-episode__box-activities\">\r\n        <p class=\"body-large\">\r\n          Переводчик\r\n        </p>\r\n        <p class=\"body-large\">\r\n          Качество видео\r\n        </p>\r\n        <async-search-selector\r\n          v-model=\"translatorSelectedTitle\"\r\n          class=\"edit-episode__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          :placeholder=\"'Выберите переводчика'\"\r\n          :values=\"translatorsList.map(translator => translator.Name)\"\r\n          :is-dropped=\"isTranslatorsMenuDropped\"\r\n          :call-updater-delay=\"500\"\r\n          @change:input=\"onChangeTranslatorInput\"\r\n        />\r\n        <BaseSelector\r\n          v-model=\"quality\"\r\n          class=\"edit-episode__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          :title=\"'Выберите качество'\"\r\n          :selectable-values=\"[\r\n            VideoQuality['720p'].toString(),\r\n            VideoQuality['1080p'].toString(),\r\n            VideoQuality['1440p'].toString(),\r\n            VideoQuality['2160p'].toString()\r\n          ]\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"edit-episode__unit-box gap-8\">\r\n      <div class=\"column gap-8\">\r\n        <div class=\"edit-episode__details\">\r\n          <p class=\"body-large\">\r\n            Скрипт видео*\r\n          </p>\r\n        </div>\r\n        <BaseTextArea\r\n          v-model=\"userInputVideo\"\r\n          class=\"edit-episode__video-input edit-episode__bg m-radius-1 m-border m-border-hover m-border-active\"\r\n          :placeholder=\"'Вставьте скрип-видео'\"\r\n          :mark-as-invalid-input=\"videoScriptIsInvalid\"\r\n        />\r\n        <div class=\"edit-episode__video-box m3-bg-5 column gap-8 m-radius-1\">\r\n          <iframe\r\n            width=\"100%\" height=\"100%\"\r\n            class=\"edit-episode__video m-radius-1\"\r\n            allowfullscreen=\"allowfullscreen\"\r\n            :src=\"videoLink\"\r\n          />\r\n          <div class=\"edit-episode__video-recommendation m-border m-radius-1\">\r\n            <p>Убедитесь, что видео показывается и корректно работает.</p>\r\n          </div>\r\n        </div>\r\n        <base-button\r\n          :variant=\"'outline'\"\r\n          class=\"material m-border m-border-hover m-radius-1\"\r\n          @click=\"getVideoLink\"\r\n        >\r\n          Вывести видео\r\n        </base-button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"edit-episode__buttons-box\">\r\n      <base-button\r\n        class=\"m-radius-circle\"\r\n        :variant=\"'filled'\"\r\n        @click=\"onClickUpsertEpisode\"\r\n      >\r\n        Отправить\r\n      </base-button>\r\n      <base-button\r\n        :variant=\"'outline'\"\r\n        class=\"m-border m-border-hover m-radius-circle\"\r\n      >\r\n        Сбросить\r\n      </base-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport BaseTextArea from \"@/components/Base/BaseTextArea.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport {inject, onMounted, ref} from \"vue\";\r\nimport {TranslationType} from \"@/api/Enums/TranslationType\";\r\nimport {Language, VideoQuality} from \"@/api/Enums/Language\";\r\nimport {ChangesHistoryService} from \"@/api/ChangesHistoryService\";\r\nimport {ContentService} from \"@/api/ContentService\";\r\nimport AsyncSearchSelector from \"@/components/Base/Selector/AsyncSearchSelector.vue\";\r\nimport {EpisodeService, V1EpisodeQueryRequest} from \"@/api/EpisodeService\";\r\nimport {TranslatorService, V1TranslatorQueryResponseUnit} from \"@/api/TranslatorService\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\n\r\ntype UnitOfSelection = {\r\n  ContentId: number,\r\n  Title: string\r\n};\r\n\r\nconst props = defineProps({\r\n  contentId: {type: Number, required: true, default: null},\r\n  episodeId: {type: Number, required: true, default: null}\r\n});\r\n\r\nconst changesHistoryApi = inject<ChangesHistoryService>('changes-history-service');\r\nconst contentApi = inject<ContentService>(\"content-service\");\r\nconst episodesApi = inject<EpisodeService>('episode-service');\r\nconst translatorApi = inject<TranslatorService>('translator-service');\r\nconst clientEventStore = ClientEventStore();\r\n\r\nonMounted(async () => {\r\n  if (props.contentId) {\r\n    const contentInfo = await contentApi.V1GetById(props.contentId, 0);\r\n    searchContentListV2.value = [{ContentId: contentInfo.Content.Id, Title: contentInfo.Content.Title}];\r\n    contentSelectedTitle.value = contentInfo.Content.Title;\r\n    contentInput.value = contentInfo.Content.Title;\r\n  }\r\n\r\n  if (props.episodeId && props.contentId) {\r\n    const request = new V1EpisodeQueryRequest();\r\n    request.EpisodeIds = [props.episodeId];\r\n    request.ContentIds = [props.contentId];\r\n    request.Limit = 1;\r\n\r\n    const episodesQuery = await episodesApi.query(request);\r\n    if (episodesQuery?.length > 0) {\r\n      const episode = episodesQuery[0];\r\n      episodeSelectedTitle.value = episode.Title;\r\n      episodeSelectableValues.value = [episode.Title];\r\n    }\r\n  }\r\n});\r\n\r\n/* Дорама */\r\nlet searchContentListV2 = ref<UnitOfSelection[]>([]);\r\nconst contentIsInvalid = ref<boolean>(false);\r\nconst contentInput = ref<string>(\"\");\r\nconst contentSelectedTitle = ref<string>(\"\");\r\nconst isContentsMenuDropped = ref<boolean>(false);\r\n\r\n/* Серия */\r\nconst episodeSelectableValues = ref<string[]>([]);\r\nconst episodeIsInvalid = ref<boolean>(false);\r\nconst episodeSelectedTitle = ref<string>('');\r\n\r\n/* Переводчик */\r\nlet translatorsList: V1TranslatorQueryResponseUnit[] = [];\r\nconst translatorSelectableValues = ref<string[]>([]);\r\nconst translatorInput = ref<string>(\"\");\r\nconst translatorSelectedTitle = ref<string>(\"\");\r\nconst isTranslatorsMenuDropped = ref<boolean>(false);\r\n\r\n/* Тип перевода */\r\nconst translationType = ref<string>(\"\");\r\nconst translationTypeIsInvalid = ref<boolean>(false);\r\nconst translationTypeSelectableValues = [\r\n  TranslationType.Subtitles,\r\n  TranslationType.AutoSubtitles,\r\n  TranslationType.Original,\r\n  TranslationType.VoiceActing\r\n];\r\n\r\n/* Качество */\r\nconst quality = ref<string | null>();\r\n\r\n/* Язык */\r\nconst language = ref<string>();\r\nconst languageIsInvalid = ref<boolean>(false);\r\nconst languageSelectableValues = [Language.Russian, Language.English, Language.Korean, Language.Chinese, Language.Japanese];\r\n\r\n//#region Видео\r\nconst videoLink = ref<string>();\r\nconst userInputVideo = ref<string>(\"\");\r\nconst videoScriptIsInvalid = ref<boolean>(false);\r\n\r\nfunction getVideoLink() {\r\n  videoLink.value = getVideoLinkFromUserInput(userInputVideo.value);\r\n  if (videoLink.value) {\r\n    return;\r\n  }\r\n\r\n  videoScriptIsInvalid.value = true;\r\n  clientEventStore.push(\"Ошибка! Не удалось вывести видео.\", EventTypes.Error)\r\n}\r\n\r\nfunction getVideoLinkFromUserInput(userInputVideo: string) {\r\n  if (userInputVideo.startsWith(\"<iframe\") && userInputVideo.endsWith(\"</iframe>\")) {\r\n    const parser = new DOMParser();\r\n    const doc = parser.parseFromString(userInputVideo, 'text/html');\r\n\r\n    if (doc.documentElement.querySelector('parsererror')) {\r\n      return tryGetFirstLink(userInputVideo);\r\n    } else {\r\n      return doc.getElementsByTagName('iframe')[0].src;\r\n    }\r\n  } else {\r\n    console.log('link');\r\n    return tryGetFirstLink(userInputVideo);\r\n  }\r\n}\r\n\r\nfunction tryGetFirstLink(userInput) {\r\n  const res = userInput.match(/(http(s)?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\r\n  if (res !== null && res.length > 0) {\r\n    return res[0];\r\n  }\r\n\r\n  return null;\r\n}\r\n//endregion\r\nasync function onClickUpsertEpisode() {\r\n  const isValidString = (value: string) => value != null && value.trim() != \"\";\r\n\r\n  contentIsInvalid.value = !isValidString(contentSelectedTitle.value);\r\n  /* Эпизод валидный только если выбран контент и эпизод */\r\n  episodeIsInvalid.value = !isValidString(episodeSelectedTitle.value) || contentIsInvalid.value;\r\n  languageIsInvalid.value = !isValidString(language.value);\r\n  translationTypeIsInvalid.value = !isValidString(translationType.value);\r\n  videoScriptIsInvalid.value = !isValidString(videoLink.value);\r\n  if (!contentIsInvalid.value &&\r\n    !episodeIsInvalid.value &&\r\n    !translationTypeIsInvalid.value &&\r\n    !languageIsInvalid.value &&\r\n    !videoScriptIsInvalid.value) {\r\n\r\n    console.log(quality.value as VideoQuality as number);\r\n    const content = searchContentListV2.value.find(content => content.Title === contentSelectedTitle.value);\r\n    const episode = episodeSelectedTitle.value as number;\r\n    const languageType = language.value as typeof Language;\r\n    const translationTypeValue = translationType.value as typeof TranslationType;\r\n    const qualityNumber = quality.value ? (quality.value as VideoQuality) as number : null;\r\n\r\n    let translatorId: number | null = null;\r\n    if (translatorSelectedTitle.value) {\r\n      translatorId = translatorsList\r\n          .find(translator => translator.Name === translatorSelectedTitle.value)\r\n          ?.TranslatorId\r\n        ?? null;\r\n    }\r\n\r\n    // TODO: Если передали iframe а не ссылку на видео из src то нужно вытащить из него ссылку\r\n    const response = await changesHistoryApi.createEpisodeChange({\r\n      ChangeableFields: {\r\n        Number: episode,\r\n        VideoScript: videoLink.value,\r\n        Language: languageType,\r\n        TranslationType: translationTypeValue,\r\n        EpisodeId: null,\r\n        TranslatorId: translatorId,\r\n        TranslatorName: translatorInput.value,\r\n        Quality: qualityNumber,\r\n      },\r\n      ContentId: content.ContentId,\r\n      CreatedBy: 0\r\n    });\r\n\r\n    if (response.ok) {\r\n      clientEventStore.push(\"Успех! Данные отправлены. За их статусом можно следить на странице с обновлениями.\", EventTypes.Success)\r\n    } else {\r\n      clientEventStore.push(\"Ошибка! Что-то пошло не так в момент отправки данных, попробуйте еще раз через некоторое время.\", EventTypes.Error)\r\n    }\r\n    return;\r\n  } else {\r\n    clientEventStore.push(\"Ошибка! Заполните обязательные поля.\", EventTypes.Error)\r\n  }\r\n}\r\n\r\n/* Вызывается при изменении input дорамы */\r\nasync function onChangeContentInput(newInput: string, isSelected: boolean) {\r\n  isTranslatorsMenuDropped.value = false;\r\n  contentSelectedTitle.value = isSelected ? newInput : undefined;\r\n  if (newInput.length === 0) {\r\n    searchContentListV2.value = [];\r\n    isContentsMenuDropped.value = false;\r\n    return;\r\n  }\r\n\r\n  if (isSelected) {\r\n    const selectedContent = searchContentListV2.value.find(content => content.Title === newInput);\r\n    const episodesRequest = new V1EpisodeQueryRequest();\r\n    episodesRequest.ContentIds = [selectedContent.ContentId];\r\n    const episodes = await episodesApi.query(episodesRequest);\r\n\r\n    episodeSelectableValues.value = episodes.map(ep => ep.Number.toString());\r\n    return;\r\n  } else {\r\n    episodeSelectableValues.value = [];\r\n  }\r\n\r\n  const foundContents = (await contentApi.searchBy(newInput)).Units;\r\n  searchContentListV2.value = foundContents.map(content => ({Title: content.Title, ContentId: content.ContentId}));\r\n  if (searchContentListV2.value.length > 0) {\r\n    isContentsMenuDropped.value = true;\r\n  }\r\n}\r\n\r\nasync function onChangeTranslatorInput(newInput: string, isSelected: boolean) {\r\n  translatorInput.value = newInput;\r\n  translatorSelectedTitle.value = isSelected ? newInput : undefined;\r\n\r\n  if (newInput.length === 0) {\r\n    translatorsList = [];\r\n    isTranslatorsMenuDropped.value = false;\r\n    return;\r\n  }\r\n\r\n  const translatorsResponse = await translatorApi.query({\r\n    Limit: 7,\r\n    Offset: null,\r\n    Search: newInput,\r\n    TranslatorIds: null\r\n  });\r\n  translatorSelectableValues.value = translatorsResponse.Translators.map(x => x.Name);\r\n  translatorsList = translatorsResponse.Translators;\r\n\r\n  if (translatorSelectableValues.value.length > 0) {\r\n    isTranslatorsMenuDropped.value = true;\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.edit-episode {\r\n  &__buttons-rowed {\r\n    display: flex;\r\n    height: fit-content;\r\n    gap: 8px;\r\n  }\r\n\r\n  &__bg {\r\n    background: var(--surface-container-default94);\r\n    transition:\r\n      background-color 0.2s,\r\n      border-top-color 0.15s,\r\n      border-bottom-color 0.15s,\r\n      border-right-color 0.15s,\r\n      border-left-color 0.15s;\r\n\r\n    &:hover {\r\n      background: var(--surface-container-high92);\r\n    }\r\n  }\r\n\r\n  &__page-header {\r\n    text-align: start;\r\n  }\r\n\r\n  &__buttons-box {\r\n    display: grid;\r\n    grid-template-rows: 1fr;\r\n    grid-template-columns: min-content;\r\n    grid-auto-flow: column;\r\n    grid-gap: 20px;\r\n    justify-content: start;\r\n\r\n    & button {\r\n      width: fit-content;\r\n      padding-left: 26px;\r\n      padding-right: 26px;\r\n    }\r\n  }\r\n\r\n  &__box-activities {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    row-gap: 8px;\r\n    column-gap: 16px;\r\n    grid-auto-columns: 1fr;\r\n    grid-auto-flow: row;\r\n    text-align: start;\r\n  }\r\n\r\n  &__box-activities-column {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: fit-content(100%);\r\n    grid-gap: 8px;\r\n    grid-auto-columns: 1fr;\r\n    grid-auto-flow: row;\r\n  }\r\n\r\n  &__text-button {\r\n    width: fit-content;\r\n    color: var(--primary40);\r\n  }\r\n\r\n  &__splitter {\r\n    width: 100%;\r\n    background: var(--font-gray-v2);\r\n    height: 100%;\r\n  }\r\n\r\n  &__box {\r\n    display: grid;\r\n    grid-template-columns: 250px 1px 1fr;\r\n    grid-template-rows: max-content;\r\n    height: fit-content;\r\n  }\r\n\r\n  &__right-box {\r\n    display: grid;\r\n    background: var(--primary98);\r\n    grid-template-rows: min-content;\r\n    grid-auto-rows: min-content;\r\n    padding: 20px;\r\n    gap: 26px;\r\n  }\r\n\r\n  &__unit-box {\r\n    display: grid;\r\n    height: fit-content;\r\n    grid-gap: 16px;\r\n  }\r\n\r\n  &__details {\r\n    display: grid;\r\n    justify-items: start;\r\n    grid-auto-rows: min-content;\r\n\r\n    text-align: start;\r\n    & * {\r\n      padding: 0;\r\n      margin: 0;\r\n    }\r\n  }\r\n\r\n  &__video-input {\r\n    min-height: 115px;\r\n  }\r\n\r\n  &__video {\r\n    display: flex;\r\n    border: none;\r\n    outline: none;\r\n  }\r\n\r\n  &__video-box {\r\n    width: 100%;\r\n    height: 350px;\r\n    padding: 8px;\r\n  }\r\n\r\n  &__video-recommendation {\r\n    padding-top: 8px;\r\n    padding-bottom: 8px;\r\n  }\r\n}\r\n</style>","import script from \"./EpisodeEditorComponent.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./EpisodeEditorComponent.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./EpisodeEditorComponent.vue?vue&type=style&index=0&id=7f0f78b2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7f0f78b2\"]])\n\nexport default __exports__","export const HistoryType = {\r\n    Content: \"Content\",\r\n    Episode: \"Episode\",\r\n} as const;\r\n\r\nexport const HistoryChangesOrderType = {\r\n    Unspecified: \"Unspecified\",\r\n    ById: \"ById\",\r\n    ByName: \"ByName\",\r\n    ByCreated: \"ByCreated\",\r\n    ByCreatedDescending: \"ByCreatedDescending\"\r\n} as const;","<template>\r\n  <svg\r\n    width=\"18\" height=\"18\"\r\n    viewBox=\"0 0 18 18\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path d=\"M6.75012 12.1274L3.62262 8.99988L2.55762 10.0574L6.75012 14.2499L15.7501 5.24988L14.6926 4.19238L6.75012 12.1274Z\" fill=\"currentColor\" />\r\n  </svg>\r\n</template>","import { render } from \"./MarkIcon.vue?vue&type=template&id=6edb6d87\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"18\" height=\"18\"\r\n    viewBox=\"0 0 18 18\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n      d=\"M9 3C7.3425 3 6 4.3425 6 6C6 7.6575 7.3425 9 9 9C10.6575 9 12 7.6575 12 6C12 4.3425 10.6575 3 9 3ZM10.5 6C10.5 5.175 9.825 4.5 9 4.5C8.175 4.5 7.5 5.175 7.5 6C7.5 6.825 8.175 7.5 9 7.5C9.825 7.5 10.5 6.825 10.5 6ZM13.5 12.75C13.35 12.2175 11.025 11.25 9 11.25C6.975 11.25 4.65 12.2175 4.5 12.7575V13.5H13.5V12.75ZM3 12.75C3 10.755 6.9975 9.75 9 9.75C11.0025 9.75 15 10.755 15 12.75V15H3V12.75Z\" fill=\"black\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./UserIconOutlined.vue?vue&type=template&id=89bddd2e\"\nconst script = {}\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, vShow as _vShow, withModifiers as _withModifiers, normalizeClass as _normalizeClass, withDirectives as _withDirectives, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, withCtx as _withCtx, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-03510552\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"material edit-list__main\" }\nconst _hoisted_2 = { class: \"edit-list__filters gap-8\" }\nconst _hoisted_3 = { class: \"edit-list__header dynamic\" }\nconst _hoisted_4 = { class: \"title-large\" }\nconst _hoisted_5 = { class: \"row gap-26\" }\nconst _hoisted_6 = {\n  key: 0,\n  class: \"edit-list__image-box\"\n}\nconst _hoisted_7 = [\"src\"]\nconst _hoisted_8 = [\"src\"]\nconst _hoisted_9 = { class: \"edit-list__body\" }\nconst _hoisted_10 = { class: \"edit-list__field-name body-large\" }\nconst _hoisted_11 = { class: \"row gap-8\" }\nconst _hoisted_12 = {\n  key: 0,\n  class: \"body-medium edit-list__field-comparison--old\"\n}\nconst _hoisted_13 = { class: \"body-medium edit-list__field-comparison--new\" }\nconst _hoisted_14 = {\n  key: 2,\n  class: \"edit-list__footer h__space-between v__center\"\n}\nconst _hoisted_15 = {\n  class: \"row gap-16\",\n  style: {\"width\":\"100%\"}\n}\n\nimport {inject, onMounted, ref} from \"vue\";\r\nimport {ChangesHistoryService} from \"@/api/ChangesHistoryService\";\r\nimport {ChangeUnit} from \"@/api/Responses/V1GetChangesComparisonsResponse\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport {HistoryChangesOrderType, HistoryType} from \"@/api/Enums/HistoryType\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\nimport AsyncSearchSelector from \"@/components/Base/Selector/AsyncSearchSelector.vue\";\r\nimport {ContentService, V1SearchByResponseUnit} from \"@/api/ContentService\";\r\nimport {ImageService} from \"@/api/ImageService\";\r\nimport MarkIcon from \"@/components/Icons/MaterialIcons/MarkIcon.vue\";\r\nimport UserIconOutlined from \"@/components/Icons/MaterialIcons/UserIconOutlined.vue\";\r\nimport BaseTextButton from \"@/components/Base/BaseTextButton.vue\";\r\nimport NavLeftArrowIcon from \"@/components/Icons/MaterialIcons/NavLeftArrowIcon.vue\";\r\nimport NavRightArrowIcon from \"@/components/Icons/MaterialIcons/NavRightArrowIcon.vue\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\nconst limit = 5;\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EditListComponent',\n  setup(__props) {\n\r\nconst imageService = inject<ImageService>('image-service');\r\nconst changesHistoryService = inject<ChangesHistoryService>('changes-history-service');\r\nconst contentService = inject<ContentService>('content-service');\r\nconst clientEventStore = ClientEventStore();\r\nconst router = useRouter();\r\nconst currentUserStore = userStore();\r\n\r\nconst searchSelectableValueModels = ref<V1SearchByResponseUnit[]>([]);\r\nconst filters = {\r\n  contentIds: ref<number[]>([]),\r\n  search: ref<string | null>(null),\r\n  orderBy: ref<string | null>('По умолчанию'),\r\n  historyType: ref<string | null>(''),\r\n  status: ref<string | null>(''),\r\n  isMy: ref<boolean | null>(null)\r\n};\r\n\r\nconst dataIsReady = ref(false);\r\nconst changes = ref<ChangeUnit[]>();\r\nconst isSearchMenuDropped = ref(false);\r\nlet offset = 0;\r\n\r\nonMounted(async () => {\r\n  dataIsReady.value = false;\r\n  await updatePage(0);\r\n  dataIsReady.value = true;\r\n});\r\n\r\nasync function updatePage(addOffset: number = 0) {\r\n  dataIsReady.value = false;\r\n\r\n  if (addOffset < 0 && (offset + addOffset) <= 0) {\r\n    offset = 0;\r\n  } else {\r\n    offset += addOffset;\r\n  }\r\n\r\n  const response = await changesHistoryService.getChangesComparisons({\r\n    Approved: getApprovedStatus(filters.status.value),\r\n    CreatedByIds: filters.isMy.value && currentUserStore.loggedIn ? [currentUserStore.userId] : [],\r\n    HistoryTypes: getHistoryTypes(filters.historyType.value),\r\n    OrderBy: getOrderByType(filters.orderBy.value),\r\n    Ids: [],\r\n    Limit: limit,\r\n    Offset: offset,\r\n    TargetIds: filters.contentIds?.value ?? [],\r\n  });\r\n\r\n  changes.value = response.data.Changes;\r\n\r\n  dataIsReady.value = true;\r\n}\r\n\r\nfunction getApprovedStatus(filterStatus: string) : boolean | null {\r\n  if (filterStatus === 'По умолчанию') {\r\n    return null;\r\n  } else if (filterStatus === 'Не одобрено') {\r\n    return false;\r\n  } else if (filterStatus === 'Одобрено') {\r\n    return true;\r\n  }\r\n}\r\n\r\nfunction getHistoryTypes(value: string) : typeof HistoryType[]{\r\n  if (value === 'Серия') {\r\n    return [HistoryType.Episode as typeof HistoryType];\r\n  } else if (value === 'Дорама') {\r\n    return [HistoryType.Content as typeof HistoryType];\r\n  }\r\n  return [];\r\n}\r\n\r\nfunction getOrderByType(selectedOrder: string) : typeof HistoryChangesOrderType {\r\n  if (selectedOrder === 'Сначала старые') {\r\n    return HistoryChangesOrderType.ByCreated as typeof HistoryChangesOrderType;\r\n  } else if (selectedOrder === 'По названию') {\r\n    return HistoryChangesOrderType.ByName as typeof HistoryChangesOrderType;\r\n  } else if (selectedOrder === 'По идентификатору') {\r\n    return HistoryChangesOrderType.ById as typeof HistoryChangesOrderType;\r\n  } else if (selectedOrder === 'Сначала новые') {\r\n    return HistoryChangesOrderType.ByCreatedDescending as typeof HistoryChangesOrderType;\r\n  }\r\n  return HistoryChangesOrderType.Unspecified as typeof HistoryChangesOrderType;\r\n}\r\n\r\nasync function clickOnMineFilter() {\r\n  if (currentUserStore.loggedIn) {\r\n    filters.isMy.value = !filters.isMy.value\r\n    await updatePage(0);\r\n    return;\r\n  }\r\n\r\n  clientEventStore.push(\"Сначала необходимо авторизоваться!\", EventTypes.Error);\r\n}\r\n\r\nasync function approveClick(historyId: number) {\r\n  if (!currentUserStore.loggedIn) {\r\n    clientEventStore.push('Для начала необходимо авторизоваться!', EventTypes.Error);\r\n    await router.push('/login');\r\n    return;\r\n  }\r\n\r\n  const userId = currentUserStore.userId;\r\n  const unit = changes.value.find(change => change.HistoryId === historyId);\r\n\r\n  const response = (await changesHistoryService.approve(historyId, userId))\r\n    .onException(() => clientEventStore.push(\"Ошибка сервера! Заявка не одобрена.\", EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError((error) => clientEventStore.push(error.Message, EventTypes.Error as typeof EventTypes));\r\n\r\n  if (response.data) {\r\n    unit.ApprovedAt = Date.now();\r\n    unit.ApprovedBy = userId;\r\n    clientEventStore.push(\"Успех! Одобрено!\", EventTypes.Success)\r\n  }\r\n}\r\n\r\nfunction getVideoLinkByChangesComparisons(units: ChangeUnit): string {\r\n  return units.FieldsComparisons.find(unit => unit.Name === 'Видео').NewValue;\r\n}\r\n\r\nasync function pressEnterSearch(input: string) {\r\n  // Скрываем выпадающий список.\r\n  searchSelectableValueModels.value = [];\r\n\r\n  const foundedContents = await contentService.searchBy(input);\r\n  filters.contentIds.value = foundedContents.Units.map(c => c.ContentId);\r\n  await updatePage()\r\n}\r\n\r\nasync function searchByInput(input: string, isSelected: boolean) {\r\n  const response = await contentService.searchBy(input);\r\n  searchSelectableValueModels.value = response.Units;\r\n\r\n  // IsSelected равен true, когда был выбран элемент из выпадающего списка\r\n  if (isSelected) {\r\n    filters.contentIds.value = [searchSelectableValueModels.value.find(content => content.Title === input).ContentId];\r\n    await updatePage();\r\n  }\r\n\r\n  isSearchMenuDropped.value = searchSelectableValueModels.value.length > 0;\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(AsyncSearchSelector, {\n      class: \"edit-list__search m-radius-1 m3-bg-1 m-border m-border-active\",\n      placeholder: 'Поиск',\n      values: searchSelectableValueModels.value?.map(x => x.Title) ?? [],\n      \"is-dropped\": isSearchMenuDropped.value,\n      \"call-updater-delay\": 500,\n      \"onChange:input\": searchByInput,\n      \"onOnkeydown:enter\": pressEnterSearch\n    }, null, 8, [\"values\", \"is-dropped\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _withDirectives(_createVNode(FilterChips, {\n        class: _normalizeClass([\"m-radius-1\", {'edit-list__filters-unit--enabled': filters.isMy.value}]),\n        text: 'Мои',\n        onClick: _withModifiers(clickOnMineFilter, [\"stop\"])\n      }, null, 8, [\"class\"]), [\n        [_vShow, _unref(currentUserStore).loggedIn]\n      ]),\n      _createVNode(BaseSelector, {\n        modelValue: filters.orderBy.value,\n        \"onUpdate:modelValue\": [\n          _cache[0] || (_cache[0] = ($event: any) => ((filters.orderBy.value) = $event)),\n          _cache[1] || (_cache[1] = () => {updatePage(0)})\n        ],\n        class: \"edit-list__filters-unit m3-bg-1 m-radius-circle m-border\",\n        title: 'Сортировать по',\n        \"menu-alignment\": _unref(MenuAlignment).Left,\n        \"selectable-values\": ['По идентификатору', 'По названию', 'Сначала новые', 'Сначала старые']\n      }, null, 8, [\"modelValue\", \"menu-alignment\"]),\n      _createVNode(BaseSelector, {\n        modelValue: filters.historyType.value,\n        \"onUpdate:modelValue\": [\n          _cache[2] || (_cache[2] = ($event: any) => ((filters.historyType.value) = $event)),\n          _cache[3] || (_cache[3] = () => {updatePage(0)})\n        ],\n        class: \"edit-list__filters-unit m3-bg-1 m-radius-circle m-border\",\n        title: 'Тип',\n        \"menu-alignment\": _unref(MenuAlignment).Left,\n        \"selectable-values\": ['Все', 'Дорама', 'Серия']\n      }, null, 8, [\"modelValue\", \"menu-alignment\"]),\n      _createVNode(BaseSelector, {\n        modelValue: filters.status.value,\n        \"onUpdate:modelValue\": [\n          _cache[4] || (_cache[4] = ($event: any) => ((filters.status.value) = $event)),\n          _cache[5] || (_cache[5] = () => {updatePage(0)})\n        ],\n        class: \"edit-list__filters-unit m3-bg-1 m-radius-circle m-border\",\n        title: 'Статус',\n        \"menu-alignment\": _unref(MenuAlignment).Left,\n        \"selectable-values\": ['Все', 'Не одобрено', 'Одобрено']\n      }, null, 8, [\"modelValue\", \"menu-alignment\"])\n    ]),\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(changes.value, (unit) => {\n      return (_openBlock(), _createBlock(BaseBackground, {\n        key: unit,\n        type: 2,\n        class: \"edit-list__history m-radius-28 m3-bg-1\"\n      }, {\n        default: _withCtx(() => [\n          _createElementVNode(\"div\", _hoisted_3, [\n            _createElementVNode(\"div\", null, [\n              _createElementVNode(\"p\", _hoisted_4, _toDisplayString(unit.Title) + \"#\" + _toDisplayString(unit.HistoryId), 1),\n              _createElementVNode(\"p\", null, _toDisplayString(_unref(StringExtensions).getDateStr(unit.CreatedAt)), 1)\n            ]),\n            _createElementVNode(\"div\", _hoisted_5, [\n              _createVNode(FilterChips, {\n                class: \"edit-list__author m-border m-radius-1\",\n                text: unit.CreatedBy ? 'Автор#'+unit.CreatedBy : 'Система',\n                \"enable-text-icon\": true\n              }, {\n                \"text-icon\": _withCtx(() => [\n                  _createVNode(UserIconOutlined)\n                ]),\n                _: 2\n              }, 1032, [\"text\"]),\n              (unit.ApprovedBy != null)\n                ? (_openBlock(), _createBlock(FilterChips, {\n                    key: 0,\n                    class: \"edit-list__approver m-border m-radius-1\",\n                    text: (unit.ApprovedBy ? 'Пользователь#' + unit.ApprovedBy : 'Система'),\n                    \"enable-text-icon\": true\n                  }, {\n                    \"text-icon\": _withCtx(() => [\n                      _createVNode(MarkIcon)\n                    ]),\n                    _: 2\n                  }, 1032, [\"text\"]))\n                : _createCommentVNode(\"\", true)\n            ])\n          ]),\n          (unit.HistoryType === _unref(HistoryType).Content)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                _createElementVNode(\"img\", {\n                  class: \"edit-list__content-image m-radius-2\",\n                  src: _unref(imageService).getImageLink(\r\n              unit.ImageId,\r\n              // Идентификатор будущего контента формирует\r\n              // HistoryId - если контент новый\r\n              // TargetId - если редактируется существующий материал\r\n              (unit.TargetId === null || unit.TargetId === 0) ? unit.HistoryId : unit.TargetId),\n                  alt: \"Изображение контента\",\n                  onError: _cache[6] || (_cache[6] = ($event: any) => ($event.target.src = require('@/assets/images/DefaultImage.png')))\n                }, null, 40, _hoisted_7)\n              ]))\n            : (unit.HistoryType === _unref(HistoryType).Episode)\n              ? (_openBlock(), _createElementBlock(\"iframe\", {\n                  key: 1,\n                  class: \"edit-list__image-box\",\n                  src: getVideoLinkByChangesComparisons(unit),\n                  frameborder: \"0\",\n                  allow: \"autoplay; encrypted-media; fullscreen; picture-in-picture\",\n                  allowfullscreen: \"\"\n                }, null, 8, _hoisted_8))\n              : _createCommentVNode(\"\", true),\n          _createElementVNode(\"div\", _hoisted_9, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(unit.FieldsComparisons, (fieldComparison) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                key: fieldComparison,\n                class: \"edit-list__field-comparison\"\n              }, [\n                _createElementVNode(\"div\", _hoisted_10, _toDisplayString(fieldComparison.Name), 1),\n                _createElementVNode(\"div\", _hoisted_11, [\n                  (fieldComparison.OldValue)\n                    ? (_openBlock(), _createElementBlock(\"span\", _hoisted_12, _toDisplayString(fieldComparison.OldValue), 1))\n                    : _createCommentVNode(\"\", true),\n                  _createElementVNode(\"span\", _hoisted_13, _toDisplayString(fieldComparison.NewValue), 1)\n                ])\n              ]))\n            }), 128))\n          ]),\n          (unit.ApprovedBy === null)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [\n                _createElementVNode(\"a\", null, [\n                  _createVNode(BaseButton, {\n                    variant: 'filled',\n                    class: \"material m-radius-circle body-large edit-list__icon\",\n                    onClick: ($event: any) => (approveClick(unit.HistoryId))\n                  }, {\n                    default: _withCtx(() => [\n                      _createTextVNode(\" Одобрить \")\n                    ]),\n                    _: 2\n                  }, 1032, [\"onClick\"])\n                ])\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _: 2\n      }, 1024))\n    }), 128)),\n    _createElementVNode(\"div\", _hoisted_15, [\n      (_unref(offset) !== 0)\n        ? (_openBlock(), _createBlock(BaseTextButton, {\n            key: 0,\n            class: \"edit-list__paging-button title-medium m3-bg-1 m-radius-28 gap-8\",\n            onClick: _cache[7] || (_cache[7] = ($event: any) => (updatePage(-10)))\n          }, {\n            default: _withCtx(() => [\n              _createVNode(NavLeftArrowIcon),\n              _createTextVNode(\" Предыдущая страница \")\n            ]),\n            _: 1\n          }))\n        : _createCommentVNode(\"\", true),\n      _createVNode(BaseTextButton, {\n        class: \"edit-list__paging-button title-medium m3-bg-1 m-radius-28 gap-8\",\n        onClick: _cache[8] || (_cache[8] = ($event: any) => (updatePage(5)))\n      }, {\n        default: _withCtx(() => [\n          _createTextVNode(\" Следующая страница \"),\n          _createVNode(NavRightArrowIcon)\n        ]),\n        _: 1\n      })\n    ])\n  ], 512)), [\n    [_vShow, dataIsReady.value]\n  ])\n}\n}\n\n})","<template>\r\n  <div v-show=\"dataIsReady\" class=\"material edit-list__main\">\r\n    <async-search-selector\r\n      class=\"edit-list__search m-radius-1 m3-bg-1 m-border m-border-active\"\r\n      :placeholder=\"'Поиск'\"\r\n      :values=\"searchSelectableValueModels?.map(x => x.Title) ?? []\"\r\n      :is-dropped=\"isSearchMenuDropped\"\r\n      :call-updater-delay=\"500\"\r\n      @change:input=\"searchByInput\"\r\n      @onkeydown:enter=\"pressEnterSearch\"\r\n    />\r\n    <div class=\"edit-list__filters gap-8\">\r\n      <filter-chips\r\n        v-show=\"currentUserStore.loggedIn\"\r\n        class=\" m-radius-1\"\r\n        :class=\"{'edit-list__filters-unit--enabled': filters.isMy.value}\"\r\n        :text=\"'Мои'\"\r\n        @click.stop=\"clickOnMineFilter\"\r\n      />\r\n      <base-selector\r\n        v-model=\"filters.orderBy.value\"\r\n        class=\"edit-list__filters-unit m3-bg-1 m-radius-circle m-border\"\r\n        :title=\"'Сортировать по'\"\r\n        :menu-alignment=\"MenuAlignment.Left\"\r\n        :selectable-values=\"['По идентификатору', 'По названию', 'Сначала новые', 'Сначала старые']\"\r\n        @update:modelValue=\"() => {updatePage(0)}\"\r\n      />\r\n      <base-selector\r\n        v-model=\"filters.historyType.value\"\r\n        class=\"edit-list__filters-unit m3-bg-1 m-radius-circle m-border\"\r\n        :title=\"'Тип'\"\r\n        :menu-alignment=\"MenuAlignment.Left\"\r\n        :selectable-values=\"['Все', 'Дорама', 'Серия']\"\r\n        @update:modelValue=\"() => {updatePage(0)}\"\r\n      />\r\n      <base-selector\r\n        v-model=\"filters.status.value\"\r\n        class=\"edit-list__filters-unit m3-bg-1 m-radius-circle m-border\"\r\n        :title=\"'Статус'\"\r\n        :menu-alignment=\"MenuAlignment.Left\"\r\n        :selectable-values=\"['Все', 'Не одобрено', 'Одобрено']\"\r\n        @update:modelValue=\"() => {updatePage(0)}\"\r\n      />\r\n    </div>\r\n\r\n    <base-background\r\n      v-for=\"unit in changes\" :key=\"unit\"\r\n      :type=\"2\"\r\n      class=\"edit-list__history m-radius-28 m3-bg-1\"\r\n    >\r\n      <div class=\"edit-list__header dynamic\">\r\n        <div>\r\n          <p class=\"title-large\">\r\n            {{ unit.Title }}#{{ unit.HistoryId }}\r\n          </p>\r\n          <p>{{ StringExtensions.getDateStr(unit.CreatedAt) }}</p>\r\n        </div>\r\n\r\n        <div class=\"row gap-26\">\r\n          <filter-chips\r\n            class=\"edit-list__author m-border m-radius-1\"\r\n            :text=\"unit.CreatedBy ? 'Автор#'+unit.CreatedBy : 'Система'\"\r\n            :enable-text-icon=\"true\"\r\n          >\r\n            <template #text-icon>\r\n              <user-icon-outlined />\r\n            </template>\r\n          </filter-chips>\r\n          <filter-chips\r\n            v-if=\"unit.ApprovedBy != null\"\r\n            class=\"edit-list__approver m-border m-radius-1\"\r\n            :text=\"(unit.ApprovedBy ? 'Пользователь#' + unit.ApprovedBy : 'Система')\"\r\n            :enable-text-icon=\"true\"\r\n          >\r\n            <template #text-icon>\r\n              <mark-icon />\r\n            </template>\r\n          </filter-chips>\r\n        </div>\r\n      </div>\r\n\r\n      <template v-if=\"unit.HistoryType === HistoryType.Content\">\r\n        <div class=\"edit-list__image-box\">\r\n          <img\r\n            class=\"edit-list__content-image m-radius-2\"\r\n            :src=\"imageService.getImageLink(\r\n              unit.ImageId,\r\n              // Идентификатор будущего контента формирует\r\n              // HistoryId - если контент новый\r\n              // TargetId - если редактируется существующий материал\r\n              (unit.TargetId === null || unit.TargetId === 0) ? unit.HistoryId : unit.TargetId)\"\r\n            alt=\"Изображение контента\"\r\n            @error=\"$event.target.src = require('@/assets/images/DefaultImage.png')\"\r\n          >\r\n        </div>\r\n      </template>\r\n      <template v-else-if=\"unit.HistoryType === HistoryType.Episode\">\r\n        <iframe\r\n          class=\"edit-list__image-box\"\r\n          :src=\"getVideoLinkByChangesComparisons(unit)\"\r\n          frameborder=\"0\"\r\n          allow=\"autoplay; encrypted-media; fullscreen; picture-in-picture\"\r\n          allowfullscreen\r\n        />\r\n      </template>\r\n      <div class=\"edit-list__body\">\r\n        <div\r\n          v-for=\"fieldComparison in unit.FieldsComparisons\"\r\n          :key=\"fieldComparison\"\r\n          class=\"edit-list__field-comparison\"\r\n        >\r\n          <div class=\"edit-list__field-name body-large\">\r\n            {{ fieldComparison.Name }}\r\n          </div>\r\n          <div class=\"row gap-8\">\r\n            <span v-if=\"fieldComparison.OldValue\" class=\"body-medium edit-list__field-comparison--old\">\r\n              {{ fieldComparison.OldValue }}\r\n            </span>\r\n            <span class=\"body-medium edit-list__field-comparison--new\">\r\n              {{ fieldComparison.NewValue }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        v-if=\"unit.ApprovedBy === null\"\r\n        class=\"edit-list__footer h__space-between v__center\"\r\n      >\r\n        <a>\r\n          <base-button\r\n            :variant=\"'filled'\"\r\n            class=\"material m-radius-circle body-large edit-list__icon\"\r\n            @click=\"approveClick(unit.HistoryId)\"\r\n          >\r\n            Одобрить\r\n          </base-button>\r\n        </a>\r\n      </div>\r\n    </base-background>\r\n    <div class=\"row gap-16\" style=\"width: 100%\">\r\n      <base-text-button\r\n        v-if=\"offset !== 0\"\r\n        class=\"edit-list__paging-button title-medium m3-bg-1 m-radius-28 gap-8\"\r\n        @click=\"updatePage(-10)\"\r\n      >\r\n        <nav-left-arrow-icon />\r\n        Предыдущая страница\r\n      </base-text-button>\r\n      <base-text-button\r\n        class=\"edit-list__paging-button title-medium m3-bg-1 m-radius-28 gap-8\"\r\n        @click=\"updatePage(5)\"\r\n      >\r\n        Следующая страница\r\n        <nav-right-arrow-icon />\r\n      </base-text-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {inject, onMounted, ref} from \"vue\";\r\nimport {ChangesHistoryService} from \"@/api/ChangesHistoryService\";\r\nimport {ChangeUnit} from \"@/api/Responses/V1GetChangesComparisonsResponse\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport {HistoryChangesOrderType, HistoryType} from \"@/api/Enums/HistoryType\";\r\nimport FilterChips from \"@/components/UseReadyComponents/MaterialComponents/FilterChips.vue\";\r\nimport BaseSelector from \"@/components/Base/Selector/BaseSelector.vue\";\r\nimport {MenuAlignment} from \"@/components/Base/Selector/Internal/MenuAlignment\";\r\nimport AsyncSearchSelector from \"@/components/Base/Selector/AsyncSearchSelector.vue\";\r\nimport {ContentService, V1SearchByResponseUnit} from \"@/api/ContentService\";\r\nimport {ImageService} from \"@/api/ImageService\";\r\nimport MarkIcon from \"@/components/Icons/MaterialIcons/MarkIcon.vue\";\r\nimport UserIconOutlined from \"@/components/Icons/MaterialIcons/UserIconOutlined.vue\";\r\nimport BaseTextButton from \"@/components/Base/BaseTextButton.vue\";\r\nimport NavLeftArrowIcon from \"@/components/Icons/MaterialIcons/NavLeftArrowIcon.vue\";\r\nimport NavRightArrowIcon from \"@/components/Icons/MaterialIcons/NavRightArrowIcon.vue\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\nconst imageService = inject<ImageService>('image-service');\r\nconst changesHistoryService = inject<ChangesHistoryService>('changes-history-service');\r\nconst contentService = inject<ContentService>('content-service');\r\nconst clientEventStore = ClientEventStore();\r\nconst router = useRouter();\r\nconst currentUserStore = userStore();\r\n\r\nconst searchSelectableValueModels = ref<V1SearchByResponseUnit[]>([]);\r\nconst filters = {\r\n  contentIds: ref<number[]>([]),\r\n  search: ref<string | null>(null),\r\n  orderBy: ref<string | null>('По умолчанию'),\r\n  historyType: ref<string | null>(''),\r\n  status: ref<string | null>(''),\r\n  isMy: ref<boolean | null>(null)\r\n};\r\n\r\nconst dataIsReady = ref(false);\r\nconst changes = ref<ChangeUnit[]>();\r\nconst isSearchMenuDropped = ref(false);\r\nconst limit = 5;\r\nlet offset = 0;\r\n\r\nonMounted(async () => {\r\n  dataIsReady.value = false;\r\n  await updatePage(0);\r\n  dataIsReady.value = true;\r\n});\r\n\r\nasync function updatePage(addOffset: number = 0) {\r\n  dataIsReady.value = false;\r\n\r\n  if (addOffset < 0 && (offset + addOffset) <= 0) {\r\n    offset = 0;\r\n  } else {\r\n    offset += addOffset;\r\n  }\r\n\r\n  const response = await changesHistoryService.getChangesComparisons({\r\n    Approved: getApprovedStatus(filters.status.value),\r\n    CreatedByIds: filters.isMy.value && currentUserStore.loggedIn ? [currentUserStore.userId] : [],\r\n    HistoryTypes: getHistoryTypes(filters.historyType.value),\r\n    OrderBy: getOrderByType(filters.orderBy.value),\r\n    Ids: [],\r\n    Limit: limit,\r\n    Offset: offset,\r\n    TargetIds: filters.contentIds?.value ?? [],\r\n  });\r\n\r\n  changes.value = response.data.Changes;\r\n\r\n  dataIsReady.value = true;\r\n}\r\n\r\nfunction getApprovedStatus(filterStatus: string) : boolean | null {\r\n  if (filterStatus === 'По умолчанию') {\r\n    return null;\r\n  } else if (filterStatus === 'Не одобрено') {\r\n    return false;\r\n  } else if (filterStatus === 'Одобрено') {\r\n    return true;\r\n  }\r\n}\r\n\r\nfunction getHistoryTypes(value: string) : typeof HistoryType[]{\r\n  if (value === 'Серия') {\r\n    return [HistoryType.Episode as typeof HistoryType];\r\n  } else if (value === 'Дорама') {\r\n    return [HistoryType.Content as typeof HistoryType];\r\n  }\r\n  return [];\r\n}\r\n\r\nfunction getOrderByType(selectedOrder: string) : typeof HistoryChangesOrderType {\r\n  if (selectedOrder === 'Сначала старые') {\r\n    return HistoryChangesOrderType.ByCreated as typeof HistoryChangesOrderType;\r\n  } else if (selectedOrder === 'По названию') {\r\n    return HistoryChangesOrderType.ByName as typeof HistoryChangesOrderType;\r\n  } else if (selectedOrder === 'По идентификатору') {\r\n    return HistoryChangesOrderType.ById as typeof HistoryChangesOrderType;\r\n  } else if (selectedOrder === 'Сначала новые') {\r\n    return HistoryChangesOrderType.ByCreatedDescending as typeof HistoryChangesOrderType;\r\n  }\r\n  return HistoryChangesOrderType.Unspecified as typeof HistoryChangesOrderType;\r\n}\r\n\r\nasync function clickOnMineFilter() {\r\n  if (currentUserStore.loggedIn) {\r\n    filters.isMy.value = !filters.isMy.value\r\n    await updatePage(0);\r\n    return;\r\n  }\r\n\r\n  clientEventStore.push(\"Сначала необходимо авторизоваться!\", EventTypes.Error);\r\n}\r\n\r\nasync function approveClick(historyId: number) {\r\n  if (!currentUserStore.loggedIn) {\r\n    clientEventStore.push('Для начала необходимо авторизоваться!', EventTypes.Error);\r\n    await router.push('/login');\r\n    return;\r\n  }\r\n\r\n  const userId = currentUserStore.userId;\r\n  const unit = changes.value.find(change => change.HistoryId === historyId);\r\n\r\n  const response = (await changesHistoryService.approve(historyId, userId))\r\n    .onException(() => clientEventStore.push(\"Ошибка сервера! Заявка не одобрена.\", EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError((error) => clientEventStore.push(error.Message, EventTypes.Error as typeof EventTypes));\r\n\r\n  if (response.data) {\r\n    unit.ApprovedAt = Date.now();\r\n    unit.ApprovedBy = userId;\r\n    clientEventStore.push(\"Успех! Одобрено!\", EventTypes.Success)\r\n  }\r\n}\r\n\r\nfunction getVideoLinkByChangesComparisons(units: ChangeUnit): string {\r\n  return units.FieldsComparisons.find(unit => unit.Name === 'Видео').NewValue;\r\n}\r\n\r\nasync function pressEnterSearch(input: string) {\r\n  // Скрываем выпадающий список.\r\n  searchSelectableValueModels.value = [];\r\n\r\n  const foundedContents = await contentService.searchBy(input);\r\n  filters.contentIds.value = foundedContents.Units.map(c => c.ContentId);\r\n  await updatePage()\r\n}\r\n\r\nasync function searchByInput(input: string, isSelected: boolean) {\r\n  const response = await contentService.searchBy(input);\r\n  searchSelectableValueModels.value = response.Units;\r\n\r\n  // IsSelected равен true, когда был выбран элемент из выпадающего списка\r\n  if (isSelected) {\r\n    filters.contentIds.value = [searchSelectableValueModels.value.find(content => content.Title === input).ContentId];\r\n    await updatePage();\r\n  }\r\n\r\n  isSearchMenuDropped.value = searchSelectableValueModels.value.length > 0;\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.edit-list {\r\n  &__paging-button {\r\n    display: flex;\r\n    padding: 24px;\r\n    color: var(--font-gray);\r\n    transition: border-radius .3s cubic-bezier(.2,0,0,1), background-color .3s cubic-bezier(.2,0,0,1);\r\n\r\n    &:hover {\r\n      background: var(--secondary-container-light);\r\n      border-radius: 48px;\r\n    }\r\n  }\r\n\r\n  &__author {\r\n    color: var(--on-secondary-container-light);\r\n    background: var(--secondary-container-light);\r\n    border-color: var(--primary60);\r\n  }\r\n\r\n  &__approver {\r\n    background: #CBE6B0;\r\n    border-color: #79BD33;\r\n  }\r\n\r\n  &__field-name {\r\n    color: #38383C;\r\n    grid-column-start: 0;\r\n    grid-column-end: 2;\r\n  }\r\n\r\n  &__field-comparison--old {\r\n    grid-row-start: 2;\r\n    color: #79747E;\r\n    text-decoration: line-through;\r\n  }\r\n\r\n  &__field-comparison--new {\r\n    grid-row-start: 3;\r\n    color: var(--primary40);\r\n  }\r\n\r\n  &__image-box {\r\n    display: flex;\r\n    height: 450px;\r\n    width: 100%;\r\n    justify-content: center;\r\n    align-items: center;\r\n    overflow: hidden;\r\n\r\n    & img {\r\n      width: 100%;\r\n      height: 100%;\r\n      margin: 0 24px 0 24px;\r\n      object-fit: cover;\r\n    }\r\n  }\r\n\r\n  &__search-box {\r\n    display: flex;\r\n    width: 100%;\r\n    gap: 8px;\r\n  }\r\n\r\n  &__search-unit {\r\n    display: flex;\r\n    height: 42px;\r\n  }\r\n\r\n  &__search {\r\n    background: var(--surface-container-lowest100);\r\n    transition: background-color 0.2s;\r\n  }\r\n\r\n  &__filters {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    width: 100%;\r\n\r\n    &-unit {\r\n      display: flex;\r\n      width: fit-content;\r\n      height: 32px;\r\n\r\n      &--enabled {\r\n        color: white;\r\n        background: var(--primary40);\r\n      }\r\n\r\n      &:hover {\r\n        background: var(--surface-container-high92);\r\n      }\r\n    }\r\n  }\r\n\r\n  &__main {\r\n    display: grid;\r\n    grid-auto-rows: max-content;\r\n    justify-items: center;\r\n    align-items: center;\r\n    padding-bottom: 40px;\r\n    gap: 10px;\r\n  }\r\n\r\n  &__history {\r\n    width: 100%;\r\n    overflow: hidden;\r\n  }\r\n\r\n  &__footer {\r\n    display: flex;\r\n    gap: 16px;\r\n    padding: 0 24px 24px 24px;\r\n  }\r\n\r\n  &__title {\r\n    color: var(--on-surface-light);\r\n    background: var(--surface-container-low96);\r\n  }\r\n\r\n  &__header {\r\n    display: flex;\r\n    width: 100%;\r\n\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    text-align: start;\r\n\r\n    padding: 16px 24px;\r\n    gap: 8px 24px;\r\n  }\r\n\r\n  &__body {\r\n    display: flex;\r\n    width: 100%;\r\n    flex-wrap: wrap; /* Перенос строк */\r\n\r\n    justify-content: start;\r\n    align-items: center;\r\n    text-align: start;\r\n\r\n    padding: 16px 24px;\r\n    gap: 8px 24px;\r\n  }\r\n\r\n  &__change {\r\n    display: flex;\r\n  }\r\n\r\n  &__value {\r\n    display: grid;\r\n  }\r\n\r\n  &__icon {\r\n    display: flex;\r\n    color: white;\r\n    width: fit-content;\r\n    padding: 8px 48px;\r\n  }\r\n\r\n  &__label {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 20px;\r\n  }\r\n}\r\n</style>","import script from \"./EditListComponent.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./EditListComponent.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./EditListComponent.vue?vue&type=style&index=0&id=03510552&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-03510552\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, unref as _unref, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-51ebdf25\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"edit__box\" }\n\nimport {computed, onBeforeUnmount, onMounted, ref, watch} from \"vue\";\r\nimport SettingsNavigation from \"@/components/Settings/SettingsNavigation.vue\";\r\nimport ContentEditorComponent from \"@/components/EditViews/ContentEditorComponent.vue\";\r\nimport {SettingsPageTypes} from \"@/models/SettingsPageTypes\";\r\nimport EpisodeEditorComponent from \"@/components/EditViews/EpisodeEditorComponent.vue\";\r\nimport EditListComponent from \"@/components/EditViews/EditListComponent.vue\";\r\nimport {useRoute} from \"vue-router\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EditsView',\n  setup(__props) {\n\r\nconst route = useRoute();\r\n\r\nconst contentId = ref<number | null>(null);\r\nconst episodeId = ref<number | null>(null);\r\n\r\n\r\ncontentId.value = +route.params.content;\r\nepisodeId.value = +route.params.episode;\r\nconst selectedPage = ref<typeof SettingsPageTypes>(choosePage());\r\n\r\nwatch(() => route.fullPath, () => {\r\n  selectedPage.value = choosePage();\r\n});\r\n\r\nfunction choosePage() : SettingsPageTypes {\r\n  if (route.fullPath.includes(\"content\")) {\r\n    return SettingsPageTypes.CreateContent;\r\n  } else if (route.fullPath.includes(\"episode\")) {\r\n    return SettingsPageTypes.CreateEpisode;\r\n  } else if (route.fullPath.includes(\"list\")){\r\n    return SettingsPageTypes.Edits;\r\n  } else {\r\n    return SettingsPageTypes.Edits;\r\n  }\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(SettingsNavigation, {\n      class: \"col\",\n      current: selectedPage.value\n    }, null, 8, [\"current\"]),\n    (selectedPage.value === _unref(SettingsPageTypes).Edits)\n      ? (_openBlock(), _createBlock(EditListComponent, { key: 0 }))\n      : _createCommentVNode(\"\", true),\n    (selectedPage.value === _unref(SettingsPageTypes).CreateContent)\n      ? (_openBlock(), _createBlock(ContentEditorComponent, {\n          key: 1,\n          \"content-id\": contentId.value\n        }, null, 8, [\"content-id\"]))\n      : _createCommentVNode(\"\", true),\n    (selectedPage.value === _unref(SettingsPageTypes).CreateEpisode)\n      ? (_openBlock(), _createBlock(EpisodeEditorComponent, {\n          key: 2,\n          \"content-id\": contentId.value,\n          \"episode-id\": episodeId.value\n        }, null, 8, [\"content-id\", \"episode-id\"]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"edit__box\">\r\n    <SettingsNavigation class=\"col\" :current=\"selectedPage\" />\r\n    <EditListComponent v-if=\"selectedPage === SettingsPageTypes.Edits\" />\r\n    <ContentEditorComponent\r\n      v-if=\"selectedPage === SettingsPageTypes.CreateContent\"\r\n      :content-id=\"contentId\"\r\n    />\r\n    <EpisodeEditorComponent\r\n      v-if=\"selectedPage === SettingsPageTypes.CreateEpisode\"\r\n      :content-id=\"contentId\"\r\n      :episode-id=\"episodeId\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport {computed, onBeforeUnmount, onMounted, ref, watch} from \"vue\";\r\nimport SettingsNavigation from \"@/components/Settings/SettingsNavigation.vue\";\r\nimport ContentEditorComponent from \"@/components/EditViews/ContentEditorComponent.vue\";\r\nimport {SettingsPageTypes} from \"@/models/SettingsPageTypes\";\r\nimport EpisodeEditorComponent from \"@/components/EditViews/EpisodeEditorComponent.vue\";\r\nimport EditListComponent from \"@/components/EditViews/EditListComponent.vue\";\r\nimport {useRoute} from \"vue-router\";\r\n\r\nconst route = useRoute();\r\n\r\nconst contentId = ref<number | null>(null);\r\nconst episodeId = ref<number | null>(null);\r\n\r\n\r\ncontentId.value = +route.params.content;\r\nepisodeId.value = +route.params.episode;\r\nconst selectedPage = ref<typeof SettingsPageTypes>(choosePage());\r\n\r\nwatch(() => route.fullPath, () => {\r\n  selectedPage.value = choosePage();\r\n});\r\n\r\nfunction choosePage() : SettingsPageTypes {\r\n  if (route.fullPath.includes(\"content\")) {\r\n    return SettingsPageTypes.CreateContent;\r\n  } else if (route.fullPath.includes(\"episode\")) {\r\n    return SettingsPageTypes.CreateEpisode;\r\n  } else if (route.fullPath.includes(\"list\")){\r\n    return SettingsPageTypes.Edits;\r\n  } else {\r\n    return SettingsPageTypes.Edits;\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.edit {\r\n  &__buttons-box {\r\n    display: grid;\r\n    grid-template-rows: 1fr;\r\n    grid-template-columns: min-content;\r\n    grid-auto-flow: column;\r\n    grid-gap: 20px;\r\n    justify-content: end;\r\n\r\n    & button {\r\n      width: fit-content;\r\n      padding-left: 26px;\r\n      padding-right: 26px;\r\n    }\r\n  }\r\n\r\n  &__selector {\r\n    width: 100%;\r\n  }\r\n\r\n  &__box-activities {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n    grid-gap: 10px;\r\n    grid-auto-columns: 1fr;\r\n    grid-auto-flow: row;\r\n  }\r\n\r\n  &__box-activities-column {\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: fit-content(100%);\r\n    grid-gap: 20px;\r\n    grid-auto-columns: 1fr;\r\n    grid-auto-flow: row;\r\n  }\r\n\r\n  &__text-button {\r\n    color: #6686B3;\r\n  }\r\n\r\n  &__splitter {\r\n    width: 100%;\r\n    background: var(--font-gray-v2);\r\n    height: 100%;\r\n  }\r\n\r\n  &__box {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: fit-content;\r\n    gap: 20px\r\n  }\r\n  \r\n  &__right-box {\r\n    display: grid;\r\n    grid-template-rows: min-content;\r\n    grid-auto-rows: min-content;\r\n    gap: 20px;\r\n    padding: 0 26px 26px 20px;\r\n  }\r\n\r\n  &__unit-box {\r\n    display: grid;\r\n    height: fit-content;\r\n    grid-template-columns: repeat(2, 2fr);\r\n    grid-column: 1;\r\n    grid-gap: 10px;\r\n    column-gap: 20px;\r\n    padding-bottom: 20px;\r\n    border-bottom: 1px solid var(--font-gray-v1);;\r\n  }\r\n\r\n  &__details {\r\n    display: grid;\r\n    justify-items: start;\r\n    grid-auto-rows: min-content;\r\n    gap: 6px;\r\n\r\n    & * {\r\n      padding: 0;\r\n      margin: 0;\r\n    }\r\n\r\n    & h4 {\r\n      color: var(--dark-primary);\r\n      height: fit-content;\r\n    }\r\n\r\n    & label {\r\n      color: var(--dark-primary);\r\n      height: fit-content;\r\n      text-align: start;\r\n    }\r\n  }\r\n\r\n  &__description-input {\r\n    resize: vertical;\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n</style>","import script from \"./EditsView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./EditsView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./EditsView.vue?vue&type=style&index=0&id=51ebdf25&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-51ebdf25\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, createVNode as _createVNode, withCtx as _withCtx, unref as _unref, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"column gap-16\" }\nconst _hoisted_2 = { class: \"row gap-16 v__start h__space-between\" }\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", null, null, -1)\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"title-large\" }, [\n  /*#__PURE__*/_createTextVNode(\" Шаг 1. Подтверждение адреса\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\"электронной почты \")\n], -1)\nconst _hoisted_5 = { class: \"body-medium\" }\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_7 = { class: \"column gap-16\" }\nconst _hoisted_8 = { class: \"row gap-16 v__start v__center h__space-between\" }\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"title-large\" }, \" Шаг 2. Введите код \", -1)\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-medium\" }, [\n  /*#__PURE__*/_createTextVNode(\" Проверьте электронную почту,\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\"мы отправили вам код подтверждения \")\n], -1)\nconst _hoisted_11 = { class: \"column gap-8\" }\nconst _hoisted_12 = { class: \"column gap-16\" }\nconst _hoisted_13 = { class: \"row gap-16 v__start h__space-between\" }\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"title-large\" }, [\n  /*#__PURE__*/_createTextVNode(\" Шаг 3. Введите адрес новой\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\"электронной почты \")\n], -1)\nconst _hoisted_15 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-medium\" }, [\n  /*#__PURE__*/_createTextVNode(\" Подтвердите свой новый адрес электронной\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\"почты чтобы его сохранить \")\n], -1)\nconst _hoisted_16 = { class: \"column gap-8\" }\nconst _hoisted_17 = { class: \"column gap-16\" }\nconst _hoisted_18 = { class: \"row gap-16 v__start v__center h__space-between\" }\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"title-large\" }, [\n  /*#__PURE__*/_createTextVNode(\" Шаг 4. Подтверждение нового адреса\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\"электронной почты \")\n], -1)\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"p\", { class: \"body-medium\" }, [\n  /*#__PURE__*/_createTextVNode(\" Проверьте электронную почту,\"),\n  /*#__PURE__*/_createElementVNode(\"br\"),\n  /*#__PURE__*/_createTextVNode(\"мы отправили вам код подтверждения \")\n], -1)\nconst _hoisted_21 = { class: \"column gap-8\" }\n\nimport ModalWindow from \"@/components/Base/ModalWindow.vue\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport {inject, onMounted, ref, watch} from \"vue\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport IconButton from \"@/components/Base/Buttons/IconButton.vue\";\r\nimport FolderIcon from \"@/components/Icons/FolderIcon.vue\";\r\nimport XIcon from \"@/components/Icons/xIcon.vue\";\r\nimport NavLeftArrowIcon from \"@/components/Icons/MaterialIcons/NavLeftArrowIcon.vue\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport {useRoute, useRouter} from \"vue-router\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\n\r\nenum EmailChangingSteps {\r\n  SendMailCode = 1,\r\n  CodeInput = 2,\r\n  NewEmailInput = 3,\r\n  NewMailCodeInput = 4\r\n}\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EmailChangeModal',\n  props: {\r\n  currentEmail: {type: String, required: true},\r\n  isVisible: {type: Boolean, required: true}\r\n},\n  emits: [\"on:close\"],\n  setup(__props, { emit: __emit }) {\n\r\nconst router = useRouter();\r\nconst eventStore = ClientEventStore();\r\nconst user = userStore();\r\nconst userApi = inject<UserApi>('user-api');\r\n\r\nonMounted(async () => {\r\n  if (!user.loggedIn) {\r\n    eventStore.push('Сначала необходимо авторизоваться!', EventTypes.Error as typeof EventTypes);\r\n    await router.push('/login');\r\n  }\r\n})\r\n\r\nconst emits = __emit;\r\n\r\nconst props = __props;\r\n\r\nconst currentEmail = user.email;\r\nconst step = ref<EmailChangingSteps>(EmailChangingSteps.SendMailCode);\r\nconst refIsVisible = ref<boolean>(props.isVisible);\r\n\r\nconst oldMailVerifyingCode = ref<string>();\r\nconst isInvalidOldMailVerifyingCode = ref<boolean>(false);\r\n\r\nconst newMail = ref<string>();\r\nconst isInvalidNewMail = ref<boolean>(false);\r\n\r\nconst newMailVerifyingCode = ref<string>();\r\nconst isInvalidNewMailVerifyingCode = ref<boolean>(false);\r\n\r\nlet updateMailToken: string = null;\r\n\r\nwatch(() => props.isVisible, (newValue: boolean) => {\r\n  refIsVisible.value = newValue;\r\n})\r\n\r\nasync function sendOldMailCode() {\r\n  const response = (await userApi.SendUpdateMailCode())\r\n    .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError(() => eventStore.push('Сначала необходимо авторизоваться!', EventTypes.Error as typeof EventTypes));\r\n  if (response.error) {\r\n    return;\r\n  }\r\n\r\n  step.value = EmailChangingSteps.CodeInput;\r\n}\r\n\r\nasync function verifyOldMailCode() {\r\n  if (StringExtensions.isNullOrEmpty(oldMailVerifyingCode.value)) {\r\n    isInvalidOldMailVerifyingCode.value = true;\r\n    return;\r\n  }\r\n\r\n  const response = (await userApi.VerifyOldMailCode(oldMailVerifyingCode.value))\r\n    .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError((errorDetails) => eventStore.push(errorDetails.ErrorCode, EventTypes.Error as typeof EventTypes));\r\n  if (response.error) {\r\n    isInvalidOldMailVerifyingCode.value = true;\r\n    return;\r\n  }\r\n\r\n  updateMailToken = response.data.Token;\r\n  isInvalidOldMailVerifyingCode.value = false;\r\n  step.value = EmailChangingSteps.NewEmailInput;\r\n}\r\n\r\nasync function sendNewMailCode() {\r\n  if (!StringExtensions.validateEmail(newMail.value)) {\r\n    isInvalidNewMail.value = true;\r\n    return;\r\n  }\r\n\r\n  const response = (await userApi.SendNewMailCode(newMail.value, updateMailToken))\r\n    .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError((errorDetails) => eventStore.push(errorDetails.ErrorCode, EventTypes.Error as typeof EventTypes));\r\n\r\n  if (response.error) {\r\n    isInvalidNewMail.value = true;\r\n    return;\r\n  }\r\n\r\n  isInvalidNewMail.value = false;\r\n  step.value = EmailChangingSteps.NewMailCodeInput;\r\n}\r\n\r\nasync function verifyNewMailCode() {\r\n  if (StringExtensions.isNullOrEmpty(newMailVerifyingCode.value)) {\r\n    isInvalidNewMailVerifyingCode.value = false;\r\n    return;\r\n  }\r\n\r\n  const response = (await userApi.VerifyNewMailCode(newMail.value, newMailVerifyingCode.value, updateMailToken))\r\n    .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError((errorDetails) => eventStore.push(errorDetails.ErrorCode, EventTypes.Error as typeof EventTypes));\r\n\r\n  if (response.error) {\r\n    isInvalidNewMailVerifyingCode.value = false;\r\n    return;\r\n  }\r\n\r\n  isInvalidNewMailVerifyingCode.value = true;\r\n  user.UpdateEmail(newMail.value);\r\n  emits('on:close');\r\n}\r\n\r\nfunction onClose() {\r\n  refIsVisible.value = false;\r\n  emits('on:close');\r\n}\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _withDirectives(_createVNode(ModalWindow, { \"onOn:close\": onClose }, {\n      header: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_1, [\n          _createElementVNode(\"div\", _hoisted_2, [\n            _hoisted_3,\n            _hoisted_4,\n            _createVNode(IconButton, { onClick: onClose }, {\n              default: _withCtx(() => [\n                _createVNode(XIcon)\n              ]),\n              _: 1\n            })\n          ]),\n          _createElementVNode(\"p\", _hoisted_5, [\n            _createTextVNode(\" Подтвердите свой прошлый адрес электронной почты\"),\n            _hoisted_6,\n            _createTextVNode(\"(\" + _toDisplayString(_unref(currentEmail)) + \"), чтобы его изменить \", 1)\n          ])\n        ])\n      ]),\n      footer: _withCtx(() => [\n        _createVNode(BaseButton, {\n          variant: 'filled',\n          class: \"m-radius-8\",\n          onClick: sendOldMailCode\n        }, {\n          default: _withCtx(() => [\n            _createTextVNode(\" Отправить код подтверждения \")\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 512), [\n      [_vShow, step.value === EmailChangingSteps.SendMailCode && refIsVisible.value]\n    ]),\n    _withDirectives(_createVNode(ModalWindow, { \"onOn:close\": onClose }, {\n      header: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_7, [\n          _createElementVNode(\"div\", _hoisted_8, [\n            _createVNode(IconButton, null, {\n              default: _withCtx(() => [\n                _createVNode(NavLeftArrowIcon)\n              ]),\n              _: 1\n            }),\n            _hoisted_9,\n            _createVNode(IconButton, { onClick: onClose }, {\n              default: _withCtx(() => [\n                _createVNode(XIcon)\n              ]),\n              _: 1\n            })\n          ]),\n          _hoisted_10\n        ])\n      ]),\n      body: _withCtx(() => [\n        _createVNode(BaseInput, {\n          modelValue: oldMailVerifyingCode.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((oldMailVerifyingCode).value = $event)),\n          class: \"m-radius-8 m3-bg-2 m-border m-border-hover m-border-active\",\n          \"mark-as-invalid-input\": isInvalidOldMailVerifyingCode.value,\n          \"place-holder\": 'Код подтверждения'\n        }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"])\n      ]),\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_11, [\n          _createVNode(BaseButton, {\n            variant: 'filled',\n            class: \"m-radius-8\",\n            onClick: verifyOldMailCode\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Подтвердить \")\n            ]),\n            _: 1\n          }),\n          _createVNode(BaseButton, {\n            variant: 'outline',\n            class: \"m-radius-8\"\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Отправить еще раз \")\n            ]),\n            _: 1\n          })\n        ])\n      ]),\n      _: 1\n    }, 512), [\n      [_vShow, step.value === EmailChangingSteps.CodeInput && refIsVisible.value]\n    ]),\n    _withDirectives(_createVNode(ModalWindow, { \"onOn:close\": onClose }, {\n      header: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_12, [\n          _createElementVNode(\"div\", _hoisted_13, [\n            _hoisted_14,\n            _createVNode(IconButton, { onClick: onClose }, {\n              default: _withCtx(() => [\n                _createVNode(XIcon)\n              ]),\n              _: 1\n            })\n          ]),\n          _hoisted_15\n        ])\n      ]),\n      body: _withCtx(() => [\n        _createVNode(BaseInput, {\n          modelValue: newMail.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((newMail).value = $event)),\n          class: \"m-radius-8 m3-bg-2 m-border m-border-hover m-border-active\",\n          \"mark-as-invalid-input\": isInvalidNewMail.value,\n          \"place-holder\": 'Введите новую почту'\n        }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"])\n      ]),\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_16, [\n          _createVNode(BaseButton, {\n            variant: 'filled',\n            class: \"m-radius-8\",\n            onClick: sendNewMailCode\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Отправить \")\n            ]),\n            _: 1\n          })\n        ])\n      ]),\n      _: 1\n    }, 512), [\n      [_vShow, step.value === EmailChangingSteps.NewEmailInput && refIsVisible.value]\n    ]),\n    _withDirectives(_createVNode(ModalWindow, { \"onOn:close\": onClose }, {\n      header: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_17, [\n          _createElementVNode(\"div\", _hoisted_18, [\n            _hoisted_19,\n            _createVNode(IconButton, { onClick: onClose }, {\n              default: _withCtx(() => [\n                _createVNode(XIcon)\n              ]),\n              _: 1\n            })\n          ]),\n          _hoisted_20\n        ])\n      ]),\n      body: _withCtx(() => [\n        _createVNode(BaseInput, {\n          modelValue: newMailVerifyingCode.value,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((newMailVerifyingCode).value = $event)),\n          class: \"m-radius-8 m3-bg-2 m-border m-border-hover m-border-active\",\n          \"place-holder\": 'Код подтверждения',\n          \"mark-as-invalid-input\": isInvalidNewMailVerifyingCode.value\n        }, null, 8, [\"modelValue\", \"mark-as-invalid-input\"])\n      ]),\n      footer: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_21, [\n          _createVNode(BaseButton, {\n            variant: 'filled',\n            class: \"m-radius-8\",\n            onClick: verifyNewMailCode\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Подтвердить \")\n            ]),\n            _: 1\n          }),\n          _createVNode(BaseButton, {\n            variant: 'outline',\n            class: \"m-radius-8\"\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" Отправить еще раз \")\n            ]),\n            _: 1\n          })\n        ])\n      ]),\n      _: 1\n    }, 512), [\n      [_vShow, step.value === EmailChangingSteps.NewMailCodeInput && refIsVisible.value]\n    ])\n  ], 64))\n}\n}\n\n})","<template>\r\n  <modal-window\r\n    v-show=\"step === EmailChangingSteps.SendMailCode && refIsVisible\"\r\n    @on:close=\"onClose\"\r\n  >\r\n    <template #header>\r\n      <div class=\"column gap-16\">\r\n        <div class=\"row gap-16 v__start h__space-between\">\r\n          <div />\r\n          <p class=\"title-large\">\r\n            Шаг 1. Подтверждение адреса<br>электронной почты\r\n          </p>\r\n          <icon-button @click=\"onClose\">\r\n            <x-icon />\r\n          </icon-button>\r\n        </div>\r\n        <p class=\"body-medium\">\r\n          Подтвердите свой прошлый адрес электронной почты<br>({{ currentEmail }}), чтобы его изменить\r\n        </p>\r\n      </div>\r\n    </template>\r\n    <template #footer>\r\n      <base-button\r\n        :variant=\"'filled'\"\r\n        class=\"m-radius-8\"\r\n        @click=\"sendOldMailCode\"\r\n      >\r\n        Отправить код подтверждения\r\n      </base-button>\r\n    </template>\r\n  </modal-window>\r\n\r\n  <modal-window\r\n    v-show=\"step === EmailChangingSteps.CodeInput && refIsVisible\"\r\n    @on:close=\"onClose\"\r\n  >\r\n    <template #header>\r\n      <div class=\"column gap-16\">\r\n        <div class=\"row gap-16 v__start v__center h__space-between\">\r\n          <icon-button>\r\n            <nav-left-arrow-icon />\r\n          </icon-button>\r\n          <p class=\"title-large\">\r\n            Шаг 2. Введите код\r\n          </p>\r\n          <icon-button @click=\"onClose\">\r\n            <x-icon />\r\n          </icon-button>\r\n        </div>\r\n        <p class=\"body-medium\">\r\n          Проверьте электронную почту,<br>мы отправили вам код подтверждения\r\n        </p>\r\n      </div>\r\n    </template>\r\n    <template #body>\r\n      <base-input\r\n        v-model=\"oldMailVerifyingCode\"\r\n        class=\"m-radius-8 m3-bg-2 m-border m-border-hover m-border-active\"\r\n        :mark-as-invalid-input=\"isInvalidOldMailVerifyingCode\"\r\n        :place-holder=\"'Код подтверждения'\"\r\n      />\r\n    </template>\r\n    <template #footer>\r\n      <div class=\"column gap-8\">\r\n        <base-button\r\n          :variant=\"'filled'\"\r\n          class=\"m-radius-8\"\r\n          @click=\"verifyOldMailCode\"\r\n        >\r\n          Подтвердить\r\n        </base-button>\r\n        <base-button :variant=\"'outline'\" class=\"m-radius-8\">\r\n          Отправить еще раз\r\n        </base-button>\r\n      </div>\r\n    </template>\r\n  </modal-window>\r\n\r\n  <modal-window\r\n    v-show=\"step === EmailChangingSteps.NewEmailInput && refIsVisible\"\r\n    @on:close=\"onClose\"\r\n  >\r\n    <template #header>\r\n      <div class=\"column gap-16\">\r\n        <div class=\"row gap-16 v__start h__space-between\">\r\n          <p class=\"title-large\">\r\n            Шаг 3. Введите адрес новой<br>электронной почты\r\n          </p>\r\n          <icon-button @click=\"onClose\">\r\n            <x-icon />\r\n          </icon-button>\r\n        </div>\r\n        <p class=\"body-medium\">\r\n          Подтвердите свой новый адрес электронной<br>почты чтобы его сохранить\r\n        </p>\r\n      </div>\r\n    </template>\r\n    <template #body>\r\n      <base-input\r\n        v-model=\"newMail\"\r\n        class=\"m-radius-8 m3-bg-2 m-border m-border-hover m-border-active\"\r\n        :mark-as-invalid-input=\"isInvalidNewMail\"\r\n        :place-holder=\"'Введите новую почту'\"\r\n      />\r\n    </template>\r\n    <template #footer>\r\n      <div class=\"column gap-8\">\r\n        <base-button\r\n          :variant=\"'filled'\"\r\n          class=\"m-radius-8\"\r\n          @click=\"sendNewMailCode\"\r\n        >\r\n          Отправить\r\n        </base-button>\r\n      </div>\r\n    </template>\r\n  </modal-window>\r\n\r\n  <modal-window\r\n    v-show=\"step === EmailChangingSteps.NewMailCodeInput && refIsVisible\"\r\n    @on:close=\"onClose\"\r\n  >\r\n    <template #header>\r\n      <div class=\"column gap-16\">\r\n        <div class=\"row gap-16 v__start v__center h__space-between\">\r\n          <p class=\"title-large\">\r\n            Шаг 4. Подтверждение нового адреса<br>электронной почты\r\n          </p>\r\n          <icon-button @click=\"onClose\">\r\n            <x-icon />\r\n          </icon-button>\r\n        </div>\r\n        <p class=\"body-medium\">\r\n          Проверьте электронную почту,<br>мы отправили вам код подтверждения\r\n        </p>\r\n      </div>\r\n    </template>\r\n    <template #body>\r\n      <base-input\r\n        v-model=\"newMailVerifyingCode\"\r\n        class=\"m-radius-8 m3-bg-2 m-border m-border-hover m-border-active\"\r\n        :place-holder=\"'Код подтверждения'\"\r\n        :mark-as-invalid-input=\"isInvalidNewMailVerifyingCode\"\r\n      />\r\n    </template>\r\n    <template #footer>\r\n      <div class=\"column gap-8\">\r\n        <base-button\r\n          :variant=\"'filled'\"\r\n          class=\"m-radius-8\"\r\n          @click=\"verifyNewMailCode\"\r\n        >\r\n          Подтвердить\r\n        </base-button>\r\n        <base-button :variant=\"'outline'\" class=\"m-radius-8\">\r\n          Отправить еще раз\r\n        </base-button>\r\n      </div>\r\n    </template>\r\n  </modal-window>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport ModalWindow from \"@/components/Base/ModalWindow.vue\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport {defineEmits, inject, onMounted, ref, watch} from \"vue\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport IconButton from \"@/components/Base/Buttons/IconButton.vue\";\r\nimport FolderIcon from \"@/components/Icons/FolderIcon.vue\";\r\nimport XIcon from \"@/components/Icons/xIcon.vue\";\r\nimport NavLeftArrowIcon from \"@/components/Icons/MaterialIcons/NavLeftArrowIcon.vue\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport {useRoute, useRouter} from \"vue-router\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\n\r\nenum EmailChangingSteps {\r\n  SendMailCode = 1,\r\n  CodeInput = 2,\r\n  NewEmailInput = 3,\r\n  NewMailCodeInput = 4\r\n}\r\n\r\nconst router = useRouter();\r\nconst eventStore = ClientEventStore();\r\nconst user = userStore();\r\nconst userApi = inject<UserApi>('user-api');\r\n\r\nonMounted(async () => {\r\n  if (!user.loggedIn) {\r\n    eventStore.push('Сначала необходимо авторизоваться!', EventTypes.Error as typeof EventTypes);\r\n    await router.push('/login');\r\n  }\r\n})\r\n\r\nconst emits = defineEmits<{\r\n  (emitName: 'on:close') : void\r\n}>();\r\n\r\nconst props = defineProps({\r\n  currentEmail: {type: String, required: true},\r\n  isVisible: {type: Boolean, required: true}\r\n});\r\n\r\nconst currentEmail = user.email;\r\nconst step = ref<EmailChangingSteps>(EmailChangingSteps.SendMailCode);\r\nconst refIsVisible = ref<boolean>(props.isVisible);\r\n\r\nconst oldMailVerifyingCode = ref<string>();\r\nconst isInvalidOldMailVerifyingCode = ref<boolean>(false);\r\n\r\nconst newMail = ref<string>();\r\nconst isInvalidNewMail = ref<boolean>(false);\r\n\r\nconst newMailVerifyingCode = ref<string>();\r\nconst isInvalidNewMailVerifyingCode = ref<boolean>(false);\r\n\r\nlet updateMailToken: string = null;\r\n\r\nwatch(() => props.isVisible, (newValue: boolean) => {\r\n  refIsVisible.value = newValue;\r\n})\r\n\r\nasync function sendOldMailCode() {\r\n  const response = (await userApi.SendUpdateMailCode())\r\n    .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError(() => eventStore.push('Сначала необходимо авторизоваться!', EventTypes.Error as typeof EventTypes));\r\n  if (response.error) {\r\n    return;\r\n  }\r\n\r\n  step.value = EmailChangingSteps.CodeInput;\r\n}\r\n\r\nasync function verifyOldMailCode() {\r\n  if (StringExtensions.isNullOrEmpty(oldMailVerifyingCode.value)) {\r\n    isInvalidOldMailVerifyingCode.value = true;\r\n    return;\r\n  }\r\n\r\n  const response = (await userApi.VerifyOldMailCode(oldMailVerifyingCode.value))\r\n    .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError((errorDetails) => eventStore.push(errorDetails.ErrorCode, EventTypes.Error as typeof EventTypes));\r\n  if (response.error) {\r\n    isInvalidOldMailVerifyingCode.value = true;\r\n    return;\r\n  }\r\n\r\n  updateMailToken = response.data.Token;\r\n  isInvalidOldMailVerifyingCode.value = false;\r\n  step.value = EmailChangingSteps.NewEmailInput;\r\n}\r\n\r\nasync function sendNewMailCode() {\r\n  if (!StringExtensions.validateEmail(newMail.value)) {\r\n    isInvalidNewMail.value = true;\r\n    return;\r\n  }\r\n\r\n  const response = (await userApi.SendNewMailCode(newMail.value, updateMailToken))\r\n    .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError((errorDetails) => eventStore.push(errorDetails.ErrorCode, EventTypes.Error as typeof EventTypes));\r\n\r\n  if (response.error) {\r\n    isInvalidNewMail.value = true;\r\n    return;\r\n  }\r\n\r\n  isInvalidNewMail.value = false;\r\n  step.value = EmailChangingSteps.NewMailCodeInput;\r\n}\r\n\r\nasync function verifyNewMailCode() {\r\n  if (StringExtensions.isNullOrEmpty(newMailVerifyingCode.value)) {\r\n    isInvalidNewMailVerifyingCode.value = false;\r\n    return;\r\n  }\r\n\r\n  const response = (await userApi.VerifyNewMailCode(newMail.value, newMailVerifyingCode.value, updateMailToken))\r\n    .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError((errorDetails) => eventStore.push(errorDetails.ErrorCode, EventTypes.Error as typeof EventTypes));\r\n\r\n  if (response.error) {\r\n    isInvalidNewMailVerifyingCode.value = false;\r\n    return;\r\n  }\r\n\r\n  isInvalidNewMailVerifyingCode.value = true;\r\n  user.UpdateEmail(newMail.value);\r\n  emits('on:close');\r\n}\r\n\r\nfunction onClose() {\r\n  refIsVisible.value = false;\r\n  emits('on:close');\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import script from \"./EmailChangeModal.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./EmailChangeModal.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"24\" height=\"24\"\r\n    viewBox=\"0 0 24 24\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n      d=\"M2 12C2 6.48 6.48 2 12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12ZM10 14.17L16.59 7.58L18 9L10 17L6 13L7.41 11.59L10 14.17Z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./CheckCircleFilledIcon.vue?vue&type=template&id=9553dd1a\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <svg\r\n    width=\"24\" height=\"24\"\r\n    viewBox=\"0 0 24 24\" fill=\"none\"\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n  >\r\n    <path\r\n      fill-rule=\"evenodd\" clip-rule=\"evenodd\"\r\n      d=\"M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM11 17V15H13V17H11ZM11 7V13H13V7H11Z\"\r\n      fill=\"currentColor\"\r\n    />\r\n  </svg>\r\n</template>","import { render } from \"./WarningIcon.vue?vue&type=template&id=7215706e\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, withCtx as _withCtx, createTextVNode as _createTextVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-44c885aa\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"settings__main m-border m-radius-8 gap-16 padding-16 h__fill fit-content\" }\nconst _hoisted_2 = { class: \"settings__avatar column gap-8 fit-content\" }\nconst _hoisted_3 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"label-medium fit-content text__one-line\" }, \" Аватар \", -1))\nconst _hoisted_4 = { class: \"column gap-16 h__fill\" }\nconst _hoisted_5 = { class: \"column h__fill v__start gap-8\" }\nconst _hoisted_6 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"label-medium text__one-line\" }, \" Отображаемое имя \", -1))\nconst _hoisted_7 = { class: \"row fill h__space-between v__center gap-16\" }\nconst _hoisted_8 = {\n  key: 0,\n  class: \"row gap-8\"\n}\nconst _hoisted_9 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  style: {\"color\":\"darkgreen\"},\n  class: \"row body-medium text__one-line text__center\"\n}, \" Никнейм свободен! \", -1))\nconst _hoisted_10 = { class: \"settings__icon\" }\nconst _hoisted_11 = {\n  key: 1,\n  class: \"row gap-8\"\n}\nconst _hoisted_12 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", {\n  style: {\"color\":\"var(--error-light)\"},\n  class: \"row body-medium text__one-line text__center\"\n}, \" Никнейм занят \", -1))\nconst _hoisted_13 = { class: \"settings__icon\" }\nconst _hoisted_14 = { class: \"column h__fill v__start gap-8\" }\nconst _hoisted_15 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"p\", { class: \"label-medium text__one-line\" }, \" Электронная почта \", -1))\nconst _hoisted_16 = { class: \"row fill h__space-between v__center gap-16\" }\nconst _hoisted_17 = { class: \"row gap-16\" }\n\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport {inject, onBeforeUnmount, ref} from \"vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport AvatarComponent from \"@/components/Profile/AvatarComponent.vue\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {ErrorDetails} from \"@/api/ApiService\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\nimport EmailChangeModal from \"@/components/Modal/EmailChangeModal.vue\";\r\nimport CheckCircleFilledIcon from \"@/components/Icons/CheckCircleFilledIcon.vue\";\r\nimport WarningIcon from \"@/components/Icons/WarningIcon.vue\";\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SettingsView',\n  setup(__props) {\n\r\nconst user = userStore();\r\nconst eventStore = ClientEventStore();\r\nconst userApi = inject<UserApi>('user-api');\r\n\r\nconst nickname = ref<string>(user.nickname);\r\nconst isForceUpdateNickname = ref<boolean>(false);\r\nconst isValidAndFreeNicknameInput = ref<boolean | null>(null);\r\nlet timeoutId = null;\r\n\r\nconst isInEditEmail = ref<boolean>(false);\r\n\r\nasync function saveNewNickname() {\r\n  if (StringExtensions.isNullOrEmpty(nickname.value)) {\r\n    isValidAndFreeNicknameInput.value = false;\r\n    isForceUpdateNickname.value = false;\r\n    return;\r\n  }\r\n\r\n  (await userApi.UpdateNickname(nickname.value, isForceUpdateNickname.value))\r\n    .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError((errorDetails: ErrorDetails) => {\r\n      if (errorDetails.ErrorCode === 'NicknameAlreadyExists') {\r\n        isValidAndFreeNicknameInput.value = false;\r\n        isForceUpdateNickname.value = false;\r\n      } else if (errorDetails.ErrorCode === 'CallWithoutForceFlag') {\r\n        isForceUpdateNickname.value = true;\r\n        isValidAndFreeNicknameInput.value = true;\r\n      } else {\r\n        eventStore.push(errorDetails.Message, EventTypes.Error as typeof EventTypes)\r\n      }\r\n    });\r\n\r\n  if (!isForceUpdateNickname.value) {\r\n    return;\r\n  }\r\n\r\n  user.UpdateNickname(nickname.value);\r\n  isValidAndFreeNicknameInput.value = null;\r\n  eventStore.push('Успех! Новый никнейм сохранен!', EventTypes.Success as typeof EventTypes)\r\n}\r\n\r\nfunction handleSearch() {\r\n  clearTimeout(timeoutId);\r\n  timeoutId = setTimeout(async () => {\r\n    isForceUpdateNickname.value = false;\r\n    isValidAndFreeNicknameInput.value = undefined;\r\n    await saveNewNickname();\r\n  }, 300);\r\n}\r\n\r\nonBeforeUnmount(() => {\r\n  clearTimeout(timeoutId)\r\n});\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createBlock(BaseBackground, {\n    class: \"padding-16 fit-content\",\n    type: 2\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _hoisted_3,\n          _createVNode(AvatarComponent, {\n            style: {\"overflow\":\"hidden\"},\n            class: \"fill m-border m-radius-8 m-radius-8\",\n            src: _unref(user).imageUrl\n          }, null, 8, [\"src\"])\n        ]),\n        _createElementVNode(\"div\", _hoisted_4, [\n          _createElementVNode(\"div\", _hoisted_5, [\n            _hoisted_6,\n            _createElementVNode(\"div\", _hoisted_7, [\n              _createVNode(BaseInput, {\n                modelValue: nickname.value,\n                \"onUpdate:modelValue\": [\n                  _cache[0] || (_cache[0] = ($event: any) => ((nickname).value = $event)),\n                  _cache[1] || (_cache[1] = () => { handleSearch() })\n                ],\n                class: _normalizeClass([\"column m-border m-border-hover m-border-active m-radius-8 fit-content m3-bg-2\", {'settings__input-valid': isValidAndFreeNicknameInput.value, 'settings__input-invalid': isValidAndFreeNicknameInput.value === false}]),\n                \"place-holder\": 'Введите имя',\n                maxlength: \"20\",\n                \"input-validator\": (value) => _unref(StringExtensions).validateNickname(value)\n              }, {\n                \"end-icon\": _withCtx(() => [\n                  (isValidAndFreeNicknameInput.value === true)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                        _hoisted_9,\n                        _createElementVNode(\"div\", _hoisted_10, [\n                          _createVNode(CheckCircleFilledIcon, { style: {\"color\":\"darkgreen\"} })\n                        ])\n                      ]))\n                    : _createCommentVNode(\"\", true),\n                  (isValidAndFreeNicknameInput.value === false)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [\n                        _hoisted_12,\n                        _createElementVNode(\"div\", _hoisted_13, [\n                          _createVNode(WarningIcon, { style: {\"color\":\"var(--error-light)\"} })\n                        ])\n                      ]))\n                    : _createCommentVNode(\"\", true)\n                ]),\n                _: 1\n              }, 8, [\"modelValue\", \"class\", \"input-validator\"]),\n              _createVNode(BaseButton, {\n                class: _normalizeClass([{'settings__input-valid': isValidAndFreeNicknameInput.value }, \"m-radius-circle\"]),\n                variant: 'filled',\n                onClick: saveNewNickname\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Сохранить \")\n                ]),\n                _: 1\n              }, 8, [\"class\"])\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_14, [\n            _hoisted_15,\n            _createElementVNode(\"div\", _hoisted_16, [\n              _createVNode(BaseInput, {\n                modelValue: _unref(user).email,\n                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_unref(user).email) = $event)),\n                class: \"column m-border m-radius-8 fit-content m3-bg-2\",\n                disabled: true\n              }, null, 8, [\"modelValue\"]),\n              _createVNode(BaseButton, {\n                class: \"m-radius-circle\",\n                variant: 'filled',\n                onClick: _cache[3] || (_cache[3] = () => { isInEditEmail.value = true })\n              }, {\n                default: _withCtx(() => [\n                  _createTextVNode(\" Изменить \")\n                ]),\n                _: 1\n              }),\n              (isInEditEmail.value)\n                ? (_openBlock(), _createBlock(EmailChangeModal, {\n                    key: 0,\n                    \"current-email\": _unref(user).email,\n                    \"is-visible\": isInEditEmail.value,\n                    \"onOn:close\": _cache[4] || (_cache[4] = () => isInEditEmail.value = false)\n                  }, null, 8, [\"current-email\", \"is-visible\"]))\n                : _createCommentVNode(\"\", true)\n            ])\n          ]),\n          _createElementVNode(\"div\", _hoisted_17, [\n            _createVNode(BaseButton, {\n              class: \"m-border m-radius-circle fit-content\",\n              variant: 'filled'\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Сменить пароль \")\n              ]),\n              _: 1\n            }),\n            _createVNode(BaseButton, {\n              class: \"m-border m-radius-circle fit-content\",\n              variant: 'outline'\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(\" Удалить аккаунт \")\n              ]),\n              _: 1\n            })\n          ])\n        ])\n      ])\n    ]),\n    _: 1\n  }))\n}\n}\n\n})","<template>\r\n  <base-background class=\"padding-16 fit-content\" :type=\"2\">\r\n    <!-- USER -->\r\n    <div class=\"settings__main m-border m-radius-8 gap-16 padding-16 h__fill fit-content\">\r\n      <div class=\"settings__avatar column gap-8 fit-content\">\r\n        <p class=\"label-medium fit-content text__one-line\">\r\n          Аватар\r\n        </p>\r\n        <avatar-component\r\n          style=\"overflow: hidden;\"\r\n          class=\"fill m-border m-radius-8 m-radius-8\"\r\n          :src=\"user.imageUrl\"\r\n        />\r\n      </div>\r\n\r\n      <div class=\"column gap-16 h__fill\">\r\n        <!--USER NICKNAME-->\r\n        <div class=\"column h__fill v__start gap-8\">\r\n          <p class=\"label-medium text__one-line\">\r\n            Отображаемое имя\r\n          </p>\r\n          <div class=\"row fill h__space-between v__center gap-16\">\r\n            <base-input\r\n              v-model=\"nickname\"\r\n              class=\"column m-border m-border-hover m-border-active m-radius-8 fit-content m3-bg-2\"\r\n              :class=\"{'settings__input-valid': isValidAndFreeNicknameInput, 'settings__input-invalid': isValidAndFreeNicknameInput === false}\"\r\n              :place-holder=\"'Введите имя'\"\r\n              maxlength=\"20\"\r\n              :input-validator=\"(value: String) => StringExtensions.validateNickname(value)\"\r\n              @update:modelValue=\"() => { handleSearch() }\"\r\n            >\r\n              <template #end-icon>\r\n                <div v-if=\"isValidAndFreeNicknameInput === true\" class=\"row gap-8\">\r\n                  <p style=\"color: darkgreen;\" class=\"row body-medium text__one-line text__center\">\r\n                    Никнейм свободен!\r\n                  </p>\r\n                  <div class=\"settings__icon\">\r\n                    <check-circle-filled-icon style=\"color: darkgreen;\" />\r\n                  </div>\r\n                </div>\r\n                <div v-if=\"isValidAndFreeNicknameInput === false\" class=\"row gap-8\">\r\n                  <p style=\"color: var(--error-light);\" class=\"row body-medium text__one-line text__center\">\r\n                    Никнейм занят\r\n                  </p>\r\n                  <div class=\"settings__icon\">\r\n                    <warning-icon style=\"color: var(--error-light);\" />\r\n                  </div>\r\n                </div>\r\n              </template>\r\n            </base-input>\r\n            <base-button\r\n              :class=\"{'settings__input-valid': isValidAndFreeNicknameInput }\"\r\n              class=\"m-radius-circle\" :variant=\"'filled'\"\r\n              @click=\"saveNewNickname\"\r\n            >\r\n              Сохранить\r\n            </base-button>\r\n          </div>\r\n        </div>\r\n        <!--USER EMAIL-->\r\n        <div class=\"column h__fill v__start gap-8\">\r\n          <p class=\"label-medium text__one-line\">\r\n            Электронная почта\r\n          </p>\r\n          <div class=\"row fill h__space-between v__center gap-16\">\r\n            <base-input\r\n              v-model=\"user.email\"\r\n              class=\"column m-border  m-radius-8 fit-content m3-bg-2\"\r\n              :disabled=\"true\"\r\n            />\r\n\r\n            <base-button\r\n              class=\"m-radius-circle\" :variant=\"'filled'\"\r\n              @click=\"() => { isInEditEmail = true }\"\r\n            >\r\n              Изменить\r\n            </base-button>\r\n            <email-change-modal\r\n              v-if=\"isInEditEmail\"\r\n              :current-email=\"user.email\"\r\n              :is-visible=\"isInEditEmail\"\r\n              @on:close=\"() => isInEditEmail = false\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"row gap-16\">\r\n          <base-button class=\"m-border m-radius-circle fit-content\" :variant=\"'filled'\">\r\n            Сменить пароль\r\n          </base-button>\r\n          <base-button class=\"m-border m-radius-circle fit-content\" :variant=\"'outline'\">\r\n            Удалить аккаунт\r\n          </base-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- ELSE USER SETTINGS -->\r\n  </base-background>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport BaseBackground from \"@/components/Base/BaseBackground.vue\";\r\nimport BaseInput from \"@/components/Base/BaseInput.vue\";\r\nimport {userStore} from \"@/store/UserStore\";\r\nimport {inject, onBeforeUnmount, ref} from \"vue\";\r\nimport BaseButton from \"@/components/Base/BaseButton.vue\";\r\nimport AvatarComponent from \"@/components/Profile/AvatarComponent.vue\";\r\nimport {UserApi} from \"@/api/UserApi\";\r\nimport {ClientEventStore, EventTypes} from \"@/store/ClientEventStore\";\r\nimport {ErrorDetails} from \"@/api/ApiService\";\r\nimport {StringExtensions} from \"@/helpers/StringExtensions\";\r\nimport EmailChangeModal from \"@/components/Modal/EmailChangeModal.vue\";\r\nimport CheckCircleFilledIcon from \"@/components/Icons/CheckCircleFilledIcon.vue\";\r\nimport WarningIcon from \"@/components/Icons/WarningIcon.vue\";\r\n\r\nconst user = userStore();\r\nconst eventStore = ClientEventStore();\r\nconst userApi = inject<UserApi>('user-api');\r\n\r\nconst nickname = ref<string>(user.nickname);\r\nconst isForceUpdateNickname = ref<boolean>(false);\r\nconst isValidAndFreeNicknameInput = ref<boolean | null>(null);\r\nlet timeoutId = null;\r\n\r\nconst isInEditEmail = ref<boolean>(false);\r\n\r\nasync function saveNewNickname() {\r\n  if (StringExtensions.isNullOrEmpty(nickname.value)) {\r\n    isValidAndFreeNicknameInput.value = false;\r\n    isForceUpdateNickname.value = false;\r\n    return;\r\n  }\r\n\r\n  (await userApi.UpdateNickname(nickname.value, isForceUpdateNickname.value))\r\n    .onException(() => eventStore.push('Что-то пошло не так! Ошибка сервера!', EventTypes.Error as typeof EventTypes))\r\n    .onBusinessError((errorDetails: ErrorDetails) => {\r\n      if (errorDetails.ErrorCode === 'NicknameAlreadyExists') {\r\n        isValidAndFreeNicknameInput.value = false;\r\n        isForceUpdateNickname.value = false;\r\n      } else if (errorDetails.ErrorCode === 'CallWithoutForceFlag') {\r\n        isForceUpdateNickname.value = true;\r\n        isValidAndFreeNicknameInput.value = true;\r\n      } else {\r\n        eventStore.push(errorDetails.Message, EventTypes.Error as typeof EventTypes)\r\n      }\r\n    });\r\n\r\n  if (!isForceUpdateNickname.value) {\r\n    return;\r\n  }\r\n\r\n  user.UpdateNickname(nickname.value);\r\n  isValidAndFreeNicknameInput.value = null;\r\n  eventStore.push('Успех! Новый никнейм сохранен!', EventTypes.Success as typeof EventTypes)\r\n}\r\n\r\nfunction handleSearch() {\r\n  clearTimeout(timeoutId);\r\n  timeoutId = setTimeout(async () => {\r\n    isForceUpdateNickname.value = false;\r\n    isValidAndFreeNicknameInput.value = undefined;\r\n    await saveNewNickname();\r\n  }, 300);\r\n}\r\n\r\nonBeforeUnmount(() => {\r\n  clearTimeout(timeoutId)\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.settings {\r\n  @media (min-width: 0px) {\r\n    &__main {\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n  }\r\n  @media (min-width: 720px) {\r\n    &__main {\r\n      display: flex;\r\n      flex-direction: row;\r\n    }\r\n  }\r\n\r\n\r\n  &__avatar {\r\n    display: flex;\r\n    flex-direction: column;\r\n    overflow: hidden;\r\n    width: 255px;\r\n  }\r\n\r\n  &__icon {\r\n    display: flex;\r\n    height: 40px;\r\n    width: 40px;\r\n    min-height: 40px;\r\n    min-width: 40px;\r\n    user-select: none;\r\n\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  &__input-valid {\r\n    border: 1px green solid;\r\n  }\r\n  &__input-invalid {\r\n    border: 1px red solid;\r\n  }\r\n}\r\n</style>","import script from \"./SettingsView.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SettingsView.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SettingsView.vue?vue&type=style&index=0&id=44c885aa&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-44c885aa\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\r\nimport HomeView from '../views/HomeView.vue'\r\nimport SearchView from '../views/SearchView.vue'\r\nimport ProfileView from \"@/views/ProfileView.vue\";\r\nimport LogInView from \"@/views/LogInView.vue\";\r\nimport RegistrationView from \"@/views/RegistrationView.vue\";\r\nimport TheaterView from \"@/views/TheaterView.vue\";\r\nimport RestorePasswordView from \"@/views/RestorePasswordView.vue\";\r\nimport EpisodeView from \"@/views/EpisodeView.vue\";\r\nimport EditsView from \"@/views/EditsView.vue\";\r\nimport SettingsView from \"@/views/SettingsView.vue\";\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'main',\r\n    component: HomeView\r\n  },\r\n  {\r\n    path: '/search',\r\n    name: 'Поиск',\r\n    component: SearchView\r\n  },\r\n  {\r\n    path: '/profile',\r\n    name: 'Профиль',\r\n    component: ProfileView\r\n  },\r\n  {\r\n    path: '/settings',\r\n    name: 'Настройки',\r\n    component: SettingsView\r\n  },\r\n  {\r\n    path: '/login',\r\n    name: 'Вход',\r\n    component: LogInView,\r\n  },\r\n  {\r\n    path: '/reg',\r\n    name: 'Регистрация',\r\n    component: RegistrationView\r\n  },\r\n  {\r\n    path: '/restore',\r\n    name: 'Восстановление пароля',\r\n    component: RestorePasswordView,\r\n  },\r\n  {\r\n    name: 'theater',\r\n    path: '/theater/:id',\r\n    component: TheaterView,\r\n  },\r\n  {\r\n    name: \"episode\",\r\n    path: '/episode/:content/:episode/:translation(\\\\d+)*',\r\n    component: EpisodeView,\r\n  },\r\n  {\r\n    name: \"edit\",\r\n    path: \"/edit\",\r\n    component: EditsView,\r\n    children: [\r\n      {\r\n        name: \"edit-list\",\r\n        path: \"/edit/list\",\r\n        component: EditsView,\r\n      },\r\n      {\r\n        name: \"edit-content\",\r\n        path: \"/edit/content/:content(\\\\d+)\",\r\n        component: EditsView,\r\n      },\r\n      {\r\n        name: \"create-content\",\r\n        path: \"/edit/content\",\r\n        component: EditsView,\r\n      },\r\n      {\r\n        name: \"edit-episode\",\r\n        path: \"/edit/episode/:content(\\\\d+)/:episode(\\\\d+)\",\r\n        component: EditsView,\r\n      },\r\n      {\r\n        name: \"edit-episode\",\r\n        path: \"/edit/episode/:content(\\\\d+)\",\r\n        component: EditsView,\r\n      },\r\n      {\r\n        name: \"create-episode\",\r\n        path: \"/edit/episode\",\r\n        component: EditsView,\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(process.env.BASE_URL),\r\n  routes,\r\n  linkActiveClass: \"\",\r\n  linkExactActiveClass: \"\"\r\n})\r\n\r\nexport default router\r\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport {createPinia} from \"pinia\";\r\n\r\nconst pinia = createPinia();\r\n\r\ncreateApp(App).use(pinia).use(router).mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkkapace_testing\"] = self[\"webpackChunkkapace_testing\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8985); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","ApiService","constructor","servicePath","_defineProperty","process","console","log","this","hostPath","baseFetch","requestBody","handlerPath","headers","path","requestHeaders","Headers","set","fetch","method","credentials","body","undefined","JSON","stringify","CallHandler","response","then","json","CallHandlerV2","exception","Path","Request","Response","apiResponse","onException","callback","onBusinessError","status","model","ErrorCode","Message","ErrorDetails","Map","contentLength","get","data","error","CallHandlerAsync","request","fetchV2","CallPostHandlerAsync","CallHandlerByFormDataAsync","formData","result","catch","isErrorDetails","TranslationService","super","V1GetByEpisodeAsync","_hoisted_1","key","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_defineComponent","__name","props","buttonType","type","Number","default","variant","String","validator","value","some","x","setup","__props","_ctx","_cache","_openBlock","_createElementBlock","_renderSlot","$slots","_createCommentVNode","__exports__","render","height","required","menuAlign","isActive","ref","onDropClick","onDragLeave","style","_normalizeStyle","onClick","_normalizeClass","width","viewBox","fill","xmlns","_createElementVNode","cx","cy","r","stroke","d","userStore","defineStore","state","savedState","localStorage","getItem","parse","userId","nickname","roles","loggedIn","imageUrl","email","actions","LogIn","setItem","$state","LogOut","removeItem","UpdateNickname","newNickname","UpdateEmail","newEmail","text","enableTextIcon","Boolean","enableMenuIcon","_toDisplayString","MenuAlignment","modelValue","title","label","buttonBorder","buttonBackground","markAsInvalidInput","isDisabled","selectableValues","Array","menuAlignment","Right","isDropped","emits","emit","__emit","_useCssVars","background","titleRef","length","isDroppedRef","clickOnHeader","clickOnMenu","selectFilter","getMenuAlignmentClasses","Left","watch","newValue","dropMenu","_createVNode","FilterChips","$event","_withCtx","MaterialDropArrow","_","_withDirectives","_Fragment","_renderList","_vShow","name","_withScopeId","n","_pushScopeId","_popScopeId","src","_imports_0","alt","_hoisted_6","_hoisted_7","store","router","useRouter","isHeadersMenuDropped","selectedMenu","menuValues","screenWidth","window","innerWidth","isMobile","computed","handleResize","selectMenuHandler","push","onMounted","addEventListener","onBeforeUnmount","removeEventListener","_component_router_link","_resolveComponent","BaseSelector","_unref","header","BaseButton","MenuIcon","_createTextVNode","to","BaseDropMenu","menu","BaseBackground","UserIcon","DetailsIcon","LogOutIcon","BaseTextButton","MainPageType","ContentSelectedInfo","V1GetFullContentRequest","contentId","selectedInfo","ContentService","V1GetMainPageContentAsync","mainPageTypes","LastCreated","PopularForTwoWeeks","LastUpdated","limit","offset","V1GetById","ContentGenres","UserInfo","Episodes","V1GetByQuery","searchBy","searchInput","Search","incrementViews","ContentId","ImageService","insertImage","historyId","image","FormData","append","toString","getImageLink","imageId","ChangesHistoryService","createContentChange","createEpisodeChange","getChangesComparisons","approve","HistoryId","UserId","EpisodeService","query","episodeId","EpisodeId","V1EpisodeQueryRequest","TranslatorService","EventTypes","Info","Warning","Success","ClientEventStore","events","eventType","isVisible","isFading","isMouseInside","showDivTemporarily","setTimeout","mouseEnter","mouseLeave","_withModifiers","onMouseenter","onMouseleave","onMousedown","onMouseover","GenreService","Query","UserApi","logIn","password","isRememberMe","Email","Password","IsRememberMe","requestJson","url","getCurrent","registration","sendPasswordResetCode","verifyPasswordResetCode","Code","resetPassword","newPassword","passwordResetTemporaryToken","NewPassword","isForce","NewNickname","IsForce","SendUpdateMailCode","VerifyOldMailCode","inputCode","SendNewMailCode","newMail","authToken","NewMail","VerifyNewMailCode","sendMailVerifyCode","authTempToken","verifyRegistrationCode","verifyCode","VerificationCode","FavoriteApi","ContentIds","EpisodeIds","Limit","Offset","getList","Status","setStatus","setStars","stars","Stars","setEpisode","provide","clientEventStore","OptionsApi","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","content","removeDuplicates","arr","Set","imageService","inject","imageLink","ImageId","Id","_createBlock","params","MinAge","SeriesCounter","Translates","lang","Title","onError","require","Description","Genres","HIDE_USER_ACTIVITIES","FavoriteIcon","Country","Null","Korea","Japan","China","SearchContentFactory","mapToViewModel","description","Content","ReleasedAt","moment","Date","format","EngTitle","OriginTitle","join","MinAgeLimit","OutSeries","PlannedSeries","getContentViewModel","seriesCounter","Translations","Language","Name","contents","SearchItem","eventStore","contentService","getMainPageTypeTitle","pageType","getContentKeys","PageContent","async","pageTypeKey","index","ScrollContentComponent","ContentsInfo","V1GetByQueryRequest","V1GetByQuerySearchFilters","None","ContentType","Film","Documentary","Serial","Show","ContentTypeRu","mapContentTypeToRuStr","contentType","ContentStatus","Announced","Ongoing","Stopped","Finished","ContentStatusRu","mapContentStatusToRuStr","FilterTypes","SearchInput","FilterUnitModel","selectedValue","isMenuDropped","placeHolder","disabled","inputValidator","Function","refValue","lastValidValue","onInput","_mergeProps","$attrs","placeholder","target","_vModelDynamic","input","values","isInvalid","showLoopIcon","callUpdaterDelay","textInput","dropMenuTimeout","onChangeInput","clearTimeout","onSelectValue","searchByContentInput","dropMenuAction","cleanInputButton","BaseInput","onKeyup","onKeydown","_withKeys","IconButton","XIcon","LoopIcon","filterByDefault","typeFilters","statusFilters","countryFilters","filtersV2","searchSelectableValues","searchSelectableValuesModels","isSearchMenuDropped","initPageContent","isDataReady","searchByInput","newInput","isSelected","selectedContent","find","c","search","addFilters","SelectedInfo","Filters","ContentStatuses","GetArrayByFilterType","ContentTypes","Countries","filterType","filter","forEach","filterKey","selectedFilter","isEnabled","clickFilterDropMenu","getFilterSelectableValues","f","PressSearchEnter","AsyncSearchSelector","tag","createdAt","role","FavoriteStatuses","Stash","Loved","Planned","Watching","Paused","Dropped","FavoriteStatus","getFavoritesStatusKeyByValue","defaultFavoriteStatus","currentUser","userApi","favoritesApi","favoriteSelectedCategory","isFavoritesMenuDropped","favoritesAllCategory","favoritesWatchingCategory","userNickname","userCreatedAt","userRoles","userEmail","userImageUrl","userFavorites","formatter","Intl","DateTimeFormat","hour","minute","selectedFavoritesStatus","selectedStatus","getDateStr","dateNum","date","toLocaleDateString","loadFavorites","favorites","Favorites","loadCurrentUser","userResponse","errorDetails","user","User","Nickname","CreatedAt","Roles","Alias","AvatarComponent","ProfileMenu","favorite","StarIcon","StringExtensions","isNullOrEmpty","trim","validateEmail","emailRegex","test","validateAlphanumeric","alphanumericRegex","validateNickname","allowedSymbols","char","isLetter","isDigit","isSymbol","has","isShowPassword","isLoginInputInvalid","isPasswordInputInvalid","loginInput","passwordInput","logInClick","wrongInputErrorStr","defaultErrorStr","IsInputsValid","ImageUrl","Eye","EyeCross","_vModelCheckbox","currentEmail","userToken","refIsVisible","verificationCode","isInvalidVerifyingCode","onClose","ModalWindow","footer","isNicknameInputInvalid","nicknameInput","isEmailInputInvalid","emailInput","firstPasswordInput","secondPasswordInput","emailVerificationIsVisible","registrationButtonAction","regResponse","Token","EmailVerificationModal","localSelected","details","isFavorite","isInFavorite","otherTitles","otherTitleStr","HeartSVG","Type","genre","ALL_FILTER","Order","EpisodeOrderType","mapToEpisodeOrderType","ByNumber","ByNumberDescending","ByViews","ByStars","mapToEpisodes","episode","Views","HasTranslations","mapToTranslators","unknownTranslatorName","translator","TranslatorId","episodes","episodesTotalCount","translators","selectedTranslatorId","sortBy","episodesRef","translatorFilter","orderByFilter","selectableTranslators","sort","episodeTranslation","Star","V1GetByEpisodeRequest","OrderBy","months","route","useRoute","translationService","startWatchEpisodeId","tags","episodeTranslations","episodesListParams","isInFavorites","userFavoriteStatus","heartOnClick","addToFavorites","favoriteStatusStr","favoriteStatus","updateEpisodesList","translatorId","Translators","getFirstEpisodeIdOrDefault","defaultValue","loadUserFavorites","userContentFavorite","getTagsFromDetails","hoursStr","Math","floor","Duration","minStr","formattedDuration","resultMap","updatedAtDate","LastUpdateAt","day","month","createdAtDate","TheaterAvatar","TheaterDetails","TranslationsListComponentV2","PasswordResetScope","passwordResetScope","EmailSend","codeInput","isCodeInputInvalid","passwordInputV2","isPasswordInputV2Invalid","EmailCode","verifyPasswordResetCodeClick","PasswordInputs","resetPasswordClick","translationId","translation","episodeService","dataIsReady","translations","previousEpisode","currentEpisode","nextEpisode","selectedTranslation","isSelectedVideoLinkValid","SetContents","filters","contentsResponse","message","translationsRequest","getCurrentEpisodeTranslation","orderedEpisodes","validateVideoLink","Link","mode","resp","ok","pathTranslationId","episodesWithTranslations","selectedTranslator","frameborder","allow","allowfullscreen","NavLeftArrowIcon","NavRightArrowIcon","SettingsPageTypes","current","refCurrent","Edits","FolderIcon","EditContent","CreateContent","AddNote","EditEpisode","CreateEpisode","AddLibraryIcon","onChange","refModel","_vModelText","refModelValue","$emit","_createStaticVNode","event","URL","createObjectURL","files","UploadArrow","accept","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","showEngTitleInputField","showOriginTitleInputField","changesHistoryService","genreService","currentUserStore","currentImage","currentImageUrl","engTitle","originalTitle","country","contentStatus","genres","duration","releasedAt","plannedSeries","minAge","channel","formatDate","getMonth","getDate","year","getFullYear","minTwoDigits","trunc","isMarkAsInvalidRequiredProperties","genreInput","genresQuery","genreSelectableValues","g","isGenresMenuDropped","onChangeGenreInput","isAlreadySelected","genreName","GenreIds","Names","deleteSelectedGenre","durationInMinutes","split","hours","parseInt","minutes","onClickInsertContent","Channel","OriginalTitle","IsAllRequiredPropertiesValid","ChangeableFields","CreatedBy","updateImage","isValidString","isValid","markAsInvalid","BaseImageInput","BaseTextArea","TimePicker","YearPicker","TranslationType","Original","Subtitles","AutoSubtitles","VoiceActing","Korean","Chinese","Japanese","Russian","English","VideoQuality","changesHistoryApi","contentApi","episodesApi","translatorApi","contentInfo","searchContentListV2","contentSelectedTitle","contentInput","episodesQuery","episodeSelectedTitle","episodeSelectableValues","contentIsInvalid","isContentsMenuDropped","episodeIsInvalid","translatorsList","translatorSelectableValues","translatorInput","translatorSelectedTitle","isTranslatorsMenuDropped","translationType","translationTypeIsInvalid","translationTypeSelectableValues","quality","language","languageIsInvalid","languageSelectableValues","videoLink","userInputVideo","videoScriptIsInvalid","getVideoLink","getVideoLinkFromUserInput","startsWith","endsWith","parser","DOMParser","doc","parseFromString","documentElement","querySelector","tryGetFirstLink","getElementsByTagName","userInput","res","match","onClickUpsertEpisode","languageType","translationTypeValue","qualityNumber","VideoScript","TranslatorName","Quality","onChangeContentInput","episodesRequest","ep","foundContents","Units","onChangeTranslatorInput","translatorsResponse","TranslatorIds","HistoryType","Episode","HistoryChangesOrderType","Unspecified","ById","ByName","ByCreated","ByCreatedDescending","searchSelectableValueModels","contentIds","orderBy","historyType","isMy","changes","updatePage","addOffset","Approved","getApprovedStatus","CreatedByIds","HistoryTypes","getHistoryTypes","getOrderByType","Ids","TargetIds","Changes","filterStatus","selectedOrder","clickOnMineFilter","approveClick","unit","change","ApprovedAt","now","ApprovedBy","getVideoLinkByChangesComparisons","units","FieldsComparisons","NewValue","pressEnterSearch","foundedContents","UserIconOutlined","MarkIcon","TargetId","fieldComparison","OldValue","selectedPage","choosePage","fullPath","includes","SettingsNavigation","EditListComponent","ContentEditorComponent","EpisodeEditorComponent","EmailChangingSteps","step","SendMailCode","oldMailVerifyingCode","isInvalidOldMailVerifyingCode","isInvalidNewMail","newMailVerifyingCode","isInvalidNewMailVerifyingCode","updateMailToken","sendOldMailCode","CodeInput","verifyOldMailCode","NewEmailInput","sendNewMailCode","NewMailCodeInput","verifyNewMailCode","isForceUpdateNickname","isValidAndFreeNicknameInput","timeoutId","isInEditEmail","saveNewNickname","handleSearch","maxlength","CheckCircleFilledIcon","WarningIcon","EmailChangeModal","routes","component","HomeView","SearchView","ProfileView","SettingsView","LogInView","RegistrationView","RestorePasswordView","TheaterView","EpisodeView","EditsView","children","createRouter","history","createWebHistory","linkActiveClass","linkExactActiveClass","pinia","createPinia","createApp","App","use","mount","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","getter","__esModule","a","definition","defineProperty","enumerable","globalThis","obj","prop","prototype","hasOwnProperty","nmd","paths","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}